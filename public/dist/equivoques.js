!function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=131)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(33))&&o.__esModule?o:{default:o},a={ajax:function(t){return new i.default(function(n,e){var o=t.method,i=t.url,a=t.data,s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status?n(s.responseText):e(Error(s.statusText)))},s.open(o,i,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","text/json, text/html"),s.setRequestHeader("Cache-Control","public, max-age=86400, must-revalidate"),a?(s.setRequestHeader("Content-type","application/json"),s.send(a)):s.send()})},checkRole:function(){return a.ajax({method:"GET",url:"/users/currentuser"}).then(function(t){var n=JSON.parse(t).user;return new i.default(function(t,e){n&&!0===n.admin?t(n):e(Error("error"))})})},activeLink:function(){for(var t=document.querySelector("#navigation").querySelectorAll("a"),n=0;n<t.length;n++)"header-home-link"===t[n].id||"menu-home-link"===t[n].id?a.addClass("#"+t[n].id,"active"):"last-link"===t[n].id||"menu-last-link"===t[n].id?""===location.hash||"#/"===location.hash?a.addClass("#"+t[n].id,"active"):a.removeClass("#"+t[n].id,"active"):"authors-link"===t[n].id||"menu-authors-link"===t[n].id?location.hash.match(/#\/authors/)?a.addClass("#"+t[n].id,"active"):a.removeClass("#"+t[n].id,"active"):(location.href===t[n].href?a.addClass("#"+t[n].id,"active"):a.removeClass("#"+t[n].id,"active"),location.hash.match(/#\/admin/)&&(t[n].href.match(/#\/admin/)?a.addClass("#"+t[n].id,"active"):a.removeClass("#"+t[n].id,"active")));if(document.querySelector("#admin-nav-bar-top"))for(var e=document.querySelector("#admin-nav-bar-top").querySelectorAll("a"),o=0;o<e.length;o++)location.href===e[o].href?a.addClass("#"+e[o].id,"active"):a.removeClass("#"+e[o].id,"active"),location.hash.match(/#\/admin\/books\//)?e[o].href.match(/#\/admin\/books\//)?a.addClass("#"+e[o].id,"active"):a.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/authors\//)?e[o].href.match(/#\/admin\/authors\//)?a.addClass("#"+e[o].id,"active"):a.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/users\//)?e[o].href.match(/#\/admin\/users\//)?a.addClass("#"+e[o].id,"active"):a.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/.+/)&&("#/admin/"===e[o].hash?a.addClass("#"+e[o].id,"active"):a.removeClass("#"+e[o].id,"active"))},setHTML:function(t,n){var e=document.querySelectorAll(t);if(e)for(var o=0;o<e.length;o++)e[o].innerHTML=n||""},bind:function(t,n,e){var o=void 0;o=e?t.querySelectorAll("[data-utils-bind]."+e):t.querySelectorAll("[data-utils-bind]");for(var i=0;i<o.length;i++){var a=[],s=[],r=o[i].getAttribute("data-utils-bind");r.match(/{{[^{]+}}/g)&&(a=r.match(/{{[^{]+}}/g));for(var l=0;l<a.length;l++){var c=a[l].replace(/({|})/g,"").trim();s.push(c);var u=new RegExp(a[l],"g");r=n[c]?r.replace(u,n[c]):r.replace(u,"")}"INPUT"===o[i].nodeName||"TEXTAREA"===o[i].nodeName?o[i].value=r:o[i].innerHTML=r}},addClass:function(t,n){var e=[];t.nodeName?e.push(t):e=document.querySelectorAll(t);for(var o=void 0,i=0;i<e.length;i++)o=n,-1==e[i].className.split(" ").indexOf(o)&&(e[i].className+=" "+n)},removeClass:function(t,n){var e=[];t.nodeName?e.push(t):e=document.querySelectorAll(t);for(var o=0;o<e.length;o++){var i=new RegExp(n,"g");e[o].className=e[o].className.replace(i,"")}},replaceLines:function(t){return t.replace(/\n/g,"<br>")}};n.default=a},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(7),e(3),e(106),e(30),e(105),e(104),e(29),e(10),e(24),e(28),e(27),e(103),e(26),e(4),e(25),e(102),e(14)],void 0===(i=function(t,n,e,o,i,s,r,l,c,u,p,d,h,b,f,m,g){var v=function t(n,e){return new t.fn.init(n,e)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(t){var n=!!t&&"length"in t&&t.length,e=g(t);return!b(t)&&!f(t)&&("array"===e||0===n||"number"==typeof n&&n>0&&n-1 in t)}return v.fn=v.prototype={jquery:"3.3.1",constructor:v,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=v.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return v.each(this,t)},map:function(t){return this.pushStack(v.map(this,function(n,e){return t.call(n,e,n)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var n=this.length,e=+t+(t<0?n:0);return this.pushStack(e>=0&&e<n?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},v.extend=v.fn.extend=function(){var t,n,e,o,i,s,r=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[l]||{},l++),"object"===(void 0===r?"undefined":a(r))||b(r)||(r={}),l===c&&(r=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(n in t)e=r[n],r!==(o=t[n])&&(u&&o&&(v.isPlainObject(o)||(i=Array.isArray(o)))?(i?(i=!1,s=e&&Array.isArray(e)?e:[]):s=e&&v.isPlainObject(e)?e:{},r[n]=v.extend(u,s,o)):void 0!==o&&(r[n]=o));return r},v.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,o;return!(!t||"[object Object]"!==c.call(t)||(n=e(t))&&("function"!=typeof(o=u.call(n,"constructor")&&n.constructor)||p.call(o)!==d))},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t){m(t)},each:function(t,n){var e,o=0;if(k(t))for(e=t.length;o<e&&!1!==n.call(t[o],o,t[o]);o++);else for(o in t)if(!1===n.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(y,"")},makeArray:function(t,n){var e=n||[];return null!=t&&(k(Object(t))?v.merge(e,"string"==typeof t?[t]:t):s.call(e,t)),e},inArray:function(t,n,e){return null==n?-1:r.call(n,t,e)},merge:function(t,n){for(var e=+n.length,o=0,i=t.length;o<e;o++)t[i++]=n[o];return t.length=i,t},grep:function(t,n,e){for(var o=[],i=0,a=t.length,s=!e;i<a;i++)!n(t[i],i)!==s&&o.push(t[i]);return o},map:function(t,n,e){var o,a,s=0,r=[];if(k(t))for(o=t.length;s<o;s++)null!=(a=n(t[s],s,e))&&r.push(a);else for(s in t)null!=(a=n(t[s],s,e))&&r.push(a);return i.apply([],r)},guid:1,support:h}),"function"==typeof Symbol&&(v.fn[Symbol.iterator]=t[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){l["[object "+n+"]"]=n.toLowerCase()}),v}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={store:{},setData:function(t,n){o.store[t]=n},pushData:function(t,n){o[t]?o[t].push(n):o.store[t]=n},getData:function(t,n){if(t&&n){for(var e=o.store[t],i=n,a=void 0,s=0;s<e.length;s++)if(e[s].id===i){a=e[s];break}return a}return t&&!n?o.store[t]:t||n?void 0:o.store}};n.default=o},function(t,n,e){"use strict";var o;void 0===(o=function(){return window.document}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t){return"function"==typeof t&&"number"!=typeof t.nodeType}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=e(32);function a(){}var s=null,r={};function l(t){if("object"!==o(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==a&&b(t,this)}function c(t,n){for(;3===t._83;)t=t._18;if(l._47&&l._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=n)):1===t._75?(t._75=2,void(t._38=[t._38,n])):void t._38.push(n);!function(t,n){i(function(){var e=1===t._83?n.onFulfilled:n.onRejected;if(null!==e){var o=function(t,n){try{return t(n)}catch(t){return s=t,r}}(e,t._18);o===r?p(n.promise,s):u(n.promise,o)}else 1===t._83?u(n.promise,t._18):p(n.promise,t._18)})}(t,n)}function u(t,n){if(n===t)return p(t,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"===(void 0===n?"undefined":o(n))||"function"==typeof n)){var e=function(t){try{return t.then}catch(t){return s=t,r}}(n);if(e===r)return p(t,s);if(e===t.then&&n instanceof l)return t._83=3,t._18=n,void d(t);if("function"==typeof e)return void b(e.bind(n),t)}t._83=1,t._18=n,d(t)}function p(t,n){t._83=2,t._18=n,l._71&&l._71(t,n),d(t)}function d(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var n=0;n<t._38.length;n++)c(t,t._38[n]);t._38=null}}function h(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function b(t,n){var e=!1,o=function(t,n,e){try{t(n,e)}catch(t){return s=t,r}}(t,function(t){e||(e=!0,u(n,t))},function(t){e||(e=!0,p(n,t))});e||o!==r||(e=!0,p(n,s))}t.exports=l,l._47=null,l._71=null,l._44=a,l.prototype.then=function(t,n){if(this.constructor!==l)return function(t,n,e){return new t.constructor(function(o,i){var s=new l(a);s.then(o,i),c(t,new h(n,e,s))})}(this,t,n);var e=new l(a);return c(this,new h(t,n,e)),e}},function(t,n,e){"use strict";var o,i;o=[e(97)],void 0===(i=function(){}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return[]}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,i,a={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),r=function(t){var n={};return function(t){if("function"==typeof t)return t();if(void 0===n[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),l=null,c=0,u=[],p=e(118);function d(t,n){for(var e=0;e<t.length;e++){var o=t[e],i=a[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(v(o.parts[s],n))}else{var r=[];for(s=0;s<o.parts.length;s++)r.push(v(o.parts[s],n));a[o.id]={id:o.id,refs:1,parts:r}}}}function h(t,n){for(var e=[],o={},i=0;i<t.length;i++){var a=t[i],s=n.base?a[0]+n.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};o[s]?o[s].parts.push(r):e.push(o[s]={id:s,parts:[r]})}return e}function b(t,n){var e=r(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===t.insertAt)o?o.nextSibling?e.insertBefore(n,o.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),u.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=u.indexOf(t);n>=0&&u.splice(n,1)}function m(t){var n=document.createElement("style");return t.attrs.type="text/css",g(n,t.attrs),b(t,n),n}function g(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function v(t,n){var e,o,i,a;if(n.transform&&t.css){if(!(a=n.transform(t.css)))return function(){};t.css=a}if(n.singleton){var s=c++;e=l||(l=m(n)),o=_.bind(null,e,s,!1),i=_.bind(null,e,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(n,t.attrs),b(t,n),n}(n),o=function(t,n,e){var o=e.css,i=e.sourceMap,a=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||a)&&(o=p(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([o],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,e,n),i=function(){f(e),e.href&&URL.revokeObjectURL(e.href)}):(e=m(n),o=function(t,n){var e=n.css,o=n.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),i=function(){f(e)});return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else i()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=h(t,n);return d(e,n),function(t){for(var o=[],i=0;i<e.length;i++){var s=e[i];(r=a[s.id]).refs--,o.push(r)}for(t&&d(h(t,n),n),i=0;i<o.length;i++){var r;if(0===(r=o[i]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var y,k=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function _(t,n,e,o){var i=e?"":o.css;if(t.styleSheet)t.styleSheet.cssText=k(n,i);else{var a=document.createTextNode(i),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(a,s[n]):t.appendChild(a)}}},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e,o=t[1]||"",i=t[3];if(!i)return o;if(n&&"function"==typeof btoa){var a=(e=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[o].concat(s).concat([a]).join("\n")}return[o].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&o[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),n.push(s))}},n}},function(t,n,e){"use strict";var o;void 0===(o=function(){return{}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(3),e(22),e(26)],void 0===(i=function(t,n,e,o){return function(){function i(){if(d){p.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",e.appendChild(p).appendChild(d);var t=window.getComputedStyle(d);s="1%"!==t.top,u=12===a(t.marginLeft),d.style.right="60%",c=36===a(t.right),r=36===a(t.width),d.style.position="absolute",l=36===d.offsetWidth||"absolute",e.removeChild(p),d=null}}function a(t){return Math.round(parseFloat(t))}var s,r,l,c,u,p=n.createElement("div"),d=n.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===d.style.backgroundClip,t.extend(o,{boxSizingReliable:function(){return i(),r},pixelBoxStyles:function(){return i(),c},pixelPosition:function(){return i(),s},reliableMarginLeft:function(){return i(),u},scrollboxSize:function(){return i(),l}}))}(),o}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(12)],void 0===(i=function(t){return new RegExp("^("+t+")(?!px)[a-z%]+$","i")}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(10),e(24)],void 0===(i=function(t,n){return function(e){return null==e?e+"":"object"===(void 0===e?"undefined":a(e))||"function"==typeof e?t[n.call(e)]||"object":void 0===e?"undefined":a(e)}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i,a,s,r,l;o="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=void 0!==t&&t.exports,a="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,s=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=0,i=n.length,a={};e<i;e++)if((t=n[e])&&t[1]in o){for(e=0;e<t.length;e++)a[n[0][e]]=t[e];return a}return!1}(),r={change:s.fullscreenchange,error:s.fullscreenerror},l={request:function(t){var n=s.requestFullscreen;t=t||o.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](a&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){o[s.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var e=r[t];e&&o.addEventListener(e,n,!1)},off:function(t,n){var e=r[t];e&&o.removeEventListener(e,n,!1)},raw:s},s?(Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(o[s.fullscreenElement])}},element:{enumerable:!0,get:function(){return o[s.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(o[s.fullscreenEnabled])}}}),i?t.exports=l:window.screenfull=l):i?t.exports=!1:window.screenfull=!1},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=window),n.getComputedStyle(t)}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(92),e(13),e(16),e(11),e(6)],void 0===(i=function(t,n,e,o,i){return function(a,s,r){var l,c,u,p,d=a.style;return(r=r||o(a))&&(""!==(p=r.getPropertyValue(s)||r[s])||t.contains(a.ownerDocument,a)||(p=t.style(a,s)),!i.pixelBoxStyles()&&e.test(p)&&n.test(s)&&(l=d.width,c=d.minWidth,u=d.maxWidth,d.minWidth=d.maxWidth=d.width=p,p=r.width,d.width=l,d.minWidth=c,d.maxWidth=u)),void 0!==p?p+"":p}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return["Top","Right","Bottom","Left"]}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(12)],void 0===(i=function(t){return new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i")}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(3),e(4),e(100),e(99)],void 0===(i=function(t,n,e,o){var i,a=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,s=t.fn.init=function(s,r,l){var c,u;if(!s)return this;if(l=l||i,"string"==typeof s){if(!(c="<"===s[0]&&">"===s[s.length-1]&&s.length>=3?[null,s,null]:a.exec(s))||!c[1]&&r)return!r||r.jquery?(r||l).find(s):this.constructor(r).find(s);if(c[1]){if(r=r instanceof t?r[0]:r,t.merge(this,t.parseHTML(c[1],r&&r.nodeType?r.ownerDocument||r:n,!0)),o.test(c[1])&&t.isPlainObject(r))for(c in r)e(this[c])?this[c](r[c]):this.attr(c,r[c]);return this}return(u=n.getElementById(c[2]))&&(this[0]=u,this.length=1),this}return s.nodeType?(this[0]=s,this.length=1,this):e(s)?void 0!==l.ready?l.ready(s):s(t):t.makeArray(s,this)};return s.prototype=t.fn,i=t(n),s}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t,n){return{get:function(){if(!t())return(this.get=n).apply(this,arguments);delete this.get}}}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(3)],void 0===(i=function(t){return t.documentElement}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(14),e(4)],void 0===(i=function(t,n,e){return function o(i,a,s,r,l,c,u){var p=0,d=i.length,h=null==s;if("object"===n(s))for(p in l=!0,s)o(i,a,p,s[p],!0,c,u);else if(void 0!==r&&(l=!0,e(r)||(u=!0),h&&(u?(a.call(i,r),a=null):(h=a,a=function(n,e,o){return h.call(t(n),o)})),a))for(;p<d;p++)a(i[p],s,u?r:r.call(i[p],p,a(i[p],s)));return l?i:h?a.call(i):d?a(i[0],s):c}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(10)],void 0===(i=function(t){return t.toString}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t){return null!=t&&t===t.window}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o;void 0===(o=function(){return{}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(28)],void 0===(i=function(t){return t.toString}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(10)],void 0===(i=function(t){return t.hasOwnProperty}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.indexOf}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.slice}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={setBkmrk:function(t,n){var e=[];if("undefined"!=typeof Storage){if(localStorage.getItem("bkmrks")){e=JSON.parse(localStorage.getItem("bkmrks"));for(var o=void 0,i=void 0,a=0;a<e.length;a++)if(e[a].bkId===t){o=e[a],i=a;break}o?"cover"===n.sectionId?e.splice(i,1):o.bkmrk=n:e.push({bkId:t,bkmrk:n})}else"cover"!==n.sectionId&&e.push({bkId:t,bkmrk:n});localStorage.setItem("bkmrks",JSON.stringify(e))}},removeBkmrk:function(t){var n=[];if("undefined"!=typeof Storage&&localStorage.getItem("bkmrks")){n=JSON.parse(localStorage.getItem("bkmrks"));for(var e=void 0,o=0;o<n.length;o++)if(n[o].bkId===t){e=o;break}void 0!==e&&(n.splice(e,1),localStorage.setItem("bkmrks",JSON.stringify(n)))}},getBkmrk:function(t){if("undefined"!=typeof Storage&&localStorage.getItem("bkmrks")){var n=JSON.parse(localStorage.getItem("bkmrks")).filter(function(n){return n.bkId===t})[0];if(n)return n.bkmrk}},setFontSize:function(t,n){var e=[];if("undefined"!=typeof Storage){if(localStorage.getItem("fSizes")){e=JSON.parse(localStorage.getItem("fSizes"));for(var o=void 0,i=0;i<e.length;i++)if(e[i].device===t){o=e[i];break}o?o.size=n:e.push({device:t,size:n})}else e.push({device:t,size:n});localStorage.setItem("fSizes",JSON.stringify(e))}},getFontSize:function(t){if("undefined"!=typeof Storage&&localStorage.getItem("fSizes")){var n=JSON.parse(localStorage.getItem("fSizes")).filter(function(n){return n.device===t})[0];if(n)return n.size}},setFont:function(t){var n="";"undefined"!=typeof Storage&&(localStorage.getItem("font")?(n=JSON.parse(localStorage.getItem("font")),n=t):n=t,localStorage.setItem("font",JSON.stringify(n)))},getFont:function(){if("undefined"!=typeof Storage&&localStorage.getItem("font"))return JSON.parse(localStorage.getItem("font"))},setUserAgent:function(t){var n="";"undefined"!=typeof Storage&&(localStorage.getItem("userAgent")?(n=JSON.parse(localStorage.getItem("userAgent")),n=t):n=t,localStorage.setItem("userAgent",JSON.stringify(n)))},getUserAgent:function(){if("undefined"!=typeof Storage&&localStorage.getItem("userAgent"))return JSON.parse(localStorage.getItem("userAgent"))},setTableInfos:function(t){if(!isNaN(t.tableInfos.totalPages)&&0!==t.tableInfos.totalPages){var n=[];"undefined"!=typeof Storage&&(localStorage.getItem("tables")&&localStorage.removeItem("tables"),localStorage.getItem("tableInfos")?(n=JSON.parse(localStorage.getItem("tableInfos"))).filter(function(n){return n.id===t.id&&n.dim===t.dim&&n.font===t.font&&n.fontSize===t.fontSize})[0]||(51===n.length&&n.shift(),n.push(t)):n.push(t),localStorage.setItem("tableInfos",JSON.stringify(n)))}},getTableInfos:function(t){if("undefined"!=typeof Storage&&(localStorage.getItem("tables")&&localStorage.removeItem("tables"),localStorage.getItem("tableInfos"))){var n=JSON.parse(localStorage.getItem("tableInfos")).filter(function(n){return n.id===t.id&&n.dim===t.dim&&n.font===t.font&&n.fontSize===t.fontSize})[0];if(n)return n.tableInfos}},removeTableInfos:function(){"undefined"!=typeof Storage&&localStorage.getItem("tableInfos")&&localStorage.removeItem("tableInfos")}};n.default=o},function(t,n,e){"use strict";(function(n){function e(t){i.length||o(),i[i.length]=t}t.exports=e;var o,i=[],a=0,s=1024;function r(){for(;a<i.length;){var t=a;if(a+=1,i[t].call(),a>s){for(var n=0,e=i.length-a;n<e;n++)i[n]=i[n+a];i.length-=a,a=0}}i.length=0,a=0}var l,c,u,p=void 0!==n?n:self,d=p.MutationObserver||p.WebKitMutationObserver;function h(t){return function(){var n=setTimeout(o,0),e=setInterval(o,50);function o(){clearTimeout(n),clearInterval(e),t()}}}"function"==typeof d?(l=1,c=new d(r),u=document.createTextNode(""),c.observe(u,{characterData:!0}),o=function(){l=-l,u.data=l}):o=h(r),e.requestFlush=o,e.makeRequestCallFromTimer=h}).call(this,e(128))},function(t,n,e){"use strict";t.exports=e(129)},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="admin" class="content">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration</h3>\n\t\t<nav id="admin-nav-bar-top" class="bar">\n\t\t\t<a id="admin-home" href="/#/admin/" class="bar-item">Accueil</a>\n\t\t\t<a id="admin-users" href="/#/admin/users/" class="bar-item">Utilisateurs</a>\n\t\t\t<a id="admin-books" href="/#/admin/books/" class="bar-item">Ouvrages</a>\n\t\t\t<a id="admin-authors" href="/#/admin/authors/" class="bar-item">Auteurs</a>\n\t\t</nav>\n\t\t<div id="admin-container"></div>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="admin" class="content">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration</h3>\n\t\t<nav id="admin-nav-bar-top" class="bar">\n\t\t\t<a id="admin-home" href="/#/admin/" class="bar-item">Accueil</a>\n\t\t\t<a id="admin-users" href="/#/admin/users/" class="bar-item">Utilisateurs</a>\n\t\t\t<a id="admin-books" href="/#/admin/books/" class="bar-item">Ouvrages</a>\n\t\t\t<a id="admin-authors" href="/#/admin/authors/" class="bar-item">Auteurs</a>\n\t\t</nav>\n\t\t<div id="admin-container"></div>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthorEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/<%= author.id %>">Retour</a></p>\n\t<form id="adminAuthorEditForm" style="clear: both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input author" value="<%= author.name %>" >\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="nameAlpha">\n\t\t\t<label>Nom alphabétique : </label>\n\t\t\t<input type="text" name="nameAlpha" class="input author" value="<%= author.nameAlpha %>" >\n\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="birth">\n\t\t\t<label>Date de naissance : </label>\n\t\t\t<input type="text" name="birth" class="input author" value="<%= author.birth %>" >\n\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="death">\n\t\t\t<label>Date de décès : </label>\n\t\t\t<input type="text" name="death" class="input author" value="<%= author.death %>" >\n\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="description">\n\t\t\t<label>Description : </label>\n\t\t\t<textarea type="text" name="description" class="author" value="<%= author.description %>" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="visible">\n\t\t\t<label><input type="checkbox" name="visible" <% if(author.visible) {%> checked <%}%> > Visible</label>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminAuthorEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/',escape((__stack.lineno=3,author.id)),'">Retour</a></p>\n\t<form id="adminAuthorEditForm" style="clear: both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input author" value="',escape((__stack.lineno=10,author.name)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="nameAlpha">\n\t\t\t<label>Nom alphabétique : </label>\n\t\t\t<input type="text" name="nameAlpha" class="input author" value="',escape((__stack.lineno=16,author.nameAlpha)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="birth">\n\t\t\t<label>Date de naissance : </label>\n\t\t\t<input type="text" name="birth" class="input author" value="',escape((__stack.lineno=22,author.birth)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="death">\n\t\t\t<label>Date de décès : </label>\n\t\t\t<input type="text" name="death" class="input author" value="',escape((__stack.lineno=28,author.death)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="description">\n\t\t\t<label>Description : </label>\n\t\t\t<textarea type="text" name="description" class="author" value="',escape((__stack.lineno=34,author.description)),'" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="visible">\n\t\t\t<label><input type="checkbox" name="visible" '),__stack.lineno=39,author.visible&&(buf.push(" checked "),__stack.lineno=39),buf.push(' > Visible</label>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(35);n.default=function(t){var n=location.hash.replace(/(#\/admin\/authors\/|\/edit)/g,""),e=t,o={method:"GET",url:"/authors/"+n};i.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)console.log(error);else{var s=function(t){i.default.setHTML("#form-error",""),"name"===t.target.name?i.default.setHTML("#name .error",""):"nameAlpha"===t.target.name?i.default.setHTML("#nameAlpha .error",""):"birth"===t.target.name?i.default.setHTML("#birth .error",""):"death"===t.target.name&&i.default.setHTML("#death .error","")};e.innerHTML=a({author:o.author});for(var r=document.querySelector("#adminAuthorEdit").querySelector("#adminAuthorEditForm"),l=r.querySelectorAll("input"),c=0;c<l.length;c++)l[c].addEventListener("input",s,!1);r.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(r,{},"error");var e={};e.name=r.querySelector("[name=name]").value,e.nameAlpha=r.querySelector("[name=nameAlpha]").value,e.birth=r.querySelector("[name=birth]").value,e.death=r.querySelector("[name=death]").value,e.description=r.querySelector("[name=description]").value,e.visible=!!r.querySelector("[name=visible]").checked;var o={method:"PUT",url:"/authors/"+n,data:JSON.stringify(e)};i.default.ajax(o).then(function(t){var e=JSON.parse(t);e.errors?i.default.bind(r,e.errors,"error"):location.hash="#/admin/authors/"+n})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthorsNew" class="content">\n\t<p class="align-left padding-16"><b>Ajouter un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t\t<form id="adminAuthorsNewForm" style="clear: both">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="name">\n\t\t\t\t<label>Nom * : </label>\n\t\t\t\t<input type="text" name="name" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="nameAlpha">\n\t\t\t\t<label>Nom alphabétique * : </label>\n\t\t\t\t<input type="text" name="nameAlpha" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="birth">\n\t\t\t\t<label>Année naissance * : </label>\n\t\t\t\t<input type="text" name="birth" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="death">\n\t\t\t\t<label>Année décès : </label>\n\t\t\t\t<input type="text" name="death" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminAuthorsNew" class="content">\n\t<p class="align-left padding-16"><b>Ajouter un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t\t<form id="adminAuthorsNewForm" style="clear: both">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="name">\n\t\t\t\t<label>Nom * : </label>\n\t\t\t\t<input type="text" name="name" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="nameAlpha">\n\t\t\t\t<label>Nom alphabétique * : </label>\n\t\t\t\t<input type="text" name="nameAlpha" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="birth">\n\t\t\t\t<label>Année naissance * : </label>\n\t\t\t\t<input type="text" name="birth" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="death">\n\t\t\t\t<label>Année décès : </label>\n\t\t\t\t<input type="text" name="death" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(0)),i=a(e(2));function a(t){return t&&t.__esModule?t:{default:t}}var s=e(37);n.default=function(t){t.innerHTML=s();var n=document.querySelector("#adminAuthorsNew").querySelector("#adminAuthorsNewForm"),e=n.querySelectorAll("input");function a(t){o.default.setHTML("#form-error",""),"name"===t.target.name?o.default.setHTML("#name .error",""):"nameAlpha"===t.target.name?o.default.setHTML("#nameAlpha .error",""):"birth"===t.target.name?o.default.setHTML("#birth .error",""):"death"===t.target.name&&o.default.setHTML("#death .error","")}for(var r=0;r<e.length;r++)e[r].addEventListener("input",a,!1);n.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(n,{});var e={};e.name=n.querySelector("[name=name]").value,e.nameAlpha=n.querySelector("[name=nameAlpha]").value,e.birth=n.querySelector("[name=birth]").value,e.death=n.querySelector("[name=death]").value,e.description=n.querySelector("[name=description]").value,e.visible=!!n.querySelector("[name=visible]").checked;var a={method:"POST",url:"/authors/",data:JSON.stringify(e)};o.default.ajax(a).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(n,e.errors):(i.default.pushData("authors",e.author),location.hash="#/admin/authors/")})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthor" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet auteur ?</p>\n\t\t\t\t<p><%= author.name %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t\n\t<p class="align-left padding-16"><b>Auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t<div id="author" style="clear: both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><span><%- author.name %></span></p>\n\t\t\t<p><b>Nom alphabétique : </b><span><%= author.nameAlpha %></p>\n\t\t\t<p><b>Date de naissance : </b><span><%= author.birth %></p>\n\t\t\t<p><b>Date de décès : </b><span><%= author.death %></p>\n\t\t\t<p><b>Description : </b></p>\n\t\t\t<div><%= author.description %></div>\n\t\t\t<p><b>Visible : </b><span><% if(author.visible===true) {%>oui<%} else {%>non<%}%></span></p>\n\t\t\t<p><b>Créé le : </b><span></span><%= author.created_at %></p>\n\t\t\t<p><b>Mis à jour le : </b><span><%= author.updated_at %></p>\n\t\t\t<% if(author.books.length > 0) { %>\n\t\t\t<p>\n\t\t\t\t<span><b>Œuvres :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<author.books.length; i++) { %>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= author.books[i].id %>\'>\n\t\t\t\t\t\t<%- author.books[i].title %> (<%= author.books[i].year %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<% } %>\n\t\t\t<% if(author.contribs.length > 0) { %>\n\t\t\t<p>\n\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul margin-bottom\' style="padding: 0px">\n\t\t\t\t<% for(var i=0; i<author.contribs.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= author.contribs[i].book.id %>\' class="w3-text-gray w3-hover-none w3-hover-text-black">\n\t\t\t\t\t\t<%- author.contribs[i].book.title %> (<%= author.contribs[i].role %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<% } %>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/authors/<%= author.id %>/edit">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){if(buf.push('<div id="adminAuthor" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet auteur ?</p>\n\t\t\t\t<p>',escape((__stack.lineno=13,author.name)),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t\n\t<p class="align-left padding-16"><b>Auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t<div id="author" style="clear: both">\n\t\t<span class="error">',escape((__stack.lineno=27,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><span>',(__stack.lineno=30,author.name),"</span></p>\n\t\t\t<p><b>Nom alphabétique : </b><span>",escape((__stack.lineno=31,author.nameAlpha)),"</p>\n\t\t\t<p><b>Date de naissance : </b><span>",escape((__stack.lineno=32,author.birth)),"</p>\n\t\t\t<p><b>Date de décès : </b><span>",escape((__stack.lineno=33,author.death)),"</p>\n\t\t\t<p><b>Description : </b></p>\n\t\t\t<div>",escape((__stack.lineno=35,author.description)),"</div>\n\t\t\t<p><b>Visible : </b><span>"),__stack.lineno=36,!0===author.visible?(buf.push("oui"),__stack.lineno=36):(buf.push("non"),__stack.lineno=36),buf.push("</span></p>\n\t\t\t<p><b>Créé le : </b><span></span>",escape((__stack.lineno=37,author.created_at)),"</p>\n\t\t\t<p><b>Mis à jour le : </b><span>",escape((__stack.lineno=38,author.updated_at)),"</p>\n\t\t\t"),__stack.lineno=39,author.books.length>0){buf.push("\n\t\t\t<p>\n\t\t\t\t<span><b>Œuvres :</b></span>\n\t\t\t</p>\n\t\t\t<ul id=\"books-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=44;for(var t=0;t<author.books.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=46,author.books[t].id)),"'>\n\t\t\t\t\t\t",(__stack.lineno=47,author.books[t].title)," (",escape((__stack.lineno=47,author.books[t].year)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=50;buf.push("\n\t\t\t</ul>\n\t\t\t"),__stack.lineno=52}if(buf.push("\n\t\t\t"),__stack.lineno=53,author.contribs.length>0){for(buf.push('\n\t\t\t<p>\n\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul margin-bottom\' style="padding: 0px">\n\t\t\t\t'),__stack.lineno=58,t=0;t<author.contribs.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=60,author.contribs[t].book.id)),'\' class="w3-text-gray w3-hover-none w3-hover-text-black">\n\t\t\t\t\t\t',(__stack.lineno=61,author.contribs[t].book.title)," (",escape((__stack.lineno=61,author.contribs[t].role)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=64;buf.push("\n\t\t\t</ul>\n\t\t\t"),__stack.lineno=66}buf.push('\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/authors/',escape((__stack.lineno=69,author.id)),'/edit">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(39);n.default=function(t){var n=location.hash.replace(/^#\/admin\/authors\//,""),e=t,o={method:"GET",url:"/authors/"+n};i.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)e.innerHTML=a({author:{},error:o.error});else{e.innerHTML=a({author:o.author,error:""});var s=document.querySelector("#adminAuthor"),r=s.querySelector("#modal"),l=s.querySelector("#author");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1),r.querySelector("#delete-btn").addEventListener("click",function(t){var e={method:"DELETE",url:"/authors/"+n};i.default.ajax(e).then(function(t){var n=JSON.parse(t);n.error?(i.default.bind(l,n,"error"),r.style.display="none"):location.hash="#/admin/authors/"})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthors" class="content">\n\t<p class="padding-16 align-left"><b>Auteurs</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/authors/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<ul id="authors-list" class="ul" style="padding: 0px;">\n\t\t\t<% for(var i=0; i<authors.length; i++) {%>\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="/#/admin/authors/<%= authors[i].id %>">\n\t\t\t\t\t\t<%- authors[i].name %> (<%= authors[i].birth %>&thinsp;&ndash;&thinsp;<%= authors[i].death %>)\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminAuthors" class="content">\n\t<p class="padding-16 align-left"><b>Auteurs</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/authors/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=5,error)),'</span>\n\t\t<ul id="authors-list" class="ul" style="padding: 0px;">\n\t\t\t'),__stack.lineno=7;for(var t=0;t<authors.length;t++)buf.push('\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="/#/admin/authors/',escape((__stack.lineno=10,authors[t].id)),'">\n\t\t\t\t\t\t',(__stack.lineno=11,authors[t].name)," (",escape((__stack.lineno=11,authors[t].birth)),"&thinsp;&ndash;&thinsp;",escape((__stack.lineno=11,authors[t].death)),")\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t"),__stack.lineno=15;buf.push("\n\t\t</ul>\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(41);n.default=function(t){var n=t;i.default.ajax({method:"GET",url:"/authors/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=a({authors:[],error:e.error}):n.innerHTML=a({authors:e.authors,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<sources.length; i++) {%>\n<li>\n\t<p id="<%= i %>" >\n\t\t<span><%- sources[i] %></span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<sources.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,sources[t]),'</span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<p id="<%= selectedContrib.id %>"><%= selectedContrib.name %></p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<p id="',escape((__stack.lineno=1,selectedContrib.id)),'">',escape((__stack.lineno=1,selectedContrib.name)),'</p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedContribs.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t<span><%= selectedContribs[i].name %> </span>\n\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedContribs.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedContribs[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',escape((__stack.lineno=4,selectedContribs[t].name))," </span>\n\t\t<span>(",escape((__stack.lineno=5,selectedContribs[t].role)),')</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedAuthors.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t<span><%= selectedAuthors[i].name %></span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',escape((__stack.lineno=4,selectedAuthors[t].name)),'</span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<ul class="ul">\n<% for(var i=0; i<authors.length; i++) {%>\n<li>\n\t<p id="<%= authors[i].id %>" >\n\t\t<span><%= authors[i].name %></span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n<% } %>\n</ul>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<ul class="ul">\n'),__stack.lineno=2;for(var t=0;t<authors.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=4,authors[t].id)),'" >\n\t\t<span>',escape((__stack.lineno=5,authors[t].name)),'</span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n</ul>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<span>Rechercher un <%= authType %></span>\n",filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push("<span>Rechercher un ",escape((__stack.lineno=1,authType)),"</span>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBookEdit" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Modifier un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/<%= book.id %>">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBookEditForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input" value="<%= book.title %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input" value="<%= book.subtitle1 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input" value="<%= book.subtitle2 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input" value="<%= book.authorDisplay %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<button type="button" id="auteur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32">\n\t\t\t\t\t\t<% for(var i=0; i<selectedAuthors.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%= selectedAuthors[i].name %></span>\n\t\t\t\t\t\t\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<button type="button" id="contributeur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32">\n\t\t\t\t\t\t<% for(var i=0; i<selectedContribs.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%= selectedContribs[i].name %> </span>\n\t\t\t\t\t\t\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t\t\t\t\t\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input" value="<%= book.year %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input" value="<%= book.language %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input" value="<%= book.categories %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input" value="<%= book.collection %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32">\n\t\t\t\t\t<% for(var i=0; i<sources.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%- sources[i] %></span>\n\t\t\t\t\t\t\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" value="<%= book.styles.color %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" value="<%= book.styles.image %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" value="<%= book.styles.font %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" value="<%= book.styles.cover %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" value="<%= book.styles.author %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" value="<%= book.styles.title %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" value="<%= book.styles.subtitle1 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" value="<%= book.styles.subtitle2 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" value="<%= book.styles.logo %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" rows="10" style="display: block; width: 100%; margin-top: 4px"><%- book.description %></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input" value="<%= book.path %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" <% if(book.visible) {%> checked <%}%> > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBookEdit" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Modifier un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/',escape((__stack.lineno=44,book.id)),'">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBookEditForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input" value="',escape((__stack.lineno=52,book.title)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input" value="',escape((__stack.lineno=58,book.subtitle1)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input" value="',escape((__stack.lineno=63,book.subtitle2)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input" value="',escape((__stack.lineno=68,book.authorDisplay)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<button type="button" id="auteur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32">\n\t\t\t\t\t\t'),__stack.lineno=80;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="',escape((__stack.lineno=82,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=82,t)),'" >\n\t\t\t\t\t\t\t\t<span>',escape((__stack.lineno=83,selectedAuthors[t].name)),'</span>\n\t\t\t\t\t\t\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t'),__stack.lineno=88;for(buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<button type="button" id="contributeur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32">\n\t\t\t\t\t\t'),__stack.lineno=103,t=0;t<selectedContribs.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="',escape((__stack.lineno=105,selectedContribs[t].id)),'" id="',escape((__stack.lineno=105,t)),'" >\n\t\t\t\t\t\t\t\t<span>',escape((__stack.lineno=106,selectedContribs[t].name))," </span>\n\t\t\t\t\t\t\t\t<span>(",escape((__stack.lineno=107,selectedContribs[t].role)),')</span>\n\t\t\t\t\t\t\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t'),__stack.lineno=112;for(buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input" value="',escape((__stack.lineno=120,book.year)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input" value="',escape((__stack.lineno=126,book.language)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input" value="',escape((__stack.lineno=132,book.categories)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input" value="',escape((__stack.lineno=138,book.collection)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32">\n\t\t\t\t\t'),__stack.lineno=150,t=0;t<sources.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p id="',escape((__stack.lineno=152,t)),'" >\n\t\t\t\t\t\t\t\t<span>',(__stack.lineno=153,sources[t]),'</span>\n\t\t\t\t\t\t\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t'),__stack.lineno=157;buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" value="',escape((__stack.lineno=164,book.styles.color)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" value="',escape((__stack.lineno=169,book.styles.image)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" value="',escape((__stack.lineno=174,book.styles.font)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" value="',escape((__stack.lineno=179,book.styles.cover)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" value="',escape((__stack.lineno=184,book.styles.author)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" value="',escape((__stack.lineno=189,book.styles.title)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" value="',escape((__stack.lineno=194,book.styles.subtitle1)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" value="',escape((__stack.lineno=199,book.styles.subtitle2)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" value="',escape((__stack.lineno=204,book.styles.logo)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" rows="10" style="display: block; width: 100%; margin-top: 4px">',(__stack.lineno=209,book.description),'</textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input" value="',escape((__stack.lineno=214,book.path)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" '),__stack.lineno=219,book.visible&&(buf.push(" checked "),__stack.lineno=219),buf.push(' > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(0));function i(t){return t&&t.__esModule?t:{default:t}}i(e(2));var a=e(49),s=e(48),r=e(47),l=e(46),c=e(45),u=e(44),p=e(43);n.default=function(t){var n=location.hash.replace(/(#\/admin\/books\/|\/edit)/g,""),e=t,i={method:"GET",url:"/books/"+n};o.default.ajax(i).then(function(t){var i=JSON.parse(t);if(i.error)console.log(i.error);else{for(var d=function(t){o.default.setHTML("#form-error",""),"title"===t.target.name?o.default.setHTML("#title .error",""):"authorDisplay"===t.target.name?o.default.setHTML("#authorDisplay .error",""):"year"===t.target.name?o.default.setHTML("#year .error",""):"language"===t.target.name?o.default.setHTML("#language .error",""):"path"===t.target.name&&o.default.setHTML("#path .error","")},h=function(t){var n=t.target.parentElement.id,e=t.target.parentElement.firstElementChild.innerHTML;if("auteur"===g){k.push(n),y.push({id:n,name:e}),o.default.setHTML("#authors .error",""),I.innerHTML=l({selectedAuthors:y}),B();for(var i=I.querySelectorAll(".delete-btn"),a=0;a<i.length;a++)i[a].addEventListener("click",b,!1)}else"contributeur"===g&&(o.default.addClass("#search","hidden"),N.innerHTML=u({selectedContrib:{id:n,name:e}}),N.querySelector("#add-contrib-role-btn").addEventListener("click",function(t){var o=N.querySelector("[name=contrib-role]").value;x.push({id:n,role:o}),_.push({id:n,name:e,role:o}),j.innerHTML=c({selectedContribs:_}),B();for(var i=j.querySelectorAll(".delete-btn"),a=0;a<i.length;a++)i[a].addEventListener("click",b,!1)},!1))},b=function t(n){var e=n.target.parentElement.id;if(console.log(e),"auteur"===(g=n.target.id)){k.splice(e,1),y.splice(e,1),I.innerHTML=l({selectedAuthors:y});for(var o=I.querySelectorAll(".delete-btn"),i=0;i<o.length;i++)o[i].addEventListener("click",t,!1)}else if("contributeur"===g){x.splice(e,1),_.splice(e,1),j.innerHTML=c({selectedContribs:_});for(var a=j.querySelectorAll(".delete-btn"),s=0;s<a.length;s++)a[s].addEventListener("click",t,!1)}},f=function t(n){var e=n.target.parentElement.id;w.splice(e,1),sourcesContainer.innerHTML=p({sources:w});for(var o=sourcesContainer.querySelectorAll(".delete-source-btn"),i=0;i<o.length;i++)o[i].addEventListener("click",t,!1)},m=i.book,g="",v="",y=[],k=[],_=[],x=[],w=[],S=0;S<m.authors.length;S++)k.push(m.authors[S].id),y.push(m.authors[S]);for(var T=0;T<m.contribs.length;T++)x.push(m.contribs[T]),_.push(m.contribs[T]);for(var E=0;E<m.sources.length;E++)w.push(m.sources[E]);e.innerHTML=a({book:m,selectedAuthors:y,selectedContribs:_,sources:w});for(var A=document.querySelector("#adminBookEdit"),q=A.querySelector("#adminBookEditForm"),C=q.querySelectorAll("input"),L=A.querySelector("#modal"),M=L.querySelector("input"),N=L.querySelector("#results"),O=A.querySelector("#source_modal"),I=A.querySelector("#authorsContainer"),j=A.querySelector("#contribsContainer"),D=q.querySelectorAll(".delete-btn"),z=0;z<D.length;z++)D[z].addEventListener("click",b,!1);for(var P=0;P<C.length;P++)C[P].addEventListener("input",d,!1);q.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(q,{});var e={source:{},styles:{}};e.title=q.querySelector("[name=title]").value,e.subtitle1=q.querySelector("[name=subtitle1]").value,e.subtitle2=q.querySelector("[name=subtitle2]").value,e.authorDisplay=q.querySelector("[name=authorDisplay]").value,e.year=q.querySelector("[name=year]").value,e.language=q.querySelector("[name=language]").value,e.categories=q.querySelector("[name=categories]").value,e.collection=q.querySelector("[name=collection]").value,e.sources=w,e.styles.color=q.querySelector("[name=styles-color").value,e.styles.image=q.querySelector("[name=styles-image").value,e.styles.font=q.querySelector("[name=styles-font").value,e.styles.cover=q.querySelector("[name=styles-cover").value,e.styles.author=q.querySelector("[name=styles-author").value,e.styles.title=q.querySelector("[name=styles-title").value,e.styles.subtitle1=q.querySelector("[name=styles-subtitle1").value,e.styles.subtitle2=q.querySelector("[name=styles-subtitle2").value,e.styles.logo=q.querySelector("[name=styles-logo").value,e.description=q.querySelector("[name=description]").value,e.path=q.querySelector("[name=path]").value,e.visible=!!q.querySelector("[name=visible]").checked,e.authors=k,e.contribs=x;var i={method:"PUT",url:"/books/"+n,data:JSON.stringify(e)};o.default.ajax(i).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(q,e.errors):location.hash="#/admin/books/"+n})},!1);for(var R=function(t){t.preventDefault(),g=t.target.id,document.querySelector("#modal h4").innerHTML=s({authType:g}),o.default.removeClass("#search","hidden"),L.style.display="block"},H=A.querySelectorAll(".open-modal-btn"),F=0;F<H.length;F++)H[F].addEventListener("click",R,!1);var B=function(){L.style.display="none",M.value="",N.innerHTML=""};L.querySelector("#close-modal-btn").addEventListener("click",B,!1),M.addEventListener("keyup",function(t){var n={method:"GET",url:"/authors/search?q="+t.target.value};o.default.ajax(n).then(function(t){var n=JSON.parse(t);if(n.error)o.default.bind(L,n,"error");else{t!==v&&(v=t,N.innerHTML=r({authors:n.authors}));for(var e=L.querySelectorAll(".add-btn"),i=0;i<e.length;i++)e[i].addEventListener("click",h,!1)}}).catch(function(t){console.log(t)})},!1),document.querySelector("#open-source-modal-btn").addEventListener("click",function(t){t.preventDefault(),O.style.display="block"},!1),document.querySelector("#close-source-modal-btn").addEventListener("click",function(t){O.style.display="none"},!1),document.querySelector("#add-source-btn").addEventListener("click",function(t){var n=O.querySelector("[name=source]").value;w.push(n),sourcesContainer.innerHTML=p({sources:w});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",f,!1)},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<sources.length; i++) {%>\n<li>\n\t<p id="<%= i %>" >\n\t\t<span><%- sources[i] %></span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<sources.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,sources[t]),'</span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<p id="<%= selectedContrib.id %>"><%= selectedContrib.name %></p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<p id="',escape((__stack.lineno=1,selectedContrib.id)),'">',escape((__stack.lineno=1,selectedContrib.name)),'</p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedContribs.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t<span><%- selectedContribs[i].name %> </span>\n\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedContribs.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedContribs[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,selectedContribs[t].name)," </span>\n\t\t<span>(",escape((__stack.lineno=5,selectedContribs[t].role)),')</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedAuthors.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t<span><%- selectedAuthors[i].name %></span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,selectedAuthors[t].name),'</span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<ul class="ul">\n<% for(var i=0; i<authors.length; i++) {%>\n<li>\n\t<p id="<%= authors[i].id %>" >\n\t\t<span><%- authors[i].name %></span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n<% } %>\n</ul>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<ul class="ul">\n'),__stack.lineno=2;for(var t=0;t<authors.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=4,authors[t].id)),'" >\n\t\t<span>',(__stack.lineno=5,authors[t].name),'</span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n</ul>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<span>Rechercher un <%= authType %></span>\n",filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push("<span>Rechercher un ",escape((__stack.lineno=1,authType)),"</span>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBooksNew" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ajouter un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBooksNewForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<a href="/#/authors" id="auteur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32"></ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<a href="/#/contribs" id="contributeur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" class="input" style="display: block; width: 100%"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminBooksNew" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ajouter un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBooksNewForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<a href="/#/authors" id="auteur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32"></ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<a href="/#/contribs" id="contributeur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" class="input" style="display: block; width: 100%"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(0));function i(t){return t&&t.__esModule?t:{default:t}}i(e(2));var a=e(57),s=e(56),r=e(55),l=e(54),c=e(53),u=e(52),p=e(51);n.default=function(t){t.innerHTML=a();var n=document.querySelector("#adminBooksNew"),e=n.querySelector("#adminBooksNewForm"),i=e.querySelectorAll("input"),d=n.querySelector("#modal"),h=d.querySelector("input"),b=d.querySelector("#results"),f=n.querySelector("#source_modal"),m=n.querySelector("#authorsContainer"),g=n.querySelector("#contribsContainer"),v="",y=[],k=[],_=[],x=[],w=[],S="";function T(t){o.default.setHTML("#form-error",""),"title"===t.target.name?o.default.setHTML("#title .error",""):"authorDisplay"===t.target.name?o.default.setHTML("#authorDisplay .error",""):"year"===t.target.name?o.default.setHTML("#year .error",""):"language"===t.target.name?o.default.setHTML("#language .error",""):"path"===t.target.name&&o.default.setHTML("#path .error","")}for(var E=0;E<i.length;E++)i[E].addEventListener("input",T,!1);e.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(e,{});var n={source:{},styles:{}};n.title=e.querySelector("[name=title]").value,n.subtitle1=e.querySelector("[name=subtitle1]").value,n.subtitle2=e.querySelector("[name=subtitle2]").value,n.authorDisplay=e.querySelector("[name=authorDisplay]").value,n.year=e.querySelector("[name=year]").value,n.language=e.querySelector("[name=language]").value,n.categories=e.querySelector("[name=categories]").value,n.collection=e.querySelector("[name=collection]").value,n.sources=w,n.styles.color=e.querySelector("[name=styles-color").value,n.styles.image=e.querySelector("[name=styles-image").value,n.styles.font=e.querySelector("[name=styles-font").value,n.styles.cover=e.querySelector("[name=styles-cover").value,n.styles.author=e.querySelector("[name=styles-author").value,n.styles.title=e.querySelector("[name=styles-title").value,n.styles.subtitle1=e.querySelector("[name=styles-subtitle1").value,n.styles.subtitle2=e.querySelector("[name=styles-subtitle2").value,n.styles.logo=e.querySelector("[name=styles-logo").value,n.description=e.querySelector("[name=description]").value,n.path=e.querySelector("[name=path]").value,n.visible=!!e.querySelector("[name=visible]").checked,n.authors=k,n.contribs=x;var i={method:"POST",url:"/books/",data:JSON.stringify(n)};o.default.ajax(i).then(function(t){var n=JSON.parse(t);n.errors?o.default.bind(e,n.errors):location.hash="#/admin/books/"})},!1);for(var A=function(t){t.preventDefault(),v=t.target.id,document.querySelector("#modal h4").innerHTML=s({authType:v}),o.default.removeClass("#search","hidden"),d.style.display="block"},q=n.querySelectorAll(".open-modal-btn"),C=0;C<q.length;C++)q[C].addEventListener("click",A,!1);var L=function(){d.style.display="none",h.value="",b.innerHTML=""};function M(t){var n=t.target.parentElement.id,e=t.target.parentElement.firstElementChild.innerHTML;if("auteur"===v){k.push(n),y.push({id:n,name:e}),o.default.setHTML("#authors .error",""),m.innerHTML=l({selectedAuthors:y}),L();for(var i=m.querySelectorAll(".delete-btn"),a=0;a<i.length;a++)i[a].addEventListener("click",N,!1)}else"contributeur"===v&&(o.default.addClass("#search","hidden"),b.innerHTML=u({selectedContrib:{id:n,name:e}}),b.querySelector("#add-contrib-role-btn").addEventListener("click",function(t){var o=b.querySelector("[name=contrib-role]").value;x.push({id:n,role:o}),_.push({id:n,name:e,role:o}),g.innerHTML=c({selectedContribs:_}),L();for(var i=g.querySelectorAll(".delete-btn"),a=0;a<i.length;a++)i[a].addEventListener("click",N,!1)},!1))}function N(t){var n=t.target.parentElement.id;if("auteur"===(v=t.target.id)){k.splice(n,1),y.splice(n,1),m.innerHTML=l({selectedAuthors:y});for(var e=m.querySelectorAll(".delete-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",N,!1)}else if("contributeur"===v){x.splice(n,1),_.splice(n,1),g.innerHTML=c({selectedContribs:_});for(var i=g.querySelectorAll(".delete-btn"),a=0;a<i.length;a++)i[a].addEventListener("click",N,!1)}}function O(t){var n=t.target.parentElement.id;w.splice(n,1),sourcesContainer.innerHTML=p({sources:w});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",O,!1)}d.querySelector("#close-modal-btn").addEventListener("click",L,!1),h.addEventListener("keyup",function(t){var n={method:"GET",url:"/authors/search?q="+t.target.value};o.default.ajax(n).then(function(t){var n=JSON.parse(t);if(n.error)o.default.bind(d,n,"error");else{t!==S&&(S=t,b.innerHTML=r({authors:n.authors}));for(var e=d.querySelectorAll(".add-btn"),i=0;i<e.length;i++)e[i].addEventListener("click",M,!1)}}).catch(function(t){console.log(t)})},!1),document.querySelector("#open-source-modal-btn").addEventListener("click",function(t){t.preventDefault(),f.style.display="block"},!1),document.querySelector("#close-source-modal-btn").addEventListener("click",function(t){f.style.display="none"},!1),document.querySelector("#add-source-btn").addEventListener("click",function(t){var n=f.querySelector("[name=source]").value;w.push(n),sourcesContainer.innerHTML=p({sources:w});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",O,!1)},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBook" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un ouvrage</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet ouvrage ?</p>\n\t\t\t\t<p><%- book.title %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div id="book" style="clear: both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Titre : </b><span><%- book.title %></span></p>\n\t\t\t<p><b>Sous-titre1 : </b><span><%- book.subtitle1 %></span></p>\n\t\t\t<p><b>Sous-titre2 : </b><span><%- book.subtitle2 %></span></p>\n\t\t\t<p><b>Auteur (libellé) : </b><span><%- book.authorDisplay %></span></p>\n\t\t\t<p>\n\t\t\t\t<% if (book.authors.length===1) { %>\n\t\t\t\t\t<span><b>Auteur :</b></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t<% } %>\n\t\t\t</p>\n\t\t\t<ul id="authors-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<book.authors.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/authors/<%= book.authors[i].id %>\'>\n\t\t\t\t\t\t<%= book.authors[i].name %>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t<% if (book.contribs.length===1) { %>\n\t\t\t\t\t<span><b>Contributeur :</b></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span><b>Contributeurs :</b></span>\n\t\t\t\t<% } %>\n\t\t\t</p>\n\t\t\t<ul id="contribs-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<book.contribs.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/authors/<%= book.contribs[i].id %>\'>\n\t\t\t\t\t\t<%= book.contribs[i].name %> (<%= book.contribs[i].role %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p><b>Année de publication : </b><span><%= book.year %></span></p>\n\t\t\t<p><b>Langue : </b><span><%= book.language %></span></p>\n\t\t\t<p><b>Sources :</b></p>\n\t\t\t<ul class=\'ul\'>\n\t\t\t<% for(var i=0; i<book.sources.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<p id="<%= i %>" >\n\t\t\t\t\t\t<span><%- book.sources[i] %></span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p><b>Styles :</b></p>\n\t\t\t<ul class=\'ul\'>\n\t\t\t\t<li><b>Couleur : </b><span><%= book.styles.color %></span></li>\n\t\t\t\t<li><b>Image : </b><span><%= book.styles.image %></span></li>\n\t\t\t\t<li><b>Police : </b><span><%= book.styles.font %></span></li>\n\t\t\t\t<li><b>Couverture : </b><span><%= book.styles.cover %></span></li>\n\t\t\t\t<li><b>Auteur : </b><span><%= book.styles.author %></span></li>\n\t\t\t\t<li><b>Titre : </b><span><%= book.styles.title %></span></li>\n\t\t\t\t<li><b>Sous-titre1 : </b><span><%= book.styles.subtitle1 %></span></li>\n\t\t\t\t<li><b>Sous-titre2 : </b><span><%= book.styles.subtitle2 %></span></li>\n\t\t\t\t<li><b>Logo : </b><span><%= book.styles.logo %></span></li>\n\t\t\t</ul>\n\t\t\t<p><b>Collection : </b><span><%= book.collection %></span></p>\n\t\t\t<p><b>Description :</b></p>\n\t\t\t<div><%- replaceLines(book.description) %></div>\n\t\t\t<p><b>Path : </b><span><%= book.path %></span></p>\n\t\t\t<p><b>Visible : </b><span><% if(book.visible===true) {%>oui<%} else {%>non<%}%></span></p>\n\t\t\t<p><b>Créé le : </b><span><%= book.created_at %></span></p>\n\t\t\t<p><b>Mis à jour le : </b><span><%= book.updated_at %></span></p>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/books/<%= book.id %>/edit" class="button">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBook" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un ouvrage</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet ouvrage ?</p>\n\t\t\t\t<p>',(__stack.lineno=13,book.title),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div id="book" style="clear: both">\n\t\t<span class="error">',escape((__stack.lineno=26,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Titre : </b><span>',(__stack.lineno=29,book.title),"</span></p>\n\t\t\t<p><b>Sous-titre1 : </b><span>",(__stack.lineno=30,book.subtitle1),"</span></p>\n\t\t\t<p><b>Sous-titre2 : </b><span>",(__stack.lineno=31,book.subtitle2),"</span></p>\n\t\t\t<p><b>Auteur (libellé) : </b><span>",(__stack.lineno=32,book.authorDisplay),"</span></p>\n\t\t\t<p>\n\t\t\t\t"),__stack.lineno=34,1===book.authors.length?(buf.push("\n\t\t\t\t\t<span><b>Auteur :</b></span>\n\t\t\t\t"),__stack.lineno=36):(buf.push("\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t"),__stack.lineno=38),buf.push("\n\t\t\t</p>\n\t\t\t<ul id=\"authors-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=41;for(var t=0;t<book.authors.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/authors/",escape((__stack.lineno=43,book.authors[t].id)),"'>\n\t\t\t\t\t\t",escape((__stack.lineno=44,book.authors[t].name)),"\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=47;for(buf.push("\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t"),__stack.lineno=50,1===book.contribs.length?(buf.push("\n\t\t\t\t\t<span><b>Contributeur :</b></span>\n\t\t\t\t"),__stack.lineno=52):(buf.push("\n\t\t\t\t\t<span><b>Contributeurs :</b></span>\n\t\t\t\t"),__stack.lineno=54),buf.push("\n\t\t\t</p>\n\t\t\t<ul id=\"contribs-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=57,t=0;t<book.contribs.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/authors/",escape((__stack.lineno=59,book.contribs[t].id)),"'>\n\t\t\t\t\t\t",escape((__stack.lineno=60,book.contribs[t].name))," (",escape((__stack.lineno=60,book.contribs[t].role)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=63;for(buf.push("\n\t\t\t</ul>\n\t\t\t<p><b>Année de publication : </b><span>",escape((__stack.lineno=65,book.year)),"</span></p>\n\t\t\t<p><b>Langue : </b><span>",escape((__stack.lineno=66,book.language)),"</span></p>\n\t\t\t<p><b>Sources :</b></p>\n\t\t\t<ul class='ul'>\n\t\t\t"),__stack.lineno=69,t=0;t<book.sources.length;t++)buf.push('\n\t\t\t\t<li>\n\t\t\t\t\t<p id="',escape((__stack.lineno=71,t)),'" >\n\t\t\t\t\t\t<span>',(__stack.lineno=72,book.sources[t]),"</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t"),__stack.lineno=75;buf.push("\n\t\t\t</ul>\n\t\t\t<p><b>Styles :</b></p>\n\t\t\t<ul class='ul'>\n\t\t\t\t<li><b>Couleur : </b><span>",escape((__stack.lineno=79,book.styles.color)),"</span></li>\n\t\t\t\t<li><b>Image : </b><span>",escape((__stack.lineno=80,book.styles.image)),"</span></li>\n\t\t\t\t<li><b>Police : </b><span>",escape((__stack.lineno=81,book.styles.font)),"</span></li>\n\t\t\t\t<li><b>Couverture : </b><span>",escape((__stack.lineno=82,book.styles.cover)),"</span></li>\n\t\t\t\t<li><b>Auteur : </b><span>",escape((__stack.lineno=83,book.styles.author)),"</span></li>\n\t\t\t\t<li><b>Titre : </b><span>",escape((__stack.lineno=84,book.styles.title)),"</span></li>\n\t\t\t\t<li><b>Sous-titre1 : </b><span>",escape((__stack.lineno=85,book.styles.subtitle1)),"</span></li>\n\t\t\t\t<li><b>Sous-titre2 : </b><span>",escape((__stack.lineno=86,book.styles.subtitle2)),"</span></li>\n\t\t\t\t<li><b>Logo : </b><span>",escape((__stack.lineno=87,book.styles.logo)),"</span></li>\n\t\t\t</ul>\n\t\t\t<p><b>Collection : </b><span>",escape((__stack.lineno=89,book.collection)),"</span></p>\n\t\t\t<p><b>Description :</b></p>\n\t\t\t<div>",(__stack.lineno=91,replaceLines(book.description)),"</div>\n\t\t\t<p><b>Path : </b><span>",escape((__stack.lineno=92,book.path)),"</span></p>\n\t\t\t<p><b>Visible : </b><span>"),__stack.lineno=93,!0===book.visible?(buf.push("oui"),__stack.lineno=93):(buf.push("non"),__stack.lineno=93),buf.push("</span></p>\n\t\t\t<p><b>Créé le : </b><span>",escape((__stack.lineno=94,book.created_at)),"</span></p>\n\t\t\t<p><b>Mis à jour le : </b><span>",escape((__stack.lineno=95,book.updated_at)),'</span></p>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/books/',escape((__stack.lineno=98,book.id)),'/edit" class="button">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(59);n.default=function(t){var n=location.hash.replace(/^#\/admin\/books\//,""),e=t,o={method:"GET",url:"/books/"+n};i.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)e.innerHTML=a({book:{},error:o.error});else{e.innerHTML=a({book:o.book,error:"",replaceLines:i.default.replaceLines});var s=document.querySelector("#adminBook"),r=s.querySelector("#modal"),l=s.querySelector("#book");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1),r.querySelector("#delete-btn").addEventListener("click",function(t){var e={method:"DELETE",url:"/books/"+n};i.default.ajax(e).then(function(t){var n=JSON.parse(t);n.error?(i.default.bind(l,n,"error"),r.style.display="none"):location.hash="#/admin/books/"})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBooks" class="content">\n\t<p class="padding-16 align-left"><b>Ouvrages (<%= books.length %>)</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/books/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<ul id="books-list" class=\'ul\' style="padding: 0px">\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= books[i].id %>\'>\n\t\t\t\t\t\t<%- books[i].title %>&ensp;\n\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t&ndash;&ensp;<%- books[i].subtitle1 %>&ensp;\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t&ndash;&ensp;<%- books[i].subtitle2 %>&ensp;\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t(<%- books[i].authorDisplay %>)\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBooks" class="content">\n\t<p class="padding-16 align-left"><b>Ouvrages (',escape((__stack.lineno=2,books.length)),')</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/books/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=5,error)),'</span>\n\t\t<ul id="books-list" class=\'ul\' style="padding: 0px">\n\t\t\t'),__stack.lineno=7;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=10,books[t].id)),"'>\n\t\t\t\t\t\t",(__stack.lineno=11,books[t].title),"&ensp;\n\t\t\t\t\t\t"),__stack.lineno=12,books[t].subtitle1&&(buf.push("\n\t\t\t\t\t\t\t&ndash;&ensp;",(__stack.lineno=13,books[t].subtitle1),"&ensp;\n\t\t\t\t\t\t"),__stack.lineno=14),buf.push("\n\t\t\t\t\t\t"),__stack.lineno=15,books[t].subtitle2&&(buf.push("\n\t\t\t\t\t\t\t&ndash;&ensp;",(__stack.lineno=16,books[t].subtitle2),"&ensp;\n\t\t\t\t\t\t"),__stack.lineno=17),buf.push("\n\t\t\t\t\t\t(",(__stack.lineno=18,books[t].authorDisplay),")\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t"),__stack.lineno=22;buf.push("\n\t\t</ul>\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(61);n.default=function(t){var n=t;i.default.ajax({method:"GET",url:"/books/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=a({books:[],error:e.error}):n.innerHTML=a({books:e.books,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminEditPassword" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre mot de passe</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditPasswordForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t<span class="success hidden" id="form-success" data-utils-bind="{{ message }}"></span>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe actuel : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new">\n\t\t\t<label>Nouveau mot de passe : </label>\n\t\t\t<input type="password" name="password_new" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_new_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminEditPassword" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre mot de passe</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditPasswordForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t<span class="success hidden" id="form-success" data-utils-bind="{{ message }}"></span>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe actuel : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new">\n\t\t\t<label>Nouveau mot de passe : </label>\n\t\t\t<input type="password" name="password_new" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_new_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(63);n.default=function(t,n){var e=n;t.innerHTML=a();var o=document.querySelector("#adminEditPassword").querySelector("#adminEditPasswordForm"),s=o.querySelectorAll("input");function r(t){i.default.setHTML("#form-error",""),"password"===t.target.name?i.default.setHTML("#password .error",""):"password_new"===t.target.name?i.default.setHTML("#password_new .error",""):"password_new_confirm"===t.target.name&&i.default.setHTML("#password_new_confirm .error","")}for(var l=0;l<s.length;l++)s[l].addEventListener("input",r,!1);o.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(o,{});var n={};n.password=o.querySelector("[name=password]").value,n.password_new=o.querySelector("[name=password_new]").value,n.password_new_confirm=o.querySelector("[name=password_new_confirm]").value;var a={method:"PUT",url:"/users/password/"+e.id,data:JSON.stringify(n)};i.default.ajax(a).then(function(t){var n=JSON.parse(t);n.errors?i.default.bind(o,n.errors):(o.querySelector("[name=password]").value="",o.querySelector("[name=password_new]").value="",o.querySelector("[name=password_new_confirm]").value="",i.default.bind(o,{message:"Votre mot de passe a été changé."}),i.default.addClass("#form-error","hidden"),i.default.removeClass("#form-succes","hidden"))})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre profil</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre profil</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(65);n.default=function(t,n){t.innerHTML=a();var e=document.querySelector("#adminEdit").querySelector("#adminEditForm"),o=e.querySelectorAll("input"),s=n;function r(t){i.default.setHTML("#form-error",""),"name"===t.target.name?i.default.setHTML("#name .error",""):"email"===t.target.name?i.default.setHTML("#email .error",""):"password"===t.target.name&&i.default.setHTML("#password .error","")}e.querySelector("[name=name]").value=s.name,e.querySelector("[name=email]").value=s.email;for(var l=0;l<o.length;l++)o[l].addEventListener("input",r,!1);e.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(e,{});var n={};n.name=e.querySelector("[name=name]").value,n.email=e.querySelector("[name=email]").value,n.password=e.querySelector("[name=password]").value;var o={method:"PUT",url:"/users/"+s.id,data:JSON.stringify(n)};i.default.ajax(o).then(function(t){var n=JSON.parse(t);n.errors?i.default.bind(e,n.errors):location.hash="#/admin/"})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminNew" class="content">\n\t<p class="align-left padding-16"><b>Nouveau compte administrateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminRegisterForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminNew" class="content">\n\t<p class="align-left padding-16"><b>Nouveau compte administrateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminRegisterForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(67);n.default=function(t){t.innerHTML=a();var n=document.querySelector("#adminNew").querySelector("#adminRegisterForm"),e=n.querySelectorAll("input");function o(t){i.default.setHTML("#form-error",""),"name"===t.target.name?i.default.setHTML("#name .error",""):"email"===t.target.name?i.default.setHTML("#email .error",""):"password"===t.target.name?i.default.setHTML("#password .error",""):"password_confirm"===t.target.name&&i.default.setHTML("#password_confirm .error","")}for(var s=0;s<e.length;s++)e[s].addEventListener("input",o,!1);n.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(n,{});var e={};e.name=n.querySelector("[name=name]").value,e.email=n.querySelector("[name=email]").value,e.password=n.querySelector("[name=password]").value,e.password_confirm=n.querySelector("[name=password_confirm]").value;var o={method:"POST",url:"/users/admin/new",data:JSON.stringify(e)};i.default.ajax(o).then(function(t){var e=JSON.parse(t);e.errors?i.default.bind(n,e.errors):location.hash="#/admin/users/"})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminUser" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un utilisateur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet utilisateur&nbsp;?</p>\n\t\t\t\t<p><%= user.email %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Utilisateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/users/">Retour</a></p>\n\t<div id="user" style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><%= user.name %></p>\n\t\t\t<p><b>Email : </b><%= user.email %></p>\n\t\t\t<p><b>Admin : </b><%= user.admin %></p>\n\t\t\t<p><b>Créé le : </b><%= user.created_at %></p>\n\t\t\t<p><b>Mis à jour le : </b><%= user.updated_at %></p>\n\t\t</div>\n\t\t<p class="padding-16"><button type="button" id="open-modal-btn" class="button">Supprimer</button></p>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminUser" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un utilisateur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet utilisateur&nbsp;?</p>\n\t\t\t\t<p>',escape((__stack.lineno=13,user.email)),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Utilisateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/users/">Retour</a></p>\n\t<div id="user" style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=25,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b>',escape((__stack.lineno=28,user.name)),"</p>\n\t\t\t<p><b>Email : </b>",escape((__stack.lineno=29,user.email)),"</p>\n\t\t\t<p><b>Admin : </b>",escape((__stack.lineno=30,user.admin)),"</p>\n\t\t\t<p><b>Créé le : </b>",escape((__stack.lineno=31,user.created_at)),"</p>\n\t\t\t<p><b>Mis à jour le : </b>",escape((__stack.lineno=32,user.updated_at)),'</p>\n\t\t</div>\n\t\t<p class="padding-16"><button type="button" id="open-modal-btn" class="button">Supprimer</button></p>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(69);n.default=function(t){var n=t,e=location.hash.replace(/^#\/admin\/users\//,""),o={method:"GET",url:"/users/"+e};i.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)n.innerHTML=a({user:{},error:o.error});else{n.innerHTML=a({user:o.user,error:""});var s=document.querySelector("#adminUser"),r=s.querySelector("#modal"),l=s.querySelector("#user");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1),r.querySelector("#delete-btn").addEventListener("click",function(t){var n={method:"DELETE",url:"/users/"+e};i.default.ajax(n).then(function(t){var n=JSON.parse(t);n.error?(i.default.bind(l,n),r.style.display="none"):location.hash="#/admin/users/"})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminUsers" class="content">\n\t<p style="padding-top: 16px; margin-bottom: 0px"><b>Utilisateurs</b></p>\n\t<span class="error"><%= error %></span>\n\t<ul id="users-list" class=\'ul\' style="padding: 0px;">\n\t\t<% for(var i=0; i<users.length; i++) {%>\n\t\t<li>\n\t\t\t<p id=\'<%= users[i].id %>\'>\n\t\t\t\t<a href=\'/#/admin/users/<%= users[i].id %>\'><%= users[i].email %></a>\n\t\t\t</p>\n\t\t</li>\n\t\t<% } %>\n\t</ul>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminUsers" class="content">\n\t<p style="padding-top: 16px; margin-bottom: 0px"><b>Utilisateurs</b></p>\n\t<span class="error">',escape((__stack.lineno=3,error)),'</span>\n\t<ul id="users-list" class=\'ul\' style="padding: 0px;">\n\t\t'),__stack.lineno=5;for(var t=0;t<users.length;t++)buf.push("\n\t\t<li>\n\t\t\t<p id='",escape((__stack.lineno=7,users[t].id)),"'>\n\t\t\t\t<a href='/#/admin/users/",escape((__stack.lineno=8,users[t].id)),"'>",escape((__stack.lineno=8,users[t].email)),"</a>\n\t\t\t</p>\n\t\t</li>\n\t\t"),__stack.lineno=11;buf.push("\n\t</ul>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=(o=e(0))&&o.__esModule?o:{default:o},a=e(71);n.default=function(t){var n=t;i.default.ajax({method:"GET",url:"/users/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=a({users:[],error:e.error}):n.innerHTML=a({users:e.users,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminHome" class="content">\n\t<p class="padding-16"><b>Accueil</b></p>\n\t<div class="border-bottom">\n\t\t<p><%= user.name %></p>\n\t\t<p><%= user.email %></p></p>\n\t</div>\n\t<div  class="border-bottom">\n\t\t<p><a id="update-user-btn" href="/#/admin/edit/">Modifier profil</a></p>\n\t\t<p><a id="update-password-btn" href="/#/admin/edit/password">Modifier mot de passe</a></p>\n\t\t<p><a id="new-btn" href="/#/admin/new" >Nouveau compte administrateur</a></p>\n\t</div>\n\t<p class="padding-16"><button id="logout-btn" type="button" class="button">Déconnexion</button></p>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminHome" class="content">\n\t<p class="padding-16"><b>Accueil</b></p>\n\t<div class="border-bottom">\n\t\t<p>',escape((__stack.lineno=4,user.name)),"</p>\n\t\t<p>",escape((__stack.lineno=5,user.email)),'</p></p>\n\t</div>\n\t<div  class="border-bottom">\n\t\t<p><a id="update-user-btn" href="/#/admin/edit/">Modifier profil</a></p>\n\t\t<p><a id="update-password-btn" href="/#/admin/edit/password">Modifier mot de passe</a></p>\n\t\t<p><a id="new-btn" href="/#/admin/new" >Nouveau compte administrateur</a></p>\n\t</div>\n\t<p class="padding-16"><button id="logout-btn" type="button" class="button">Déconnexion</button></p>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(0)),i=a(e(2));function a(t){return t&&t.__esModule?t:{default:t}}var s=e(73);n.default=function(t,n){if(n){var e=n;t.innerHTML=s({user:e}),document.querySelector("#adminHome").querySelector("#logout-btn").addEventListener("click",function(){o.default.ajax({method:"GET",url:"/users/logout"}).then(function(t){i.default.setData("currentUser",JSON.parse(t).user),o.default.addClass("#admin-item","hidden"),o.default.addClass("#menu-admin-item","hidden"),location.hash="#/"})},!1)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),g(e(0));var o=g(e(74)),i=g(e(72)),a=g(e(70)),s=g(e(68)),r=g(e(66)),l=g(e(64)),c=g(e(62)),u=g(e(60)),p=g(e(58)),d=g(e(50)),h=g(e(42)),b=g(e(40)),f=g(e(38)),m=g(e(36));function g(t){return t&&t.__esModule?t:{default:t}}n.default=function(t,n,e){var g,v=e,y=document.querySelector("#admin-container");return g=y,void("#/admin/"===n?(0,o.default)(g,v):"#/admin/new"===n?(0,s.default)(g):"#/admin/edit/"===n?(0,r.default)(g,v):"#/admin/edit/password"===n?(0,l.default)(g,v):"#/admin/users/"===n?(0,i.default)(g):n.match(/#\/admin\/users\/[^\/]+$/)?(0,a.default)(g):"#/admin/books/"===n?(0,c.default)(g):"#/admin/books/new"===n?(0,p.default)(g):n.match(/#\/admin\/books\/[^\/]+\/edit$/)?(0,d.default)(g):n.match(/#\/admin\/books\/[^\/]+$/)?(0,u.default)(g):"#/admin/authors/"===n?(0,h.default)(g):"#/admin/authors/new"===n?(0,f.default)(g):n.match(/#\/admin\/authors\/[^\/]+\/edit$/)?(0,m.default)(g):n.match(/#\/admin\/authors\/[^\/]+$/)?(0,b.default)(y):location.hash="#/admin/")}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminLogin" class="content" style="min-height: 500px;">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration&ensp;&ndash;&ensp;connexion</h3>\n\t\t<form id="adminLoginForm" class="container">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="email">\n\t\t\t\t<label>Identifiant : </label>\n\t\t\t\t<input type="text" name="email" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="password">\n\t\t\t\t<label>Mot de passe : </label>\n\t\t\t\t<input type="password" name="password" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" id="loginButton" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminLogin" class="content" style="min-height: 500px;">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration&ensp;&ndash;&ensp;connexion</h3>\n\t\t<form id="adminLoginForm" class="container">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="email">\n\t\t\t\t<label>Identifiant : </label>\n\t\t\t\t<input type="text" name="email" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="password">\n\t\t\t\t<label>Mot de passe : </label>\n\t\t\t\t<input type="password" name="password" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" id="loginButton" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(0)),i=a(e(2));function a(t){return t&&t.__esModule?t:{default:t}}var s=e(76);n.default=function(t){t.innerHTML=s();var n=document.querySelector("#adminLogin").querySelector("#adminLoginForm"),e=n.querySelectorAll("input");function a(t){o.default.setHTML("#form-error",""),"email"===t.target.name?o.default.setHTML("#email .error",""):"password"===t.target.name&&o.default.setHTML("#password .error","")}for(var r=0;r<e.length;r++)e[r].addEventListener("input",a,!1);n.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(n,{});var e={};e.email=n.querySelector("[name=email]").value,e.password=n.querySelector("[name=password]").value;var a={method:"POST",url:"/users/login",data:JSON.stringify(e)};o.default.ajax(a).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(n,e.errors):(i.default.setData("currentUser",e.user),!0===e.user.admin?(o.default.removeClass("#admin-item","hidden"),o.default.removeClass("#menu-admin-item","hidden"),location.hash="#/admin/"):o.default.setHTML("#form-error","Vous n'avez pas le droit d'accéder à l'espace administration."))})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="authors-container" class="fade">\n\t<div id="top-page-header">auteurs</div>\n\t<div id="authors-list">\n\t\t<div id="letters">\n\t\t\t<%- include src/components/authors/authors-letters.ejs -%>\n\t\t</div>\n\t\t<div>\n\t\t\t\n\t\t\t<% if(authors.length===0) {%>\n\t\t\t\t<p id="noresult">aucun résultat.</p>\n\t\t\t<%}%>\n\t\t\t\n\t\t\t<% for(var i=0; i<authors.length; i++) {%>\n\t\t\t\t<% if(authors[i].visible) { %>\n\t\t\t\t<div class="auth" id="auth_<%= i %>">\n\t\t\t\t\t<button id="<%= authors[i].id %>" class="accordion"><%- authors[i].name %>&ensp;(<%- authors[i].works.length %>)</button>\n\t\t\t\t\t<div class="books-list">\n\t\t\t\t\t\t<button class="previous btn" type="button">&lt;</button>\n\t\t\t\t\t\t<button class="next btn" type="button">&gt;</button>\n\t\t\t\t\t<% for(var j=0; j<authors[i].works.length; j++) {%>\n\t\t\t\t\t\t<% var work = authors[i].works[j] %>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t\t\t<%- include src/components/authors/infos-modal.ejs -%>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="slide fade slides_<%= i %>" id="slide_<%= work.id %>">\n\t\t\t\t\t\t\t<div id="paper" style="background-color: <%- work.styles.color %>; background-image: url(<%- work.styles.image %>)">\n\t\t\t\t\t\t\t\t<div id="<%= work.id %>" class="book" style="<%= work.styles.cover %>">\n\t\t\t\t\t\t\t\t\t<p class="author" style="<%=work.styles.author %>"><%- work.authorDisplay %></p>\n\t\t\t\t\t\t\t\t\t<p class="title" style="<%-work.styles.title %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.title %>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% if(work.subtitle1) {%>\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="<%= work.styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.subtitle1 %></a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<% if(work.subtitle2) {%>\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="<%= work.styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.subtitle2 %></a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<div class="logo" style="<%=work.styles.logo %>">\n\t\t\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t\t\t<% if(!work.visible) {%>\n\t\t\t\t\t\t\t\t\t<button class="tobepublished btn">&Agrave; paraître</button>\n\t\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t\t<button id="open-infos-<%= work.id %>" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<%}%>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t\t\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="authors-container" class="fade">\n\t<div id="top-page-header">auteurs</div>\n\t<div id="authors-list">\n\t\t<div id="letters">\n\t\t\t'+function(){var t=[];return t.push('<a id="a" href="#/authors?q=A" >A</a>&emsp;\n<a id="b" href="#/authors?q=B" >B</a>&emsp;\n<a id="c" href="#/authors?q=C" >C</a>&emsp;\n<a id="d" href="#/authors?q=D" >D</a>&emsp;\n<a id="e" href="#/authors?q=E" >E</a>&emsp;\n<a id="f" href="#/authors?q=F" >F</a>&emsp;\n<a id="g" href="#/authors?q=G" >G</a>&emsp;\n<a id="h" href="#/authors?q=H" >H</a>&emsp;\n<a id="i" href="#/authors?q=I" >I</a>&emsp;\n<a id="j" href="#/authors?q=J" >J</a>&emsp;\n<a id="k" href="#/authors?q=K" >K</a>&emsp;\n<a id="l" href="#/authors?q=L" >L</a>&emsp;\n<a id="m" href="#/authors?q=M" >M</a>&emsp;\n<a id="n" href="#/authors?q=N" >N</a>&emsp;\n<a id="o" href="#/authors?q=O" >O</a>&emsp;\n<a id="p" href="#/authors?q=P" >P</a>&emsp;\n<a id="q" href="#/authors?q=Q" >Q</a>&emsp;\n<a id="r" href="#/authors?q=R" >R</a>&emsp;\n<a id="s" href="#/authors?q=S" >S</a>&emsp;\n<a id="t" href="#/authors?q=T" >T</a>&emsp;\n<a id="u" href="#/authors?q=U" >U</a>&emsp;\n<a id="v" href="#/authors?q=V" >V</a>&emsp;\n<a id="w" href="#/authors?q=W" >W</a>&emsp;\n<a id="x" href="#/authors?q=X" >X</a>&emsp;\n<a id="y" href="#/authors?q=Y" >Y</a>&emsp;\n<a id="z" href="#/authors?q=Z" >Z</a>&emsp;\n'),t.join("")}()+"\t\t</div>\n\t\t<div>\n\t\t\t\n\t\t\t"),__stack.lineno=8,0===authors.length&&(buf.push('\n\t\t\t\t<p id="noresult">aucun résultat.</p>\n\t\t\t'),__stack.lineno=10),buf.push("\n\t\t\t\n\t\t\t"),__stack.lineno=12;for(var t=0;t<authors.length;t++){if(buf.push("\n\t\t\t\t"),__stack.lineno=13,authors[t].visible){buf.push('\n\t\t\t\t<div class="auth" id="auth_',escape((__stack.lineno=14,t)),'">\n\t\t\t\t\t<button id="',escape((__stack.lineno=15,authors[t].id)),'" class="accordion">',(__stack.lineno=15,authors[t].name),"&ensp;(",(__stack.lineno=15,authors[t].works.length),')</button>\n\t\t\t\t\t<div class="books-list">\n\t\t\t\t\t\t<button class="previous btn" type="button">&lt;</button>\n\t\t\t\t\t\t<button class="next btn" type="button">&gt;</button>\n\t\t\t\t\t'),__stack.lineno=19;for(var n=0;n<authors[t].works.length;n++){buf.push("\n\t\t\t\t\t\t"),__stack.lineno=20;var e=authors[t].works[n];buf.push("\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t\t\t"+function(){var t=[];if(t.push('<div id="infos-',escape((__stack.lineno=1,e.id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,e.id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,e.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,e.title),"</p>\n\t\t\t  "),__stack.lineno=7,e.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=8,e.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),t.push("\n\t\t\t  "),__stack.lineno=10,e.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,e.subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),t.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  '),__stack.lineno=15,e.description&&(t.push('\n\t\t\t  <div class="description">',(__stack.lineno=16,replaceLines(e.description)),"</div>\n\t\t\t  "),__stack.lineno=17),t.push('\n\t\t\t  <div class="padding-8">\n\t\t\t\t  <p><b>Année de parution : </b>',(__stack.lineno=19,e.year),"</p>\n\t\t\t\t  "),__stack.lineno=20,e.authors.length>1){t.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=25;for(var n=0;n<e.authors.length;n++)t.push("\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=27,e.authors[n].name)," (",(__stack.lineno=27,e.authors[n].birth),"&nbsp;&ndash; ",(__stack.lineno=27,e.authors[n].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=29;t.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=32}else 1===e.authors.length&&(t.push("\n\t\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=33,e.authors[0].name)," (",(__stack.lineno=33,e.authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=33,e.authors[0].death),")</p>\n\t\t\t\t  "),__stack.lineno=34);if(t.push("\n\t\t\t\t  "),__stack.lineno=35,e.contribs.length>1){for(t.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=40,n=0;n<e.contribs.length;n++)t.push('\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=42,e.contribs[n].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=43,e.contribs[n].name)," (",(__stack.lineno=43,e.contribs[n].birth),"&nbsp;&ndash; ",(__stack.lineno=43,e.contribs[n].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=45;t.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=48}else 1===e.contribs.length&&(t.push('\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=54,e.contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=55,e.contribs[0].name)," (",(__stack.lineno=55,e.contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=55,e.contribs[0].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=59);t.push('\n\t\t\t\t  <p class="book-source">\n\t\t\t\t  '),__stack.lineno=61,e.sources.length>1?(t.push("\n\t\t\t\t\t<b>Sources :</b>\n\t\t\t\t  "),__stack.lineno=63):(t.push("\n\t\t\t\t\t<b>Source :</b>\n\t\t\t\t  "),__stack.lineno=65),t.push("\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=67;for(var o=0;o<e.sources.length;o++)t.push("\n\t\t\t\t\t\t<li><span>",(__stack.lineno=68,e.sources[o]),"</span></li>\n\t\t\t\t\t"),__stack.lineno=69;return t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t  </p>\n\t\t\t  </div>\n\t\t</div>\n\t</div>\n</div>\n"),t.join("")}()+'\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="slide fade slides_',escape((__stack.lineno=24,t)),'" id="slide_',escape((__stack.lineno=24,e.id)),'">\n\t\t\t\t\t\t\t<div id="paper" style="background-color: ',(__stack.lineno=25,e.styles.color),"; background-image: url(",(__stack.lineno=25,e.styles.image),')">\n\t\t\t\t\t\t\t\t<div id="',escape((__stack.lineno=26,e.id)),'" class="book" style="',escape((__stack.lineno=26,e.styles.cover)),'">\n\t\t\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=27,e.styles.author)),'">',(__stack.lineno=27,e.authorDisplay),'</p>\n\t\t\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=28,e.styles.title),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=29,e.title),"\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=31,e.subtitle1&&(buf.push('\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=32,e.styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=33,e.subtitle1),"</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=35),buf.push("\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=36,e.subtitle2&&(buf.push('\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=37,e.styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=38,e.subtitle2),"</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=40),buf.push('\n\t\t\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=41,e.styles.logo)),'">\n\t\t\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t\t\t'),__stack.lineno=48,e.visible||(buf.push('\n\t\t\t\t\t\t\t\t\t<button class="tobepublished btn">&Agrave; paraître</button>\n\t\t\t\t\t\t\t\t'),__stack.lineno=50),buf.push('\n\t\t\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=51,e.id)),'" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t'),__stack.lineno=55}buf.push("\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t"),__stack.lineno=58}buf.push("\n\t\t\t"),__stack.lineno=59}buf.push("\n\t\t\t\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t"+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#authors-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#authors-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px 32px 0px;\n\t}\n}\n\n#authors-container #letters {\n\tfont-family: "Times New Roman", Georgia, serif;\n\ttext-align: center;\n\tline-height: 37px;\n\twidth: 320px;\n\tmargin: 0px auto;\n\tpadding-bottom: 16px;\n}\n\n@media only screen and (min-width: 410px) {\n\t#authors-container #letters {\n\t\twidth: 410px;\n\t}\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container #letters {\n\t\twidth: 585px;\n\t}\n}\n\n#authors-container #letters a {\n\tpadding: 8px;\n}\n\n#authors-container #noresult {\n\twidth: 100%;\n\ttext-align: center;\n\tpadding-top: 48px;\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1.1em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n}\n\n#authors-container #authors-list {\n\tmin-height: 476px;\n\tmax-width: 750px;\n\tmargin: auto;\n\tpadding-bottom: 16px;\n}\n\n.auth {\n\tposition: relative;\n}\n\n#authors-container .previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: 0px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#authors-container .next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: 0px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container .previous {\n\t\tdisplay: block;\n\t}\n\n\t#authors-container .next {\n\t\tdisplay: block;\n\t}\n}\n\n#authors-container .accordion {\n    cursor: pointer;\n    text-align: center;\n    font-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n\tpadding: 16px;\n    width: 100%;\n    border: none;\n    outline: none;\n    background-color: transparent;\n    color: rgb(132,132,132);\n}\n\n#authors-container .accordion:hover, #authors-container .accordion.active {\n\tcolor: #000;\n}\n\n#authors-container #authors-list .books-list {\n\tposition: relative;\n\tmax-width: 450px;\n\tmargin: auto;\n\tmax-height: 0;\n\toverflow-y: hidden;\n}\n\n#authors-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#authors-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#authors-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#authors-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#authors-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#authors-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#authors-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#authors-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n#authors-container .tobepublished {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tleft: 0px;\n\tbottom: 0px;\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#authors-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#authors-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#authors-container .modal-content div {\n\tpadding: 8px;\n}\n\n#authors-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#authors-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: \'Georgia\', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n#authors-container .modal .description {\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: justify;\n\tpadding-top: 8px;\n\tpadding-bottom: 16px;\n}\n\n#authors-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#authors-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#authors-container .modal ul li {\n\tpadding: 4px;\n}\n\n#authors-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#authors-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(t,n,e){var o=e(79);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(2)),i=a(e(0));function a(t){return t&&t.__esModule?t:{default:t}}a(e(80)),a(e(15));var s=e(78);n.default=function(t){for(var n=t,e=location.hash.replace(/#\/authors\?q\=/,""),a=o.default.getData("authors").filter(function(t){return t.nameAlpha.split("")[0].toUpperCase()===e}),r=o.default.getData("books"),l=[],c=void 0,u=void 0,p=function(t){var n=a[t];c=r.filter(function(t){for(var e=0;e<t.authors.length;e++)return t.authors[e].id===n.id}),l=l.concat(c),u=r.filter(function(t){for(var e=0;e<t.contribs.length;e++)return t.contribs[e].id===n.id}),l=l.concat(u),n.works=l,l=[]},d=0;d<a.length;d++)p(d);n.innerHTML=s({authors:a,replaceLines:i.default.replaceLines}),i.default.setHTML("title","&Eacute;quivoques - Auteurs");var h=document.querySelector("#authors-container"),b=h.querySelectorAll(".auth"),f=void 0,m=void 0,g=function(t){var n=t.target.parentElement.parentElement;f=n.querySelectorAll(".slide");for(var e=0;e<f.length;e++)if("block"===f[e].style.display){f[m=e].style.display="none";break}0===m?m=f.length-1:m-=1,f[m].style.display="block"},v=function(t){var n=t.target.parentElement.parentElement;f=n.querySelectorAll(".slide");for(var e=0;e<f.length;e++)if("block"===f[e].style.display){f[m=e].style.display="none";break}m===f.length-1?m=0:m+=1,f[m].style.display="block"},y=h.querySelectorAll(".previous");for(d=0;d<y.length;d++)y[d].addEventListener("click",g,!1);for(var k=h.querySelectorAll(".next"),_=0;_<k.length;_++)k[_].addEventListener("click",v,!1);if(window.innerWidth>=750)for(var x=0;x<b.length;x++)(f=b[x].querySelectorAll(".slide")).length<2?(b[x].querySelectorAll(".previous")[0].style.display="none",b[x].querySelectorAll(".next")[0].style.display="none"):(b[x].querySelectorAll(".previous")[0].style.display="block",b[x].querySelectorAll(".next")[0].style.display="block"),void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)?function(){var t=o.default.getData("book"),n=[].slice.call(f),e=n.filter(function(n){return n.id.replace(/slide_/,"")===t})[0];m=e?n.indexOf(e):0,f[m].style.display="block"}():f[m=0].style.display="block";window.addEventListener("resize",function(){if(location.hash.match(/#\/authors\?(search=(A-Z))?/))if(window.innerWidth<750){f=h.querySelectorAll(".slide");for(var t=0;t<f.length;t++)f[t].style.display="block",b[t]&&(b[t].querySelectorAll(".previous")[0].style.display="none",b[t].querySelectorAll(".next")[0].style.display="none")}else{f=h.querySelectorAll(".slide");for(var n=0;n<f.length;n++)f[n].style.display="none";for(var e=0;e<b.length;e++)(f=b[e].querySelectorAll(".slide")).length<2?(b[e].querySelectorAll(".previous")[0].style.display="none",b[e].querySelectorAll(".next")[0].style.display="none"):(b[e].querySelectorAll(".previous")[0].style.display="block",b[e].querySelectorAll(".next")[0].style.display="block"),f[m=0].style.display="block"}});var w=document.querySelectorAll(".accordion"),S=document.querySelectorAll(".books-list");1===a.length&&(S[0].style.maxHeight=S[0].scrollHeight+"px",i.default.addClass(w[0],"active"));for(var T=0;T<w.length;T++)w[T].addEventListener("click",function(t){for(var n=0;n<w.length;n++)i.default.removeClass(w[n],"active");for(var e=0;e<S.length;e++)if(S[e]===t.target.nextElementSibling?S[e].style.maxHeight=S[e].style.maxHeight?null:S[e].scrollHeight+"px":S[e].style.maxHeight&&(S[e].style.maxHeight=null),t.target.nextElementSibling.style.maxHeight){i.default.addClass(t.target,"active"),t.target.nextElementSibling.scrollIntoView(!0);var o=document.getElementsByTagName("html")[0];o.scrollTop=o.scrollTop-48}else i.default.removeClass(t.target,"active")});if(void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var E=o.default.getData("book"),A=document.getElementById("slide_"+E);A.parentElement.style.maxHeight=A.parentElement.scrollHeight+"px",A.scrollIntoView(!0);var q=document.getElementsByTagName("html")[0];q.scrollTop=q.scrollTop-48}for(var C=h.querySelectorAll("#letters a"),L=0;L<C.length;L++)C[L].innerHTML===e?i.default.addClass("#"+C[L].id,"active"):i.default.removeClass("#"+C[L].id,"active");for(var M=function(t){var n=o.default.getData("books",t.currentTarget.id);if(n.visible){var e=n.path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+e+"/read"}},N=h.querySelectorAll(".book"),O=0;O<N.length;O++)N[O].addEventListener("click",M,!1);for(var I=function(t){var n=t.target.id.replace("open-","");document.getElementById(n).style.display="block"},j=h.querySelectorAll(".open-infos-btn"),D=0;D<j.length;D++)j[D].addEventListener("click",I,!1);for(var z=function(t){var n=t.target.id.replace("close-","");document.getElementById(n).style.display="none"},P=h.querySelectorAll(".close-infos-btn"),R=0;R<P.length;R++)P[R].addEventListener("click",z,!1);window.addEventListener("scroll",function(){document.body.scrollTop>40||document.documentElement.scrollTop>40?window.innerWidth<750&&(h.querySelector("#toTop").style.display="block"):h.querySelector("#toTop").style.display="none"},!1),h.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="book">\n\t\x3c!--\n\t\tSTARTBOOK-CONTAINER\n\t--\x3e\n\t<div id="bookContainer">\n\t\t\x3c!--\n\t\t\tTOC-LARGE-DEVICE (outside textContainer) : width >= 1366\n\t\t--\x3e\n\t\t<%- include src/components/book-read/tabs-large-device.ejs -%>\n\t\t\x3c!--\n\t\t\tSTART SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t<div id="swing-container">\n\t\t\t\x3c!--\n\t\t\t\tSTART TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t<div data-wb-text-container class="card-4">\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOOKMARK\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bookmark">\n\t\t\t\t\t<p><i class="material-icons">&#xE867;</i></p>\n\t\t\t\t</div>\n\t\t\t\t<div id="text-loader-container" class="hidden">\n\t\t\t\t\t<div id="text-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOC (inside textContainer) : width < 1366\n\t\t\t\t--\x3e\n\t\t\t\t<div id="toc">\n\t\t\t\t\t<div data-wb-toc >\n\t\t\t\t\t\t<button id="close-toc" type="button" class="btn">&times;</button>\n\t\t\t\t\t\t<div id="toc-header">\n\t\t\t\t\t\t\t<p><%- book.authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="text-uppercase"><%- book.title %></p>\n\t\t\t\t\t\t\t<% if(book.subtitle1) {%>\n\t\t\t\t\t\t\t\t<p><%- book.subtitle1 %></p>\n\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t<% if(book.subtitle2) {%>\n\t\t\t\t\t\t\t\t<p class="text-small-caps"><%- book.subtitle2 %></p>\n\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tOPTIONS-MODAL (inside textContainer) : width >= 1366\n\t\t\t\t--\x3e\n\t\t\t\t<%- include src/components/book-read/options-modal.ejs -%>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOP (inside textContainer)\n\t\t\t\t--\x3e\n\t\t\t\t<div id="top">\n\t\t\t\t\t<span id="current-section-title" class="wb-current-section-title"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTEXT\n\t\t\t\t--\x3e\n\t\t\t\t<div data-wb-text ></div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOTTOM (inside textContainer) : pagination\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bottom">\n\t\t\t\t\t<span id="currentByTotal" class="wb-currentByTotal-pages"></span>\n\t\t\t\t</div>\n\t\t\t\x3c!--\n\t\t\t\tEND TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t</div>\n\t\t\x3c!--\n\t\t\tEND SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM-SMALL (outside textContainer) : width < 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom-small">\n\t\t\t<button id="home" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t<button id="add-bookmark" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t<button id="open-options" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t<button id="open-toc" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM (outside textContainer) : width >= 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom">\n\t\t\t<div id="swing-bar">\n\t\t\t\t<div id="book-nav-bar-bottom-controls">\n\t\t\t\t\t<button id="home-large" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t\t\t<button id="add-bookmark-large" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t\t\t<div id="center">\n\t\t\t\t\t\t<button id="backward-large" class="btn">&lt;</button>\n\t\t\t\t\t\t<button id="forward-large" class="btn">&gt;</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button id="open-options-medium" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t\t\t<button id="open-toc-large" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--\n\t\tEND BOOK-CONTAINER\n\t--\x3e\n\t</div>\n\t<div id="book-loader-container" class="hidden">\n\t\t<div id="book-loader" style="border-top: 8px solid <%= book.styles.color %>; border-bottom: 8px solid <%= book.styles.color %>"></div>\n\t</div>\n</div>\n',filename:"."},t;function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="book">\n\t\x3c!--\n\t\tSTARTBOOK-CONTAINER\n\t--\x3e\n\t<div id="bookContainer">\n\t\t\x3c!--\n\t\t\tTOC-LARGE-DEVICE (outside textContainer) : width >= 1366\n\t\t--\x3e\n\t\t'+function(){var t=[];if(t.push('\n<div id="toc-large-device" class="tab card-4" >\n\t<button id="close-toc-large-device" type="button" class="btn card-4" >&times;</button>\n\t<div id="toc-large-device-container">\n\t\t<div class="header">\n\t\t\t<p>',(__stack.lineno=6,book.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=7,book.title),"</p>\n\t\t\t  "),__stack.lineno=8,book.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=9,book.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=10),t.push("\n\t\t\t  "),__stack.lineno=11,book.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=12,book.subtitle2),"</p>\n\t\t\t "),__stack.lineno=13),t.push('\n\t\t</div>\n\t\t<div data-wb-toc ></div>\n\t</div>\n</div>\n\n<div id="tab-options" class="card-4">\n\t<button id="close-tab-options" type="button" class="btn card-4" >&times;</button>\n\t<div id="tab-options-container">\n\t\t<div class="header">\n\t\t\t<p class="options-title">Options</p>\n\t\t</div>\n\t\t<div id="font-family-container-large">\n\t\t\t<p><b>Police de&nbsp;caractère</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="',(__stack.lineno=29,book.styles.font),'">&ensp;',(__stack.lineno=29,book.styles.font),"</label></p>\n\t\t\t\t\t"),__stack.lineno=30,"Noto Serif"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="Noto Serif">&ensp;Noto Serif</label></p>\n\t\t\t\t\t'),__stack.lineno=32),t.push('\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t'),__stack.lineno=35,"Vollkorn"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="VollKorn">&ensp;Vollkorn</label></p>\n\t\t\t\t\t'),__stack.lineno=37),t.push('\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="font-size-container-large">\n\t\t\t<p><b>Taille de la police</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="18">&ensp;18 px</label></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="17">&ensp;17 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="19">&ensp;19 px</label></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\t\n\n<div id="tab-infos" class="card-4">\n\t<button id="close-tab-infos" type="button" class="btn card-4" >&times;</button>\n\t<div id="tab-infos-container">\n\t\t<div class="header">\n\t\t\t<p>',(__stack.lineno=64,book.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=65,book.title),"</p>\n\t\t\t  "),__stack.lineno=66,book.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=67,book.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=68),t.push("\n\t\t\t  "),__stack.lineno=69,book.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=70,book.subtitle2),"</p>\n\t\t\t "),__stack.lineno=71),t.push('\n\t\t</div>\n\t\t<div class="content">\n\t\t  <p><b>Année de parution : </b>',(__stack.lineno=74,book.year),"</p>\n\t\t  "),__stack.lineno=75,book.authors.length>1){t.push("\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=80;for(var n=0;n<book.authors.length;n++)t.push("\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t",(__stack.lineno=82,book.authors[n].name)," (",(__stack.lineno=82,book.authors[n].birth),"&nbsp;&ndash; ",(__stack.lineno=82,book.authors[n].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),__stack.lineno=84;t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=87}else 1===book.authors.length&&(t.push("\n\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=88,book.authors[0].name)," (",(__stack.lineno=88,book.authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=88,book.authors[0].death),")</p>\n\t\t  "),__stack.lineno=89);if(t.push("\n\t\t  "),__stack.lineno=90,book.contribs.length>1){for(t.push("\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=95,n=0;n<book.contribs.length;n++)t.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=97,book.contribs[n].role)," : </span>\n\t\t\t\t\t\t\t",(__stack.lineno=98,book.contribs[n].name)," (",(__stack.lineno=98,book.contribs[n].birth),"&nbsp;&ndash; ",(__stack.lineno=98,book.contribs[n].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),__stack.lineno=100;t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=103}else 1===book.contribs.length&&(t.push('\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=109,book.contribs[0].role)," : </span>\n\t\t\t\t\t\t\t",(__stack.lineno=110,book.contribs[0].name)," (",(__stack.lineno=110,book.contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=110,book.contribs[0].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=114);for(t.push('\n\t\t  <p class="book-source">\n\t\t\t  '),__stack.lineno=116,book.sources.length>1?(t.push("\n\t\t\t\t<b>Sources :</b>\n\t\t\t  "),__stack.lineno=118):(t.push("\n\t\t\t\t<b>Source :</b>\n\t\t\t  "),__stack.lineno=120),t.push("\n\t\t\t\t<ul>\n\t\t\t\t"),__stack.lineno=122,n=0;n<book.sources.length;n++)t.push("\n\t\t\t\t\t<li><span>",(__stack.lineno=123,book.sources[n]),"</span></li>\n\t\t\t\t"),__stack.lineno=124;return t.push('\n\t\t\t\t</ul>\n\t\t\t  </p>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="book-commands">\n\t<button id="toggle-toc-large-device" type="button" class="btn card-2" >Table</button>\n\t<button id="toggle-tab-options" type="button" class="btn card-2" >Options</button>\n\t<button id="toggle-tab-infos" type="button" class="btn card-2" >Fiche</button>\n\t<button id="tab-add-bookmark" type="button" class="add-bookmark btn card-2" >Signet</button>\n\t<button id="tab-home-link" type="button" class="home btn card-2" >Retour</button>\n</div>\n\t\n\n'),t.join("")}()+'\t\t\x3c!--\n\t\t\tSTART SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t<div id="swing-container">\n\t\t\t\x3c!--\n\t\t\t\tSTART TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t<div data-wb-text-container class="card-4">\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOOKMARK\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bookmark">\n\t\t\t\t\t<p><i class="material-icons">&#xE867;</i></p>\n\t\t\t\t</div>\n\t\t\t\t<div id="text-loader-container" class="hidden">\n\t\t\t\t\t<div id="text-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOC (inside textContainer) : width < 1366\n\t\t\t\t--\x3e\n\t\t\t\t<div id="toc">\n\t\t\t\t\t<div data-wb-toc >\n\t\t\t\t\t\t<button id="close-toc" type="button" class="btn">&times;</button>\n\t\t\t\t\t\t<div id="toc-header">\n\t\t\t\t\t\t\t<p>',(__stack.lineno=33,book.authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="text-uppercase">',(__stack.lineno=34,book.title),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=35,book.subtitle1&&(buf.push("\n\t\t\t\t\t\t\t\t<p>",(__stack.lineno=36,book.subtitle1),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=37),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=38,book.subtitle2&&(buf.push('\n\t\t\t\t\t\t\t\t<p class="text-small-caps">',(__stack.lineno=39,book.subtitle2),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=40),buf.push("\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tOPTIONS-MODAL (inside textContainer) : width >= 1366\n\t\t\t\t--\x3e\n\t\t\t\t"+(t=[],t.push('<div id="options">\n\t<div>\n\t\t<button id="close-options" type="button" class="btn">&times;</button>\n\t\t<div class="options-header">\n\t\t\t<p>Options</p>\n\t\t</div>\n\t\t<div id="font-family-container">\n\t\t\t<p><b>Police de&nbsp;caractère</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="',(__stack.lineno=11,book.styles.font),'">&ensp;',(__stack.lineno=11,book.styles.font),"</label></p>\n\t\t\t\t\t"),__stack.lineno=12,"Noto Serif"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="Noto Serif">&ensp;Noto Serif</label></p>\n\t\t\t\t\t'),__stack.lineno=14),t.push('\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t'),__stack.lineno=17,"Vollkorn"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="VollKorn">&ensp;Vollkorn</label></p>\n\t\t\t\t\t'),__stack.lineno=19),t.push('\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="font-size-container">\n\t\t\t<p><b>Taille de la police</b></p>\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="col-left">\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="13">&ensp;13 px</label></p>\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-right">\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="options-medium">\n\t<div>\n\t\t<button id="close-options-medium" type="button" class="btn">&times;</button>\n\t\t<div class="options-header">\n\t\t\t<p>Options</p>\n\t\t</div>\n\t\t<div id="font-family-container">\n\t\t\t<p><b>Police de&nbsp;caractère</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="',(__stack.lineno=51,book.styles.font),'">&ensp;',(__stack.lineno=51,book.styles.font),"</label></p>\n\t\t\t\t\t"),__stack.lineno=52,"Noto Serif"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="Noto Serif">&ensp;Noto Serif</label></p>\n\t\t\t\t\t'),__stack.lineno=54),t.push('\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t'),__stack.lineno=57,"Vollkorn"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="VollKorn">&ensp;Vollkorn</label></p>\n\t\t\t\t\t'),__stack.lineno=59),t.push('\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="font-size-container">\n\t\t\t<p><b>Taille de la police</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="18">&ensp;18 px</label></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="17">&ensp;17 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="19">&ensp;19 px</label></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),t.join(""))+'\t\t\t\t\x3c!--\n\t\t\t\t\tTOP (inside textContainer)\n\t\t\t\t--\x3e\n\t\t\t\t<div id="top">\n\t\t\t\t\t<span id="current-section-title" class="wb-current-section-title"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTEXT\n\t\t\t\t--\x3e\n\t\t\t\t<div data-wb-text ></div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOTTOM (inside textContainer) : pagination\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bottom">\n\t\t\t\t\t<span id="currentByTotal" class="wb-currentByTotal-pages"></span>\n\t\t\t\t</div>\n\t\t\t\x3c!--\n\t\t\t\tEND TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t</div>\n\t\t\x3c!--\n\t\t\tEND SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM-SMALL (outside textContainer) : width < 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom-small">\n\t\t\t<button id="home" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t<button id="add-bookmark" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t<button id="open-options" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t<button id="open-toc" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM (outside textContainer) : width >= 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom">\n\t\t\t<div id="swing-bar">\n\t\t\t\t<div id="book-nav-bar-bottom-controls">\n\t\t\t\t\t<button id="home-large" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t\t\t<button id="add-bookmark-large" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t\t\t<div id="center">\n\t\t\t\t\t\t<button id="backward-large" class="btn">&lt;</button>\n\t\t\t\t\t\t<button id="forward-large" class="btn">&gt;</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button id="open-options-medium" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t\t\t<button id="open-toc-large" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--\n\t\tEND BOOK-CONTAINER\n\t--\x3e\n\t</div>\n\t<div id="book-loader-container" class="hidden">\n\t\t<div id="book-loader" style="border-top: 8px solid ',escape((__stack.lineno=102,book.styles.color)),"; border-bottom: 8px solid ",escape((__stack.lineno=102,book.styles.color)),'"></div>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s,r,l){var c,u=["","webkit","Moz","MS","ms","o"],p=s.createElement("div"),d="function",h=Math.round,b=Math.abs,f=Date.now;function m(t,n,e){return setTimeout(w(t,e),n)}function g(t,n,e){return!!Array.isArray(t)&&(v(t,e[n],e),!0)}function v(t,n,e){var o;if(t)if(t.forEach)t.forEach(n,e);else if(t.length!==l)for(o=0;o<t.length;)n.call(e,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&n.call(e,t[o],o,t)}function y(t,n,e){var o="DEPRECATED METHOD: "+n+"\n"+e+" AT \n";return function(){var n=new Error("get-stack-trace"),e=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=a.console&&(a.console.warn||a.console.log);return i&&i.call(a.console,o,e),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1;e<arguments.length;e++){var o=arguments[e];if(o!==l&&null!==o)for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])}return n}:Object.assign;var k=y(function(t,n,e){for(var o=Object.keys(n),i=0;i<o.length;)(!e||e&&t[o[i]]===l)&&(t[o[i]]=n[o[i]]),i++;return t},"extend","Use `assign`."),_=y(function(t,n){return k(t,n,!0)},"merge","Use `assign`.");function x(t,n,e){var o,i=n.prototype;(o=t.prototype=Object.create(i)).constructor=t,o._super=i,e&&c(o,e)}function w(t,n){return function(){return t.apply(n,arguments)}}function S(t,n){return(void 0===t?"undefined":i(t))==d?t.apply(n&&n[0]||l,n):t}function T(t,n){return t===l?n:t}function E(t,n,e){v(L(n),function(n){t.addEventListener(n,e,!1)})}function A(t,n,e){v(L(n),function(n){t.removeEventListener(n,e,!1)})}function q(t,n){for(;t;){if(t==n)return!0;t=t.parentNode}return!1}function C(t,n){return t.indexOf(n)>-1}function L(t){return t.trim().split(/\s+/g)}function M(t,n,e){if(t.indexOf&&!e)return t.indexOf(n);for(var o=0;o<t.length;){if(e&&t[o][e]==n||!e&&t[o]===n)return o;o++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function O(t,n,e){for(var o=[],i=[],a=0;a<t.length;){var s=n?t[a][n]:t[a];M(i,s)<0&&o.push(t[a]),i[a]=s,a++}return e&&(o=n?o.sort(function(t,e){return t[n]>e[n]}):o.sort()),o}function I(t,n){for(var e,o,i=n[0].toUpperCase()+n.slice(1),a=0;a<u.length;){if((o=(e=u[a])?e+i:n)in t)return o;a++}return l}var j=1;function D(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||a}var z="ontouchstart"in a,P=I(a,"PointerEvent")!==l,R=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),H=25,F=1,B=4,W=8,V=1,G=2,U=4,X=8,J=16,Y=G|U,$=X|J,K=Y|$,Z=["x","y"],Q=["clientX","clientY"];function tt(t,n){var e=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(n){S(t.options.enable,[t])&&e.handler(n)},this.init()}function nt(t,n,e){var o=e.pointers.length,i=e.changedPointers.length,a=n&F&&o-i==0,s=n&(B|W)&&o-i==0;e.isFirst=!!a,e.isFinal=!!s,a&&(t.session={}),e.eventType=n,function(t,n){var e=t.session,o=n.pointers,i=o.length;e.firstInput||(e.firstInput=et(n)),i>1&&!e.firstMultiple?e.firstMultiple=et(n):1===i&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,r=s?s.center:a.center,c=n.center=ot(o);n.timeStamp=f(),n.deltaTime=n.timeStamp-a.timeStamp,n.angle=rt(r,c),n.distance=st(r,c),function(t,n){var e=n.center,o=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};n.eventType!==F&&a.eventType!==B||(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},o=t.offsetDelta={x:e.x,y:e.y}),n.deltaX=i.x+(e.x-o.x),n.deltaY=i.y+(e.y-o.y)}(e,n),n.offsetDirection=at(n.deltaX,n.deltaY);var u,p,d=it(n.deltaTime,n.deltaX,n.deltaY);n.overallVelocityX=d.x,n.overallVelocityY=d.y,n.overallVelocity=b(d.x)>b(d.y)?d.x:d.y,n.scale=s?(u=s.pointers,st((p=o)[0],p[1],Q)/st(u[0],u[1],Q)):1,n.rotation=s?function(t,n){return rt(n[1],n[0],Q)+rt(t[1],t[0],Q)}(s.pointers,o):0,n.maxPointers=e.prevInput?n.pointers.length>e.prevInput.maxPointers?n.pointers.length:e.prevInput.maxPointers:n.pointers.length,function(t,n){var e,o,i,a,s=t.lastInterval||n,r=n.timeStamp-s.timeStamp;if(n.eventType!=W&&(r>H||s.velocity===l)){var c=n.deltaX-s.deltaX,u=n.deltaY-s.deltaY,p=it(r,c,u);o=p.x,i=p.y,e=b(p.x)>b(p.y)?p.x:p.y,a=at(c,u),t.lastInterval=n}else e=s.velocity,o=s.velocityX,i=s.velocityY,a=s.direction;n.velocity=e,n.velocityX=o,n.velocityY=i,n.direction=a}(e,n);var h=t.element;q(n.srcEvent.target,h)&&(h=n.srcEvent.target),n.target=h}(t,e),t.emit("hammer.input",e),t.recognize(e),t.session.prevInput=e}function et(t){for(var n=[],e=0;e<t.pointers.length;)n[e]={clientX:h(t.pointers[e].clientX),clientY:h(t.pointers[e].clientY)},e++;return{timeStamp:f(),pointers:n,center:ot(n),deltaX:t.deltaX,deltaY:t.deltaY}}function ot(t){var n=t.length;if(1===n)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var e=0,o=0,i=0;i<n;)e+=t[i].clientX,o+=t[i].clientY,i++;return{x:h(e/n),y:h(o/n)}}function it(t,n,e){return{x:n/t||0,y:e/t||0}}function at(t,n){return t===n?V:b(t)>=b(n)?t<0?G:U:n<0?X:J}function st(t,n,e){e||(e=Z);var o=n[e[0]]-t[e[0]],i=n[e[1]]-t[e[1]];return Math.sqrt(o*o+i*i)}function rt(t,n,e){e||(e=Z);var o=n[e[0]]-t[e[0]],i=n[e[1]]-t[e[1]];return 180*Math.atan2(i,o)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(D(this.element),this.evWin,this.domHandler)}};var lt={mousedown:F,mousemove:2,mouseup:B},ct="mousedown",ut="mousemove mouseup";function pt(){this.evEl=ct,this.evWin=ut,this.pressed=!1,tt.apply(this,arguments)}x(pt,tt,{handler:function(t){var n=lt[t.type];n&F&&0===t.button&&(this.pressed=!0),2&n&&1!==t.which&&(n=B),this.pressed&&(n&B&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:F,pointermove:2,pointerup:B,pointercancel:W,pointerout:W},ht={2:"touch",3:"pen",4:"mouse",5:"kinect"},bt="pointerdown",ft="pointermove pointerup pointercancel";function mt(){this.evEl=bt,this.evWin=ft,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}a.MSPointerEvent&&!a.PointerEvent&&(bt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),x(mt,tt,{handler:function(t){var n=this.store,e=!1,o=t.type.toLowerCase().replace("ms",""),i=dt[o],a=ht[t.pointerType]||t.pointerType,s="touch"==a,r=M(n,t.pointerId,"pointerId");i&F&&(0===t.button||s)?r<0&&(n.push(t),r=n.length-1):i&(B|W)&&(e=!0),r<0||(n[r]=t,this.callback(this.manager,i,{pointers:n,changedPointers:[t],pointerType:a,srcEvent:t}),e&&n.splice(r,1))}});var gt={touchstart:F,touchmove:2,touchend:B,touchcancel:W},vt="touchstart",yt="touchstart touchmove touchend touchcancel";function kt(){this.evTarget=vt,this.evWin=yt,this.started=!1,tt.apply(this,arguments)}x(kt,tt,{handler:function(t){var n=gt[t.type];if(n===F&&(this.started=!0),this.started){var e=function(t,n){var e=N(t.touches),o=N(t.changedTouches);return n&(B|W)&&(e=O(e.concat(o),"identifier",!0)),[e,o]}.call(this,t,n);n&(B|W)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t})}}});var _t={touchstart:F,touchmove:2,touchend:B,touchcancel:W},xt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=xt,this.targetIds={},tt.apply(this,arguments)}x(wt,tt,{handler:function(t){var n=_t[t.type],e=function(t,n){var e=N(t.touches),o=this.targetIds;if(n&(2|F)&&1===e.length)return o[e[0].identifier]=!0,[e,e];var i,a,s=N(t.changedTouches),r=[],l=this.target;if(a=e.filter(function(t){return q(t.target,l)}),n===F)for(i=0;i<a.length;)o[a[i].identifier]=!0,i++;for(i=0;i<s.length;)o[s[i].identifier]&&r.push(s[i]),n&(B|W)&&delete o[s[i].identifier],i++;return r.length?[O(a.concat(r),"identifier",!0),r]:void 0}.call(this,t,n);e&&this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t})}});var St=2500;function Tt(){tt.apply(this,arguments);var t=w(this.handler,this);this.touch=new wt(this.manager,t),this.mouse=new pt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var n=t.changedPointers[0];if(n.identifier===this.primaryTouch){var e={x:n.clientX,y:n.clientY};this.lastTouches.push(e);var o=this.lastTouches;setTimeout(function(){var t=o.indexOf(e);t>-1&&o.splice(t,1)},St)}}x(Tt,tt,{handler:function(t,n,e){var o="touch"==e.pointerType,i="mouse"==e.pointerType;if(!(i&&e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents)){if(o)(function(t,n){t&F?(this.primaryTouch=n.changedPointers[0].identifier,Et.call(this,n)):t&(B|W)&&Et.call(this,n)}).call(this,n,e);else if(i&&function(t){for(var n=t.srcEvent.clientX,e=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],a=Math.abs(n-i.x),s=Math.abs(e-i.y);if(a<=25&&s<=25)return!0}return!1}.call(this,e))return;this.callback(t,n,e)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var At=I(p.style,"touchAction"),qt=At!==l,Ct="manipulation",Lt="none",Mt="pan-x",Nt="pan-y",Ot=function(){if(!qt)return!1;var t={},n=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!n||a.CSS.supports("touch-action",e)}),t}();function It(t,n){this.manager=t,this.set(n)}It.prototype={set:function(t){"compute"==t&&(t=this.compute()),qt&&this.manager.element.style&&Ot[t]&&(this.manager.element.style[At]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(n){S(n.options.enable,[n])&&(t=t.concat(n.getTouchAction()))}),function(t){if(C(t,Lt))return Lt;var n=C(t,Mt),e=C(t,Nt);return n&&e?Lt:n||e?n?Mt:Nt:C(t,Ct)?Ct:"auto"}(t.join(" "))},preventDefaults:function(t){var n=t.srcEvent,e=t.offsetDirection;if(this.manager.session.prevented)n.preventDefault();else{var o=this.actions,i=C(o,Lt)&&!Ot[Lt],a=C(o,Nt)&&!Ot[Nt],s=C(o,Mt)&&!Ot[Mt];if(i){var r=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(r&&l&&c)return}if(!s||!a)return i||a&&e&Y||s&&e&$?this.preventSrc(n):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var jt=1,Dt=2,zt=4,Pt=8,Rt=Pt,Ht=16;function Ft(t){this.options=c({},this.defaults,t||{}),this.id=j++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=jt,this.simultaneous={},this.requireFail=[]}function Bt(t){return t&Ht?"cancel":t&Pt?"end":t&zt?"move":t&Dt?"start":""}function Wt(t){return t==J?"down":t==X?"up":t==G?"left":t==U?"right":""}function Vt(t,n){var e=n.manager;return e?e.get(t):t}function Gt(){Ft.apply(this,arguments)}function Ut(){Gt.apply(this,arguments),this.pX=null,this.pY=null}function Xt(){Gt.apply(this,arguments)}function Jt(){Ft.apply(this,arguments),this._timer=null,this._input=null}function Yt(){Gt.apply(this,arguments)}function $t(){Gt.apply(this,arguments)}function Kt(){Ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Zt(t,n){return(n=n||{}).recognizers=T(n.recognizers,Zt.defaults.preset),new Qt(t,n)}function Qt(t,n){var e;this.options=c({},Zt.defaults,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(P?mt:R?wt:z?Tt:pt))(e,nt),this.touchAction=new It(this,this.options.touchAction),tn(this,!0),v(this.options.recognizers,function(t){var n=this.add(new t[0](t[1]));t[2]&&n.recognizeWith(t[2]),t[3]&&n.requireFailure(t[3])},this)}function tn(t,n){var e,o=t.element;o.style&&(v(t.options.cssProps,function(i,a){e=I(o.style,a),n?(t.oldCssProps[e]=o.style[e],o.style[e]=i):o.style[e]=t.oldCssProps[e]||""}),n||(t.oldCssProps={}))}Ft.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var n=this.simultaneous;return n[(t=Vt(t,this)).id]||(n[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=Vt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var n=this.requireFail;return-1===M(n,t=Vt(t,this))&&(n.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Vt(t,this);var n=M(this.requireFail,t);return n>-1&&this.requireFail.splice(n,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var n=this,e=this.state;function o(e){n.manager.emit(e,t)}e<Pt&&o(n.options.event+Bt(e)),o(n.options.event),t.additionalEvent&&o(t.additionalEvent),e>=Pt&&o(n.options.event+Bt(e))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|jt)))return!1;t++}return!0},recognize:function(t){var n=c({},t);if(!S(this.options.enable,[this,n]))return this.reset(),void(this.state=32);this.state&(Rt|Ht|32)&&(this.state=jt),this.state=this.process(n),this.state&(Dt|zt|Pt|Ht)&&this.tryEmit(n)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(Gt,Ft,{defaults:{pointers:1},attrTest:function(t){var n=this.options.pointers;return 0===n||t.pointers.length===n},process:function(t){var n=this.state,e=t.eventType,o=n&(Dt|zt),i=this.attrTest(t);return o&&(e&W||!i)?n|Ht:o||i?e&B?n|Pt:n&Dt?n|zt:Dt:32}}),x(Ut,Gt,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,n=[];return t&Y&&n.push(Nt),t&$&&n.push(Mt),n},directionTest:function(t){var n=this.options,e=!0,o=t.distance,i=t.direction,a=t.deltaX,s=t.deltaY;return i&n.direction||(n.direction&Y?(i=0===a?V:a<0?G:U,e=a!=this.pX,o=Math.abs(t.deltaX)):(i=0===s?V:s<0?X:J,e=s!=this.pY,o=Math.abs(t.deltaY))),t.direction=i,e&&o>n.threshold&&i&n.direction},attrTest:function(t){return Gt.prototype.attrTest.call(this,t)&&(this.state&Dt||!(this.state&Dt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=Wt(t.direction);n&&(t.additionalEvent=this.options.event+n),this._super.emit.call(this,t)}}),x(Xt,Gt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Dt)},emit:function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}this._super.emit.call(this,t)}}),x(Jt,Ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var n=this.options,e=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime>n.time;if(this._input=t,!o||!e||t.eventType&(B|W)&&!i)this.reset();else if(t.eventType&F)this.reset(),this._timer=m(function(){this.state=Rt,this.tryEmit()},n.time,this);else if(t.eventType&B)return Rt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Rt&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),x(Yt,Gt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Dt)}}),x($t,Gt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|$,pointers:1},getTouchAction:function(){return Ut.prototype.getTouchAction.call(this)},attrTest:function(t){var n,e=this.options.direction;return e&(Y|$)?n=t.overallVelocity:e&Y?n=t.overallVelocityX:e&$&&(n=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&b(n)>this.options.velocity&&t.eventType&B},emit:function(t){var n=Wt(t.offsetDirection);n&&this.manager.emit(this.options.event+n,t),this.manager.emit(this.options.event,t)}}),x(Kt,Ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ct]},process:function(t){var n=this.options,e=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime<n.time;if(this.reset(),t.eventType&F&&0===this.count)return this.failTimeout();if(o&&i&&e){if(t.eventType!=B)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||st(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Rt,this.tryEmit()},n.interval,this),Dt):Rt}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Rt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Zt.VERSION="2.0.7",Zt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Yt,{enable:!1}],[Xt,{enable:!1},["rotate"]],[$t,{direction:Y}],[Ut,{direction:Y},["swipe"]],[Kt],[Kt,{event:"doubletap",taps:2},["tap"]],[Jt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Qt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var n=this.session;if(!n.stopped){var e;this.touchAction.preventDefaults(t);var o=this.recognizers,i=n.curRecognizer;(!i||i&&i.state&Rt)&&(i=n.curRecognizer=null);for(var a=0;a<o.length;)e=o[a],2===n.stopped||i&&e!=i&&!e.canRecognizeWith(i)?e.reset():e.recognize(t),!i&&e.state&(Dt|zt|Pt)&&(i=n.curRecognizer=e),a++}},get:function(t){if(t instanceof Ft)return t;for(var n=this.recognizers,e=0;e<n.length;e++)if(n[e].options.event==t)return n[e];return null},add:function(t){if(g(t,"add",this))return this;var n=this.get(t.options.event);return n&&this.remove(n),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var n=this.recognizers,e=M(n,t);-1!==e&&(n.splice(e,1),this.touchAction.update())}return this},on:function(t,n){if(t!==l&&n!==l){var e=this.handlers;return v(L(t),function(t){e[t]=e[t]||[],e[t].push(n)}),this}},off:function(t,n){if(t!==l){var e=this.handlers;return v(L(t),function(t){n?e[t]&&e[t].splice(M(e[t],n),1):delete e[t]}),this}},emit:function(t,n){this.options.domEvents&&function(t,n){var e=s.createEvent("Event");e.initEvent(t,!0,!0),e.gesture=n,n.target.dispatchEvent(e)}(t,n);var e=this.handlers[t]&&this.handlers[t].slice();if(e&&e.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<e.length;)e[o](n),o++}},destroy:function(){this.element&&tn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Zt,{INPUT_START:F,INPUT_MOVE:2,INPUT_END:B,INPUT_CANCEL:W,STATE_POSSIBLE:jt,STATE_BEGAN:Dt,STATE_CHANGED:zt,STATE_ENDED:Pt,STATE_RECOGNIZED:Rt,STATE_CANCELLED:Ht,STATE_FAILED:32,DIRECTION_NONE:V,DIRECTION_LEFT:G,DIRECTION_RIGHT:U,DIRECTION_UP:X,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:$,DIRECTION_ALL:K,Manager:Qt,Input:tt,TouchAction:It,TouchInput:wt,MouseInput:pt,PointerEventInput:mt,TouchMouseInput:Tt,SingleTouchInput:kt,Recognizer:Ft,AttrRecognizer:Gt,Tap:Kt,Pan:Ut,Swipe:$t,Pinch:Xt,Rotate:Yt,Press:Jt,on:E,off:A,each:v,merge:_,extend:k,assign:c,inherit:x,bindFn:w,prefixed:I}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=Zt,(o=function(){return Zt}.call(n,e,n,t))===l||(t.exports=o)}(window,document)},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,"/*\nBOOK LOADER\n*/\n\n#book-loader-container {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #fafafa;\n}\n\n#book-loader-container.hidden {\n\tdisplay: none;\n}\n\n#book-loader {\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 40%;\n\tz-index: 1;\n    border: 8px solid #f3f3f3; \n    border-radius: 50%;\n    width: 80px;\n    height: 80px;\n    margin: -40px 0 0 -40px;\n    -webkit-animation: spin 2s linear infinite;\n    animation: spin 2s linear infinite;\n}\n\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/*\nTEXT LOADER\n*/\n\n#text-loader-container {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #fafafa;\n}\n\n#text-loader-container.hidden {\n\tdisplay: none;\n}\n\n#text-loader {\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 40%;\n\tz-index: 1;\n    border: 8px solid #f3f3f3;\n    border-top: 8px solid gray;\n    border-bottom: 8px solid gray;\n    border-radius: 50%;\n    width: 80px;\n    height: 80px;\n    margin: -40px 0 0 -40px;\n    -webkit-animation: textSpin 2s linear infinite;\n    animation: textSpin 2s linear infinite;\n}\n\n@-webkit-keyframes textSpin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes textSpin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/*\nSIGNET\n*/\n#bookmark {\n\tvisibility: hidden;\n\twidth: 50px;\n\tpadding: 8px;\n\tbackground-color: #333;\n\tcolor: #fff;\n\ttext-align: center;\n\tposition: absolute;\n\tz-index: 1;\n\tright: 20px;\n\ttop: 20px;\n\tfont-family: 'Verdana', sans-serif;\n}\n\n\n#bookmark.show {\n\tvisibility: visible;\n\t-webkit-animation: fadein 0.5s, fadeout 0.5s 2s;\n    animation: fadein 0.5s, fadeout 0.5s 2s;\n}\n\n@-webkit-keyframes fadein {\n    from {opacity: 0;}\n    to {opacity: 1;}\n}\n\n@keyframes fadein {\n    from {opacity: 0;}\n    to {opacity: 1;}\n}\n\n@-webkit-keyframes fadeout {\n    from {opacity: 1;}\n    to {opacity: 0;}\n}\n\n@keyframes fadeout {\n    from {opacity: 1;}\n    to {opacity: 0;}\n}\n\n/*\nBOOK NAVBAR BOTTOM\n*/\n#book-nav-bar-bottom {\n\tdisplay: none;\n\theight: 44px;\n\tposition: relative;\n}\n\n@media screen and (min-width: 768px) {\n\t#book-nav-bar-bottom {\n\t\tdisplay: block;\n\t}\n}\n\n#book-nav-bar-bottom-controls {\n\tposition: relative;\n\theight: 44px;\n\twidth: 550px;\n\tmargin: auto;\n\ttext-align: center;\n}\n\n#book-nav-bar-bottom-controls #center {\n\twidth: 120px;\n\theight: 100%;\n\tmargin: auto;\n}\n\n#book-nav-bar-bottom-controls #center #backward-large {\n\tfloat: left;\n\tfont-size: 1.6em;\n}\n\n#book-nav-bar-bottom-controls #center #forward-large {\n\tfloat: right;\n\tfont-size: 1.6em;\n}\n\n#book-nav-bar-bottom-controls button {\n\toutline: none;\n\theight: 100%;\n\tbackground-color: transparent;\n\tdisplay: inline-block;\n\tcolor: rgba(0, 0, 0, 0.54);\n\tmax-width: 56px;\n}\n\n#book-nav-bar-bottom-controls #open-toc-large {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 0px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #open-options-medium {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 56px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #home-large {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #add-bookmark-large {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 56px;\n\tpadding-bottom: 10px;\n}\n\n@media screen and (min-width: 1366px) {\n\t#book-nav-bar-bottom-controls #open-toc-large, \n\t#book-nav-bar-bottom-controls #home-large, \n\t#book-nav-bar-bottom-controls #open-options-medium, \n\t#book-nav-bar-bottom-controls #add-bookmark-large {\n\t\tdisplay: none;\n\t}\n}\n\n/*\nBOOK NAV-BAR-BOTTOM-SMALL\n*/\n\n#book-nav-bar-bottom-small {\n\tdisplay: block;\n\theight: 30px;\n/*\n\tposition: fixed;\n\tbottom: 0px;\n*/\n\tmargin: auto;\n\tbackground-color: #333;\n\ttext-align: center;\n\tz-index: 2000;\n\t-webkit-backface-visibility: hidden;\n}\n\n@media screen and (min-width: 768px) {\n\t#book-nav-bar-bottom-small {\n\t\tdisplay: none;\n\t}\n}\n\n#book-nav-bar-bottom-small .btn {\n\tdisplay: inline-block;\n\tborder: none;\n\tbackground-color: transparent;\n\theight: 100%;\n\tpadding: 3px 0px 0px 0px;\n\tmargin: 0px;\n\toutline: none;\n\twidth: 24%;\n}\n\n#book-nav-bar-bottom-small .material-icons {\n\tcolor: rgb(152, 152, 152);\n}\n\n/*\nimportant for resize samsung navigator\n*/\n#book {\n\tposition: fixed;\n/*\n\theight: 100%;\n*/\n\twidth: 100%;\n/*\n\ttransform: translateZ(0);\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n*/\n}\n\n/*\nBOOKCONTAINER\n*/\n#bookContainer {\n\tfont-family: 'Georgia', serif;\n\tposition: relative;\n/*\n\theight: 100%;\n*/\n\tcolor: #000;\n\topacity: 0.0;\n\tmargin: auto;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n#bookContainer.show {\n\topacity: 1.0;\n}\n\n/*\nTEXTCONTAINER\n*/\n[data-wb-text-container] {\n\tmargin: auto;\n\tbackground-color: #fafafa;\n\twill-change: transform;\n\ttransform: translateZ(0);\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n}\n\n/*\nTOC-LARGE-DEVICE, TAB-OPTIONS, TAB-INFOS, HOME\n*/\n\n#toc-large-device, #tab-infos, #tab-options {\n  position: absolute;\n  top: 0px;\n  right: -40%;\n  width: 33%;\n  transition: right 0.5s;\n  -webkit-transition : right 0.5s;\n  -moz-transition : right 0.5s;\n  -o-transition: right 0.5s;\n  display: none;\n  background-color: #fafafa;\n}\n\n@media screen and (min-width: 1366px) {\n\n\t#toc-large-device, #tab-infos, #tab-options {\n\t\tdisplay: block\n\t}\n}\n\n#toc-large-device.open, #tab-infos.open, #tab-options.open {\n\tright: 0px;\n}\n\n#toc-large-device-container, #tab-infos-container, #tab-options-container {\n\twidth: 100%;\n\tbackground-color: #fafafa;\n\toverflow-y: auto;\n\tpadding: 0px 16px;\n}\n\n#toc-large-device-container .header, #tab-infos-container .header, #tab-options-container .header {\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n/*\ntoc-large-device\n*/\n#toc-large-device-container [data-wb-toc] {\n\tbackground-color: #fafafa;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n}\n\n/*\ntab-infos\n*/\n#tab-infos-container .content {\n\tpadding: 16px 0px;\n}\n\n#tab-infos-container p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#tab-infos-container ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#tab-infos-container ul li {\n\tpadding: .5em .5em;\n}\n\n#tab-infos-container .contrib-role {\n\ttext-transform: capitalize;\n}\n\n/*\ntab-options\n*/\n#tab-options-container {\n\ttext-align : center;\n\tpadding-bottom: 16px;\n}\n\n#tab-options-container #font-size-container-large,\n#tab-options-container #font-family-container-large {\n\twidth: 215px;\n\tmargin: auto;\n\tpadding: 16px 0px;\n}\n\n#tab-options-container #font-family-container-large > p,\n#tab-options-container #font-size-container-large > p {\n\tmargin-bottom: 7px;\n}\n\n#tab-options-container .col-left {\n\tfloat: left;\n\twidth: 50%;\n}\n\n#tab-options-container .col-right {\n\tfloat: right;\n\twidth: 50%;\n}\n\n#tab-options-container #font-size-container-large {\n\tclear: both;\n}\n\n#tab-options-container label {\n\twidth: 50%;\n\ttext-align : left;\n}\n\n#tab-options-container .options-title {\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n\tfont-size: 1.2em;\n}\n\n/*\nBOOK COMMANDS\n*/\n#book-commands {\n\tposition: fixed;\n\tleft: 32px;\n\twidth: 75px;\n\tdisplay: none;\n}\n\n@media screen and (min-width: 1366px) {\n\t#book-commands {\n\t\tdisplay: block;\n\t}\n}\n\n#close-toc-large-device, #close-tab-infos, #close-tab-options {\n    position: absolute;\n\tright: 100%;\n\ttop: 0px;\n\theight: 37px;\n\tmargin-right: 16px;\n\toutline: none;\n\tbackground-color: #fafafa;\n\tfont-family: 'Georgia', serif;\n\tfont-size: 1.2em;\n}\n\n#book-commands button {\n    position: absolute;\n\tright: 0px;\n\twidth: 80px;\n\theight: 37px;\n\tmargin-right: 16px;\n\toutline: none;\n\tfont-family: 'Georgia', serif;\n\tfont-size: 1em;\n}\n\n#book-commands button:hover {\n\tbox-shadow: 2px 3px 6px 2px rgba(0,0,0,0.2)\n}\n\n#toggle-toc-large-device {\n\ttop: 0px;\n}\n\n#toggle-tab-options {\n\ttop: 48px;\n}\n\n#toggle-tab-infos {\n\ttop: 96px;\n}\n\n#tab-add-bookmark {\n\ttop: 144px;\n}\n\n#tab-home-link {\n\ttop: 192px;\n}\n\n/*\nswing-container, swing-bar\n*/\n/*\nif tab.open : swing-container to left\n*/\n#swing-container {\n\tmargin-right: 0px;\n\ttransition: margin-right 0.8s;\n\t-webkit-transition : margin-right 0.8s;\n\t-moz-transition : margin-right 0.8s;\n    -o-transition: margin-right 0.8s;\n\t\n}\n\n#swing-container.left {\n\t\tmargin-right: 0px;\n\t}\n\n@media screen and (min-width: 1366px) {\n\t#swing-container.left {\n\t\tmargin-right: 33%;\n\t}\n}\n\n/*\nif tab.open : swing-bar to left\n*/\n#swing-bar {\n\tmargin-right: 0px;\n\ttransition: margin-right 0.9s;\n\t-webkit-transition : margin-right 0.9s;\n\t-moz-transition : margin-right 0.9s;\n    -o-transition: margin-right 0.9s;\n}\n\n#swing-bar.left {\n\tmargin-right: 0px;\n}\n\n@media screen and (min-width: 1366px) {\n\t#swing-bar.left {\n\t\tmargin-right: 33%;\n\t}\n}\n\n/*\nTOC, OPTIONS (< 1366px)\n*/\n#toc, #options, #options-medium {\n\tposition: absolute;\n\ttop: -1000px;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1000;\n\toverflow-y: auto;\n/*\n\ttransition: top 0.4s;\n\t-webkit-transition : top 0.4s;\n\t-moz-transition : top 0.4s;\n    -o-transition: top 0.4s;\n*/\n\tpadding: 0px;\n\tbackground-color: #fafafa;\n}\n\n#toc.open, #options.open, #options-medium.open {\n\ttop: 0px;\n}\n\n#toc > div, #options > div, #options-medium > div {\n\tbackground-color: #fafafa;\n\tpadding: 0px 16px;\n}\n\n#close-toc, #close-options, #close-options-medium {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: 'Georgia', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n/*\ntoc\n*/\n#toc-header {\n\tmargin-bottom: 30px;\n\tmargin-top: 20px;\n\tpadding: 16px 0px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#toc-header p {\n\tmargin: 8px;\n}\n\n#toc ul, #toc-large-device ul {\n\tpadding: 0px;\n}\n\n#toc li, #toc-large-device li {\n\tlist-style-type: none;\n\tpadding: .5em .5em;\n}\n\n#toc a.wb-link, #toc-large-device a.wb-link {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tborder: none;\n\tcolor: gray;\n\tpadding: 0px;\n}\n\n#toc a.wb-link:hover, #toc-large-device a.wb-link:hover {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tborder: none;\n\tcolor: #000;\n}\n\n#toc li.current a.wb-link, #toc-large-device li.current a.wb-link {\n\tcolor: #000;\n\toutline: none;\n\tfont-style: italic;\n}\n\n#toc .wb-toc-item-title, #toc-large-device .wb-toc-item-title {\n\tfloat: left;\n\tvertical-align: bottom;\n}\n\n#toc [data-wb-element-page-number], #toc-large-device [data-wb-element-page-number] {\n\tfloat: right;\n\tvertical-align: bottom;\n}\n\n/*\noptions content\n*/\n#options, #options-medium {\n\ttext-align: center;\n}\n\n#options .options-header, #options-medium .options-header {\n\tpadding: 16px 0px;\n\tborder-bottom: 1px solid #ddd;\n\tletter-spacing: 1.5px;\n}\n\n#options #font-size-container, #options-medium #font-size-container,\n#options #font-family-container, #options-medium #font-family-container {\n\twidth: 215px;\n\tmargin: auto;\n\tpadding: 16px 0px;\n}\n\n#options #font-family-container > p, #options-medium #font-family-container > p,\n#options #font-size-container > p, #options-medium #font-size-container > p {\n\tmargin-bottom: 7px;\n}\n\n#options .col-left, #options-medium .col-left {\n\tfloat: left;\n\twidth: 50%;\n}\n\n#options .col-right, #options-medium .col-right {\n\tfloat: right;\n\twidth: 50%;\n}\n\n#options #font-size-container, #options-medium #font-size-container {\n\tclear: both;\n}\n\n#options label {\n\twidth: 50%;\n}\n\n/*\nTOP\n*/\n#top {\n\tposition: absolute;\n\ttop: 0px;\n\tbox-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tpadding-top: 12px;\n\ttext-align: center;\n\twidth: 100%;\n\theight: 30px;\n}\n\n#top .wb-current-section-title {\n\tdisplay: inline-block;\n\twidth: 80%;\n\twhite-space: nowrap;\n\tfont-size: 0.85em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\t-o-text-overflow: ellipsis;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n/*\nBOTTOM\n*/\n#bottom {\n\tposition: absolute;\n\tbottom: 0px;\n\tdisplay: inline-block;\n\theight: 30px;\n\twidth: 100%;\n\ttext-align: center;\n\tbackground-color: transparent;\n}\n\n#bottom span {\n\tdisplay: inline-block;\n\tmin-width: 42px;\n\tmargin: 0px;\n\tmargin-top: 0px;\n\tfont-size: 1em;\n\tbackground-color: transparent;\n\tmin-width: 25px;\n\theight: 100%;\n\tpadding: 0px 16px 0px 16px;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n/*\nTEXT*/\n\n/*\nTEXT\n*/\n[data-wb-text] {\n/*\n\tfont-family: Noto Serif, Georgia, serif;\n*/\n/*\n\tfont-size: 14px;\n*/\n\tline-height: 1.5em;\n\ttext-align: justify;\n\ttext-justify: inter-word;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n\twill-change: transform;\n\ttransform: translateZ(0);\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n}\n\n\n\n@media screen and (min-width: 768px) {\n    [data-wb-text] {\n        font-size: 16px;\n        line-height: 1.5em;\n    }\n}\n\n[data-wb-text] p {\n\tmargin-bottom: 0px;\n\tmargin-top: 0px;\n\ttext-indent: 1.5em;\n}\n\n\n/*\nINSIDE TEXT\n* \n* \n*/\n/*\nTITLES\n*/\n\n[data-wb-text] #cover {\n\topacity: 0.9;\n}\n\n/*\nDIV FIN\n*/\n[data-wb-text] #fin {\n\ttext-align: center;\n\ttext-transform: uppercase;\n\tletter-spacing: 2px;\n\t\n}\n\n#fin p {\n\tpadding-top: 20%;\n\ttext-indent: 0px;\n}\n\np.section-title, p.notes-title, p.wb-toc-title {\n\tfont-size: 1.25em;\n\ttext-indent: 0px;\n}\n\np.notes-title {\n\tborder-bottom: 1px solid black;\n\tmargin-bottom: 0.5em;\n}\n\np.section-title {\n\tpadding-top: 3.5em;\n\tmargin-top: 0px;\n\tmargin-bottom: 1.5em;\n\ttext-indent: 0px;\n\tline-height: 2em;\n}\n\np.section-title.margin-small {\n\tmargin-bottom: 0.5em;\n}\n\np.section-subtitle {\n\tfont-size: 1em;\n\ttext-indent: 0px;\n\tmargin-bottom: 1.5em;\n}\n\np.section-subtitle_large {\n\tfont-size: 1.25em;\n\ttext-indent: 0px;\n\tmargin-bottom: 1.5em;\n}\n\n#cover.wb-section {\n\ttext-align: center;\n}\n\n#cover-author, #cover-title, #cover-logo {\n\tmargin: 0px;\n\ttext-indent: 0px;\n}\n\np.note {\n\ttext-indent: 0px;\n}\n\n/*\nTEXT EXERGUE\n*/\n[data-wb-text] div.text-exergue {\n\ttext-align: right;\n\tpadding-top: 10em;\n\tpadding-left: 1.5em\n}\n\n[data-wb-text] div.text-exergue p.text-exergue {\n\tpadding-top: 0em;\n}\n\n[data-wb-text] p.sign-exergue {\n\tpadding-top: 1em;\n\tpadding-right: 1.5em\n}\n\n/*\nNO-BREAK\n*/\n[data-wb-text] .no-break-inside {\n\tpage-break-inside: avoid;\n}\n\n/*\nVERSES\n*/\n[data-wb-text] .verses {\n\tmargin: 1.5em 0 1.5em 2.5em;\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .verses p {\n\ttext-indent: -1em;\n}\n\n[data-wb-text] p.verses-signature {\n\ttext-align: right;\n\tfont-size: 0.9em;\n\tpadding-bottom: 1.5em;\n\tpadding-right: 1.5em;\n}\n\n/*\nSIGNATURE\n*/\n[data-wb-text] .signature {\n\ttext-align: right;\n\tpadding-bottom: 1.5em;\n\tpadding-right: 1.5em\n}\n\n/*\nPADDING\n*/\n[data-wb-text] .padding-top-35 {\n\tpadding-top: 3.5em;\n}\n\n\n/*\nLINES BEFORE/AFTER\n*/\n[data-wb-text] p.p_half_line_before {\n\tmargin-top: 0.75em;\n}\n\n[data-wb-text] p.p_line_before {\n\tmargin-top: 1.5em;\n}\n\n[data-wb-text] p.p_2line_before {\n\tmargin-top: 3em;\n}\n\n[data-wb-text] p.p_line_after {\n\tmargin-bottom: 1.5em;\n}\n\n/*\nLINE-HEIGHT\n*/\n[data-wb-text] p.line_height_one {\n\tline-height: 1em;\n\tpadding-top: 0.5em;\n}\n\n/*\nSUP\n*/\n[data-wb-text] sup.line_height_one {\n\tline-height: 1em;\n}\n\n\n/*\nSEPARATION\n*/\n[data-wb-text] p.separation {\n\ttext-indent: 0px;\n\ttext-align: center;\n\tmargin-top: 1.5em;\n\tmargin-bottom: 1.5em;\n\tline-height: 1em;\n\tfont-size: 0.8em;\n}\n\n/*\nPOINTS DE SUSPENSION\n*/\n\n[data-wb-text] p.points {\n\ttext-indent: 0px;\n\twidth: 100%;\n\toverflow: hidden;\n\tpadding-left: 0em;\n}\n\n[data-wb-text] p.points span {\n\tpadding-right: 1.5em;\n}\n\n/*\nNEGATIVE MARGIN\n*/\n\n[data-wb-text] p.negative_margin {\n\tmargin-top:-1.5em;\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.negative_margin span {\n\tbackground-color: #fafafa;\n\tpadding-left:0.5em;\n\tpadding-right: 0.5em;\n\tfont-size: 0.9em;\n}\n\n/*\nNOTES\n*/\n[data-wb-text] .note a.wb-link {\n\tcolor: #006dcc;\n}\n\n[data-wb-text] .note-section p {\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .note-section p.note {\n\tmargin-top: 1.5em;\n}\n\n[data-wb-text] .note-section p.notes-title {\n\tfont-size: 1.25em;\n}\n\n/*\nDIVERS\n*/\n\n[data-wb-text] .font-small-9 {\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .font-small-8 {\n\tfont-size: 0.8em;\n}\n\n[data-wb-text] p.no-indent {\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.indent-3 {\n\ttext-indent: 3em;\n}\n\n[data-wb-text] p.indent-6 {\n\ttext-indent: 6em;\n}\n\n/*\nHYPHENATION\n*/\n[data-wb-text] p, .hyphenate {\n  hyphens: auto;\n  -webkit-hyphens: auto;\n  -ms-hyphens: auto;\n  -moz-hyphens: auto;\n  -o-hyphens: auto;\n}\n[data-wb-text] p.section-title, [data-wb-text] #cover p, .no-hyphenate {\n  hyphens: none;\n  -webkit-hyphens: none;\n  -ms-hyphens: none;\n  -moz-hyphens: none;\n  -o-hyphens: none;\n}\n\n\n\n",""])},function(t,n,e){var o=e(84);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/[^\x20\t\r\n\f]+/g}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(14),e(4),e(86)],void 0===(i=function(t,n,e,o){return t.Callbacks=function(i){i="string"==typeof i?function(n){var e={};return t.each(n.match(o)||[],function(t,n){e[n]=!0}),e}(i):t.extend({},i);var a,s,r,l,c=[],u=[],p=-1,d=function(){for(l=l||i.once,r=a=!0;u.length;p=-1)for(s=u.shift();++p<c.length;)!1===c[p].apply(s[0],s[1])&&i.stopOnFalse&&(p=c.length,s=!1);i.memory||(s=!1),a=!1,l&&(c=s?[]:"")},h={add:function(){return c&&(s&&!a&&(p=c.length-1,u.push(s)),function o(a){t.each(a,function(t,a){e(a)?i.unique&&h.has(a)||c.push(a):a&&a.length&&"string"!==n(a)&&o(a)})}(arguments),s&&!a&&d()),this},remove:function(){return t.each(arguments,function(n,e){for(var o;(o=t.inArray(e,c,o))>-1;)c.splice(o,1),o<=p&&p--}),this},has:function(n){return n?t.inArray(n,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return l=u=[],c=s="",this},disabled:function(){return!c},lock:function(){return l=u=[],s||a||(c=s=""),this},locked:function(){return!!l},fireWith:function(t,n){return l||(n=[t,(n=n||[]).slice?n.slice():n],u.push(n),a||d()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(1),e(4),e(30),e(87)],void 0===(i=function(t,n,e){function o(t){return t}function i(t){throw t}function s(t,e,o,i){var a;try{t&&n(a=t.promise)?a.call(t).done(e).fail(o):t&&n(a=t.then)?a.call(t,e,o):e.apply(void 0,[t].slice(i))}catch(t){o.apply(void 0,[t])}}return t.extend({Deferred:function(e){var s=[["notify","progress",t.Callbacks("memory"),t.Callbacks("memory"),2],["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),0,"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),1,"rejected"]],r="pending",l={state:function(){return r},always:function(){return c.done(arguments).fail(arguments),this},catch:function(t){return l.then(null,t)},pipe:function(){var e=arguments;return t.Deferred(function(o){t.each(s,function(t,i){var a=n(e[i[4]])&&e[i[4]];c[i[1]](function(){var t=a&&a.apply(this,arguments);t&&n(t.promise)?t.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[i[0]+"With"](this,a?[t]:arguments)})}),e=null}).promise()},then:function(e,r,l){var c=0;function u(e,s,r,l){return function(){var p=this,d=arguments,h=function(){var t,h;if(!(e<c)){if((t=r.apply(p,d))===s.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"===(void 0===t?"undefined":a(t))||"function"==typeof t)&&t.then,n(h)?l?h.call(t,u(c,s,o,l),u(c,s,i,l)):(c++,h.call(t,u(c,s,o,l),u(c,s,i,l),u(c,s,o,s.notifyWith))):(r!==o&&(p=void 0,d=[t]),(l||s.resolveWith)(p,d))}},b=l?h:function(){try{h()}catch(n){t.Deferred.exceptionHook&&t.Deferred.exceptionHook(n,b.stackTrace),e+1>=c&&(r!==i&&(p=void 0,d=[n]),s.rejectWith(p,d))}};e?b():(t.Deferred.getStackHook&&(b.stackTrace=t.Deferred.getStackHook()),window.setTimeout(b))}}return t.Deferred(function(t){s[0][3].add(u(0,t,n(l)?l:o,t.notifyWith)),s[1][3].add(u(0,t,n(e)?e:o)),s[2][3].add(u(0,t,n(r)?r:i))}).promise()},promise:function(n){return null!=n?t.extend(n,l):l}},c={};return t.each(s,function(t,n){var e=n[2],o=n[5];l[n[1]]=e.add,o&&e.add(function(){r=o},s[3-t][2].disable,s[3-t][3].disable,s[0][2].lock,s[0][3].lock),e.add(n[3].fire),c[n[0]]=function(){return c[n[0]+"With"](this===c?void 0:this,arguments),this},c[n[0]+"With"]=e.fireWith}),l.promise(c),e&&e.call(c,c),c},when:function(o){var i=arguments.length,a=i,r=Array(a),l=e.call(arguments),c=t.Deferred(),u=function(t){return function(n){r[t]=this,l[t]=arguments.length>1?e.call(arguments):n,--i||c.resolveWith(r,l)}};if(i<=1&&(s(o,c.done(u(a)).resolve,c.reject,!i),"pending"===c.state()||n(l[a]&&l[a].then)))return c.then();for(;a--;)s(l[a],u(a),c.reject);return c.promise()}}),t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1)],void 0===(i=function(t){t.readyException=function(t){window.setTimeout(function(){throw t})}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(3),e(89),e(88)],void 0===(i=function(t,n){var e=t.Deferred();function o(){n.removeEventListener("DOMContentLoaded",o),window.removeEventListener("load",o),t.ready()}t.fn.ready=function(n){return e.then(n).catch(function(n){t.readyException(n)}),this},t.extend({isReady:!1,readyWait:1,ready:function(o){(!0===o?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==o&&--t.readyWait>0||e.resolveWith(n,[t]))}}),t.ready.then=e.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?window.setTimeout(t.ready):(n.addEventListener("DOMContentLoaded",o),window.addEventListener("load",o))}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(19)],void 0===(i=function(t,n){return function(e,o,i,a){var s,r,l=20,c=a?function(){return a.cur()}:function(){return t.css(e,o,"")},u=c(),p=i&&i[3]||(t.cssNumber[o]?"":"px"),d=(t.cssNumber[o]||"px"!==p&&+u)&&n.exec(t.css(e,o));if(d&&d[3]!==p){for(u/=2,p=p||d[3],d=+u||1;l--;)t.style(e,o,d+p),(1-r)*(1-(r=c()/u||.5))<=0&&(l=0),d/=r;d*=2,t.style(e,o,d+p),i=i||[]}return i&&(d=+d||+u||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],a&&(a.unit=p,a.start=d,a.end=s)),s}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(18)],void 0===(i=function(t){return new RegExp(t.join("|"),"i")}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t,n,e,o){var i,a,s={};for(a in n)s[a]=t.style[a],t.style[a]=n[a];for(a in i=e.apply(t,o||[]),n)t.style[a]=s[a];return i}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o;void 0===(o=function(){var t=/^-ms-/,n=/-([a-z])/g;function e(t,n){return n.toUpperCase()}return function(o){return o.replace(t,"ms-").replace(n,e)}}.apply(n,[]))||(t.exports=o)},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(1),e(12),e(23),e(94),e(3),e(19),e(13),e(18),e(16),e(93),e(17),e(91),e(21),e(11),e(20),e(90),e(6)],void 0===(i=function(t,n,e,o,i,s,r,l,c,u,p,d,h,b){var f=/^(none|table(?!-c[ea]).+)/,m=/^--/,g={position:"absolute",visibility:"hidden",display:"block"},v={letterSpacing:"0",fontWeight:"400"},y=["Webkit","Moz","ms"],k=i.createElement("div").style;function _(n){var e=t.cssProps[n];return e||(e=t.cssProps[n]=function(t){if(t in k)return t;for(var n=t[0].toUpperCase()+t.slice(1),e=y.length;e--;)if((t=y[e]+n)in k)return t}(n)||n),e}function x(t,n,e){var o=s.exec(n);return o?Math.max(0,o[2]-(e||0))+(o[3]||"px"):n}function w(n,e,o,i,a,s){var r="width"===e?1:0,c=0,u=0;if(o===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===o&&(u+=t.css(n,o+l[r],!0,a)),i?("content"===o&&(u-=t.css(n,"padding"+l[r],!0,a)),"margin"!==o&&(u-=t.css(n,"border"+l[r]+"Width",!0,a))):(u+=t.css(n,"padding"+l[r],!0,a),"padding"!==o?u+=t.css(n,"border"+l[r]+"Width",!0,a):c+=t.css(n,"border"+l[r]+"Width",!0,a));return!i&&s>=0&&(u+=Math.max(0,Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-s-u-c-.5))),u}function S(n,e,o){var i=c(n),a=p(n,e,i),s="border-box"===t.css(n,"boxSizing",!1,i),l=s;if(r.test(a)){if(!o)return a;a="auto"}return l=l&&(b.boxSizingReliable()||a===n.style[e]),("auto"===a||!parseFloat(a)&&"inline"===t.css(n,"display",!1,i))&&(a=n["offset"+e[0].toUpperCase()+e.slice(1)],l=!0),(a=parseFloat(a)||0)+w(n,e,o||(s?"border":"content"),l,i,a)+"px"}return t.extend({cssHooks:{opacity:{get:function(t,n){if(n){var e=p(t,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,e,i,r){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var l,c,u,p=o(e),h=m.test(e),f=n.style;if(h||(e=_(p)),u=t.cssHooks[e]||t.cssHooks[p],void 0===i)return u&&"get"in u&&void 0!==(l=u.get(n,!1,r))?l:f[e];"string"===(c=void 0===i?"undefined":a(i))&&(l=s.exec(i))&&l[1]&&(i=d(n,e,l),c="number"),null!=i&&i==i&&("number"===c&&(i+=l&&l[3]||(t.cssNumber[p]?"":"px")),b.clearCloneStyle||""!==i||0!==e.indexOf("background")||(f[e]="inherit"),u&&"set"in u&&void 0===(i=u.set(n,i,r))||(h?f.setProperty(e,i):f[e]=i))}},css:function(n,e,i,a){var s,r,l,c=o(e);return m.test(e)||(e=_(c)),(l=t.cssHooks[e]||t.cssHooks[c])&&"get"in l&&(s=l.get(n,!0,i)),void 0===s&&(s=p(n,e,a)),"normal"===s&&e in v&&(s=v[e]),""===i||i?(r=parseFloat(s),!0===i||isFinite(r)?r||0:s):s}}),t.each(["height","width"],function(n,e){t.cssHooks[e]={get:function(n,o,i){if(o)return!f.test(t.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?S(n,e,i):u(n,g,function(){return S(n,e,i)})},set:function(n,o,i){var a,r=c(n),l="border-box"===t.css(n,"boxSizing",!1,r),u=i&&w(n,e,i,l,r);return l&&b.scrollboxSize()===r.position&&(u-=Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-w(n,e,"border",!1,r)-.5)),u&&(a=s.exec(o))&&"px"!==(a[3]||"px")&&(n.style[e]=o,o=t.css(n,e)),x(0,o,u)}}}),t.cssHooks.marginLeft=h(b.reliableMarginLeft,function(t,n){if(n)return(parseFloat(p(t,"marginLeft"))||t.getBoundingClientRect().left-u(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),t.each({margin:"",padding:"",border:"Width"},function(n,e){t.cssHooks[n+e]={expand:function(t){for(var o=0,i={},a="string"==typeof t?t.split(" "):[t];o<4;o++)i[n+l[o]+e]=a[o]||a[o-2]||a[0];return i}},"margin"!==n&&(t.cssHooks[n+e].set=x)}),t.fn.extend({css:function(n,o){return e(this,function(n,e,o){var i,a,s={},r=0;if(Array.isArray(e)){for(i=c(n),a=e.length;r<a;r++)s[e[r]]=t.css(n,e[r],!1,i);return s}return void 0!==o?t.style(n,e,o):t.css(n,e)},n,o,arguments.length>1)}}),t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;!function(i){var a,s,r,l,c,u,p,d,h,b,f,m,g,v,y,k,_,x,w,S="sizzle"+1*new Date,T=i.document,E=0,A=0,q=ut(),C=ut(),L=ut(),M=function(t,n){return t===n&&(f=!0),0},N={}.hasOwnProperty,O=[],I=O.pop,j=O.push,D=O.push,z=O.slice,P=function(t,n){for(var e=0,o=t.length;e<o;e++)if(t[e]===n)return e;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+H+"*("+F+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+H+"*\\]",W=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",V=new RegExp(H+"+","g"),G=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),X=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),J=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),Y=new RegExp(W),$=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,nt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,ot=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),it=function(t,n,e){var o="0x"+n-65536;return o!=o||e?n:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},at=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=function(t,n){return n?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){m()},lt=xt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(O=z.call(T.childNodes),T.childNodes),O[T.childNodes.length].nodeType}catch(t){D={apply:O.length?function(t,n){j.apply(t,z.call(n))}:function(t,n){for(var e=t.length,o=0;t[e++]=n[o++];);t.length=e-1}}}function ct(t,n,e,o){var i,a,r,l,c,p,h,b=n&&n.ownerDocument,f=n?n.nodeType:9;if(e=e||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return e;if(!o&&((n?n.ownerDocument||n:T)!==g&&m(n),n=n||g,y)){if(11!==f&&(c=nt.exec(t)))if(i=c[1]){if(9===f){if(!(r=n.getElementById(i)))return e;if(r.id===i)return e.push(r),e}else if(b&&(r=b.getElementById(i))&&w(n,r)&&r.id===i)return e.push(r),e}else{if(c[2])return D.apply(e,n.getElementsByTagName(t)),e;if((i=c[3])&&s.getElementsByClassName&&n.getElementsByClassName)return D.apply(e,n.getElementsByClassName(i)),e}if(s.qsa&&!L[t+" "]&&(!k||!k.test(t))){if(1!==f)b=n,h=t;else if("object"!==n.nodeName.toLowerCase()){for((l=n.getAttribute("id"))?l=l.replace(at,st):n.setAttribute("id",l=S),a=(p=u(t)).length;a--;)p[a]="#"+l+" "+_t(p[a]);h=p.join(","),b=et.test(t)&&yt(n.parentNode)||n}if(h)try{return D.apply(e,b.querySelectorAll(h)),e}catch(t){}finally{l===S&&n.removeAttribute("id")}}}return d(t.replace(G,"$1"),n,e,o)}function ut(){var t=[];return function n(e,o){return t.push(e+" ")>r.cacheLength&&delete n[t.shift()],n[e+" "]=o}}function pt(t){return t[S]=!0,t}function dt(t){var n=g.createElement("fieldset");try{return!!t(n)}catch(t){return!1}finally{n.parentNode&&n.parentNode.removeChild(n),n=null}}function ht(t,n){for(var e=t.split("|"),o=e.length;o--;)r.attrHandle[e[o]]=n}function bt(t,n){var e=n&&t,o=e&&1===t.nodeType&&1===n.nodeType&&t.sourceIndex-n.sourceIndex;if(o)return o;if(e)for(;e=e.nextSibling;)if(e===n)return-1;return t?1:-1}function ft(t){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===t}}function mt(t){return function(n){var e=n.nodeName.toLowerCase();return("input"===e||"button"===e)&&n.type===t}}function gt(t){return function(n){return"form"in n?n.parentNode&&!1===n.disabled?"label"in n?"label"in n.parentNode?n.parentNode.disabled===t:n.disabled===t:n.isDisabled===t||n.isDisabled!==!t&&lt(n)===t:n.disabled===t:"label"in n&&n.disabled===t}}function vt(t){return pt(function(n){return n=+n,pt(function(e,o){for(var i,a=t([],e.length,n),s=a.length;s--;)e[i=a[s]]&&(e[i]=!(o[i]=e[i]))})})}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(a in s=ct.support={},c=ct.isXML=function(t){var n=t&&(t.ownerDocument||t).documentElement;return!!n&&"HTML"!==n.nodeName},m=ct.setDocument=function(t){var n,e,o=t?t.ownerDocument||t:T;return o!==g&&9===o.nodeType&&o.documentElement?(v=(g=o).documentElement,y=!c(g),T!==g&&(e=g.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",rt,!1):e.attachEvent&&e.attachEvent("onunload",rt)),s.attributes=dt(function(t){return t.className="i",!t.getAttribute("className")}),s.getElementsByTagName=dt(function(t){return t.appendChild(g.createComment("")),!t.getElementsByTagName("*").length}),s.getElementsByClassName=tt.test(g.getElementsByClassName),s.getById=dt(function(t){return v.appendChild(t).id=S,!g.getElementsByName||!g.getElementsByName(S).length}),s.getById?(r.filter.ID=function(t){var n=t.replace(ot,it);return function(t){return t.getAttribute("id")===n}},r.find.ID=function(t,n){if(void 0!==n.getElementById&&y){var e=n.getElementById(t);return e?[e]:[]}}):(r.filter.ID=function(t){var n=t.replace(ot,it);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},r.find.ID=function(t,n){if(void 0!==n.getElementById&&y){var e,o,i,a=n.getElementById(t);if(a){if((e=a.getAttributeNode("id"))&&e.value===t)return[a];for(i=n.getElementsByName(t),o=0;a=i[o++];)if((e=a.getAttributeNode("id"))&&e.value===t)return[a]}return[]}}),r.find.TAG=s.getElementsByTagName?function(t,n){return void 0!==n.getElementsByTagName?n.getElementsByTagName(t):s.qsa?n.querySelectorAll(t):void 0}:function(t,n){var e,o=[],i=0,a=n.getElementsByTagName(t);if("*"===t){for(;e=a[i++];)1===e.nodeType&&o.push(e);return o}return a},r.find.CLASS=s.getElementsByClassName&&function(t,n){if(void 0!==n.getElementsByClassName&&y)return n.getElementsByClassName(t)},_=[],k=[],(s.qsa=tt.test(g.querySelectorAll))&&(dt(function(t){v.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||k.push("\\["+H+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+S+"-]").length||k.push("~="),t.querySelectorAll(":checked").length||k.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||k.push(".#.+[+~]")}),dt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var n=g.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&k.push("name"+H+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),v.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),k.push(",.*:")})),(s.matchesSelector=tt.test(x=v.matches||v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&dt(function(t){s.disconnectedMatch=x.call(t,"*"),x.call(t,"[s!='']:x"),_.push("!=",W)}),k=k.length&&new RegExp(k.join("|")),_=_.length&&new RegExp(_.join("|")),n=tt.test(v.compareDocumentPosition),w=n||tt.test(v.contains)?function(t,n){var e=9===t.nodeType?t.documentElement:t,o=n&&n.parentNode;return t===o||!(!o||1!==o.nodeType||!(e.contains?e.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,n){if(n)for(;n=n.parentNode;)if(n===t)return!0;return!1},M=n?function(t,n){if(t===n)return f=!0,0;var e=!t.compareDocumentPosition-!n.compareDocumentPosition;return e||(1&(e=(t.ownerDocument||t)===(n.ownerDocument||n)?t.compareDocumentPosition(n):1)||!s.sortDetached&&n.compareDocumentPosition(t)===e?t===g||t.ownerDocument===T&&w(T,t)?-1:n===g||n.ownerDocument===T&&w(T,n)?1:b?P(b,t)-P(b,n):0:4&e?-1:1)}:function(t,n){if(t===n)return f=!0,0;var e,o=0,i=t.parentNode,a=n.parentNode,s=[t],r=[n];if(!i||!a)return t===g?-1:n===g?1:i?-1:a?1:b?P(b,t)-P(b,n):0;if(i===a)return bt(t,n);for(e=t;e=e.parentNode;)s.unshift(e);for(e=n;e=e.parentNode;)r.unshift(e);for(;s[o]===r[o];)o++;return o?bt(s[o],r[o]):s[o]===T?-1:r[o]===T?1:0},g):g},ct.matches=function(t,n){return ct(t,null,null,n)},ct.matchesSelector=function(t,n){if((t.ownerDocument||t)!==g&&m(t),n=n.replace(J,"='$1']"),s.matchesSelector&&y&&!L[n+" "]&&(!_||!_.test(n))&&(!k||!k.test(n)))try{var e=x.call(t,n);if(e||s.disconnectedMatch||t.document&&11!==t.document.nodeType)return e}catch(t){}return ct(n,g,null,[t]).length>0},ct.contains=function(t,n){return(t.ownerDocument||t)!==g&&m(t),w(t,n)},ct.attr=function(t,n){(t.ownerDocument||t)!==g&&m(t);var e=r.attrHandle[n.toLowerCase()],o=e&&N.call(r.attrHandle,n.toLowerCase())?e(t,n,!y):void 0;return void 0!==o?o:s.attributes||!y?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null},ct.escape=function(t){return(t+"").replace(at,st)},ct.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ct.uniqueSort=function(t){var n,e=[],o=0,i=0;if(f=!s.detectDuplicates,b=!s.sortStable&&t.slice(0),t.sort(M),f){for(;n=t[i++];)n===t[i]&&(o=e.push(i));for(;o--;)t.splice(e[o],1)}return b=null,t},l=ct.getText=function(t){var n,e="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=l(t)}else if(3===i||4===i)return t.nodeValue}else for(;n=t[o++];)e+=l(n);return e},(r=ct.selectors={cacheLength:50,createPseudo:pt,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ot,it),t[3]=(t[3]||t[4]||t[5]||"").replace(ot,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ct.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ct.error(t[0]),t},PSEUDO:function(t){var n,e=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":e&&Y.test(e)&&(n=u(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(t[0]=t[0].slice(0,n),t[2]=e.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(ot,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(t){var n=q[t+" "];return n||(n=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&q(t,function(t){return n.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,e){return function(o){var i=ct.attr(o,t);return null==i?"!="===n:!n||(i+="","="===n?i===e:"!="===n?i!==e:"^="===n?e&&0===i.indexOf(e):"*="===n?e&&i.indexOf(e)>-1:"$="===n?e&&i.slice(-e.length)===e:"~="===n?(" "+i.replace(V," ")+" ").indexOf(e)>-1:"|="===n&&(i===e||i.slice(0,e.length+1)===e+"-"))}},CHILD:function(t,n,e,o,i){var a="nth"!==t.slice(0,3),s="last"!==t.slice(-4),r="of-type"===n;return 1===o&&0===i?function(t){return!!t.parentNode}:function(n,e,l){var c,u,p,d,h,b,f=a!==s?"nextSibling":"previousSibling",m=n.parentNode,g=r&&n.nodeName.toLowerCase(),v=!l&&!r,y=!1;if(m){if(a){for(;f;){for(d=n;d=d[f];)if(r?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;b=f="only"===t&&!b&&"nextSibling"}return!0}if(b=[s?m.firstChild:m.lastChild],s&&v){for(y=(h=(c=(u=(p=(d=m)[S]||(d[S]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===E&&c[1])&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[f]||(y=h=0)||b.pop();)if(1===d.nodeType&&++y&&d===n){u[t]=[E,h,y];break}}else if(v&&(y=h=(c=(u=(p=(d=n)[S]||(d[S]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===E&&c[1]),!1===y)for(;(d=++h&&d&&d[f]||(y=h=0)||b.pop())&&((r?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++y||(v&&((u=(p=d[S]||(d[S]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]=[E,y]),d!==n)););return(y-=i)===o||y%o==0&&y/o>=0}}},PSEUDO:function(t,n){var e,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ct.error("unsupported pseudo: "+t);return o[S]?o(n):o.length>1?(e=[t,t,"",n],r.setFilters.hasOwnProperty(t.toLowerCase())?pt(function(t,e){for(var i,a=o(t,n),s=a.length;s--;)t[i=P(t,a[s])]=!(e[i]=a[s])}):function(t){return o(t,0,e)}):o}},pseudos:{not:pt(function(t){var n=[],e=[],o=p(t.replace(G,"$1"));return o[S]?pt(function(t,n,e,i){for(var a,s=o(t,null,i,[]),r=t.length;r--;)(a=s[r])&&(t[r]=!(n[r]=a))}):function(t,i,a){return n[0]=t,o(n,null,a,e),n[0]=null,!e.pop()}}),has:pt(function(t){return function(n){return ct(t,n).length>0}}),contains:pt(function(t){return t=t.replace(ot,it),function(n){return(n.textContent||n.innerText||l(n)).indexOf(t)>-1}}),lang:pt(function(t){return $.test(t||"")||ct.error("unsupported lang: "+t),t=t.replace(ot,it).toLowerCase(),function(n){var e;do{if(e=y?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(e=e.toLowerCase())===t||0===e.indexOf(t+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(t){var n=i.location&&i.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===v},focus:function(t){return t===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&!!t.checked||"option"===n&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&"button"===t.type||"button"===n},text:function(t){var n;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(n=t.getAttribute("type"))||"text"===n.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,n){return[n-1]}),eq:vt(function(t,n,e){return[e<0?e+n:e]}),even:vt(function(t,n){for(var e=0;e<n;e+=2)t.push(e);return t}),odd:vt(function(t,n){for(var e=1;e<n;e+=2)t.push(e);return t}),lt:vt(function(t,n,e){for(var o=e<0?e+n:e;--o>=0;)t.push(o);return t}),gt:vt(function(t,n,e){for(var o=e<0?e+n:e;++o<n;)t.push(o);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[a]=ft(a);for(a in{submit:!0,reset:!0})r.pseudos[a]=mt(a);function kt(){}function _t(t){for(var n=0,e=t.length,o="";n<e;n++)o+=t[n].value;return o}function xt(t,n,e){var o=n.dir,i=n.next,a=i||o,s=e&&"parentNode"===a,r=A++;return n.first?function(n,e,i){for(;n=n[o];)if(1===n.nodeType||s)return t(n,e,i);return!1}:function(n,e,l){var c,u,p,d=[E,r];if(l){for(;n=n[o];)if((1===n.nodeType||s)&&t(n,e,l))return!0}else for(;n=n[o];)if(1===n.nodeType||s)if(u=(p=n[S]||(n[S]={}))[n.uniqueID]||(p[n.uniqueID]={}),i&&i===n.nodeName.toLowerCase())n=n[o]||n;else{if((c=u[a])&&c[0]===E&&c[1]===r)return d[2]=c[2];if(u[a]=d,d[2]=t(n,e,l))return!0}return!1}}function wt(t){return t.length>1?function(n,e,o){for(var i=t.length;i--;)if(!t[i](n,e,o))return!1;return!0}:t[0]}function St(t,n,e,o,i){for(var a,s=[],r=0,l=t.length,c=null!=n;r<l;r++)(a=t[r])&&(e&&!e(a,o,i)||(s.push(a),c&&n.push(r)));return s}function Tt(t,n,e,o,i,a){return o&&!o[S]&&(o=Tt(o)),i&&!i[S]&&(i=Tt(i,a)),pt(function(a,s,r,l){var c,u,p,d=[],h=[],b=s.length,f=a||function(t,n,e){for(var o=0,i=n.length;o<i;o++)ct(t,n[o],e);return e}(n||"*",r.nodeType?[r]:r,[]),m=!t||!a&&n?f:St(f,d,t,r,l),g=e?i||(a?t:b||o)?[]:s:m;if(e&&e(m,g,r,l),o)for(c=St(g,h),o(c,[],r,l),u=c.length;u--;)(p=c[u])&&(g[h[u]]=!(m[h[u]]=p));if(a){if(i||t){if(i){for(c=[],u=g.length;u--;)(p=g[u])&&c.push(m[u]=p);i(null,g=[],c,l)}for(u=g.length;u--;)(p=g[u])&&(c=i?P(a,p):d[u])>-1&&(a[c]=!(s[c]=p))}}else g=St(g===s?g.splice(b,g.length):g),i?i(null,s,g,l):D.apply(s,g)})}function Et(t){for(var n,e,o,i=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],l=a?1:0,c=xt(function(t){return t===n},s,!0),u=xt(function(t){return P(n,t)>-1},s,!0),p=[function(t,e,o){var i=!a&&(o||e!==h)||((n=e).nodeType?c(t,e,o):u(t,e,o));return n=null,i}];l<i;l++)if(e=r.relative[t[l].type])p=[xt(wt(p),e)];else{if((e=r.filter[t[l].type].apply(null,t[l].matches))[S]){for(o=++l;o<i&&!r.relative[t[o].type];o++);return Tt(l>1&&wt(p),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(G,"$1"),e,l<o&&Et(t.slice(l,o)),o<i&&Et(t=t.slice(o)),o<i&&_t(t))}p.push(e)}return wt(p)}kt.prototype=r.filters=r.pseudos,r.setFilters=new kt,u=ct.tokenize=function(t,n){var e,o,i,a,s,l,c,u=C[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=r.preFilter;s;){for(a in e&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),e=!1,(o=X.exec(s))&&(e=o.shift(),i.push({value:e,type:o[0].replace(G," ")}),s=s.slice(e.length)),r.filter)!(o=K[a].exec(s))||c[a]&&!(o=c[a](o))||(e=o.shift(),i.push({value:e,type:a,matches:o}),s=s.slice(e.length));if(!e)break}return n?s.length:s?ct.error(t):C(t,l).slice(0)},p=ct.compile=function(t,n){var e,o=[],i=[],a=L[t+" "];if(!a){for(n||(n=u(t)),e=n.length;e--;)(a=Et(n[e]))[S]?o.push(a):i.push(a);(a=L(t,function(t,n){var e=n.length>0,o=t.length>0,i=function(i,a,s,l,c){var u,p,d,b=0,f="0",v=i&&[],k=[],_=h,x=i||o&&r.find.TAG("*",c),w=E+=null==_?1:Math.random()||.1,S=x.length;for(c&&(h=a===g||a||c);f!==S&&null!=(u=x[f]);f++){if(o&&u){for(p=0,a||u.ownerDocument===g||(m(u),s=!y);d=t[p++];)if(d(u,a||g,s)){l.push(u);break}c&&(E=w)}e&&((u=!d&&u)&&b--,i&&v.push(u))}if(b+=f,e&&f!==b){for(p=0;d=n[p++];)d(v,k,a,s);if(i){if(b>0)for(;f--;)v[f]||k[f]||(k[f]=I.call(l));k=St(k)}D.apply(l,k),c&&!i&&k.length>0&&b+n.length>1&&ct.uniqueSort(l)}return c&&(E=w,h=_),v};return e?pt(i):i}(i,o))).selector=t}return a},d=ct.select=function(t,n,e,o){var i,a,s,l,c,d="function"==typeof t&&t,h=!o&&u(t=d.selector||t);if(e=e||[],1===h.length){if((a=h[0]=h[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&y&&r.relative[a[1].type]){if(!(n=(r.find.ID(s.matches[0].replace(ot,it),n)||[])[0]))return e;d&&(n=n.parentNode),t=t.slice(a.shift().value.length)}for(i=K.needsContext.test(t)?0:a.length;i--&&(s=a[i],!r.relative[l=s.type]);)if((c=r.find[l])&&(o=c(s.matches[0].replace(ot,it),et.test(a[0].type)&&yt(n.parentNode)||n))){if(a.splice(i,1),!(t=o.length&&_t(a)))return D.apply(e,o),e;break}}return(d||p(t,h))(o,n,!y,e,!n||et.test(t)&&yt(n.parentNode)||n),e},s.sortStable=S.split("").sort(M).join("")===S,s.detectDuplicates=!!f,m(),s.sortDetached=dt(function(t){return 1&t.compareDocumentPosition(g.createElement("fieldset"))}),dt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,n,e){if(!e)return t.getAttribute(n,"type"===n.toLowerCase()?1:2)}),s.attributes&&dt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,n,e){if(!e&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),dt(function(t){return null==t.getAttribute("disabled")})||ht(R,function(t,n,e){var o;if(!e)return!0===t[n]?n.toLowerCase():(o=t.getAttributeNode(n))&&o.specified?o.value:null});var At=i.Sizzle;ct.noConflict=function(){return i.Sizzle===ct&&(i.Sizzle=At),ct},void 0===(o=function(){return ct}.call(n,e,n,t))||(t.exports=o)}(window)},function(t,n,e){"use strict";var o,i;o=[e(1),e(96)],void 0===(i=function(t,n){t.find=n,t.expr=n.selectors,t.expr[":"]=t.expr.pseudos,t.uniqueSort=t.unique=n.uniqueSort,t.text=n.getText,t.isXMLDoc=n.isXML,t.contains=n.contains,t.escapeSelector=n.escape}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(6)],void 0===(i=function(t){return t.expr.match.needsContext}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(29),e(4),e(98),e(6)],void 0===(i=function(t,n,e,o){function i(o,i,a){return e(i)?t.grep(o,function(t,n){return!!i.call(t,n,t)!==a}):i.nodeType?t.grep(o,function(t){return t===i!==a}):"string"!=typeof i?t.grep(o,function(t){return n.call(i,t)>-1!==a}):t.filter(i,o,a)}t.filter=function(n,e,o){var i=e[0];return o&&(n=":not("+n+")"),1===e.length&&1===i.nodeType?t.find.matchesSelector(i,n)?[i]:[]:t.find.matches(n,t.grep(e,function(t){return 1===t.nodeType}))},t.fn.extend({find:function(n){var e,o,i=this.length,a=this;if("string"!=typeof n)return this.pushStack(t(n).filter(function(){for(e=0;e<i;e++)if(t.contains(a[e],this))return!0}));for(o=this.pushStack([]),e=0;e<i;e++)t.find(n,a[e],o);return i>1?t.uniqueSort(o):o},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(n){return!!i(this,"string"==typeof n&&o.test(n)?t(n):n||[],!1).length}})}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(23),e(3),e(22),e(4),e(13),e(17),e(21),e(11),e(25),e(20),e(95),e(6)],void 0===(i=function(t,n,e,o,i,a,s,r,l,c){return t.offset={setOffset:function(n,e,o){var a,s,r,l,c,u,p=t.css(n,"position"),d=t(n),h={};"static"===p&&(n.style.position="relative"),c=d.offset(),r=t.css(n,"top"),u=t.css(n,"left"),("absolute"===p||"fixed"===p)&&(r+u).indexOf("auto")>-1?(l=(a=d.position()).top,s=a.left):(l=parseFloat(r)||0,s=parseFloat(u)||0),i(e)&&(e=e.call(n,o,t.extend({},c))),null!=e.top&&(h.top=e.top-c.top+l),null!=e.left&&(h.left=e.left-c.left+s),"using"in e?e.using.call(n,h):d.css(h)}},t.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(e){t.offset.setOffset(this,n,e)});var e,o,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),o=i.ownerDocument.defaultView,{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var n,e,o,i=this[0],a={top:0,left:0};if("fixed"===t.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),o=i.ownerDocument,n=i.offsetParent||o.documentElement;n&&(n===o.body||n===o.documentElement)&&"static"===t.css(n,"position");)n=n.parentNode;n&&n!==i&&1===n.nodeType&&((a=t(n).offset()).top+=t.css(n,"borderTopWidth",!0),a.left+=t.css(n,"borderLeftWidth",!0))}return{top:e.top-a.top-t.css(i,"marginTop",!0),left:e.left-a.left-t.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===t.css(n,"position");)n=n.offsetParent;return n||o})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var i="pageYOffset"===o;t.fn[e]=function(t){return n(this,function(t,n,e){var a;if(c(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===e)return a?a[o]:t[n];a?a.scrollTo(i?a.pageXOffset:e,i?e:a.pageYOffset):t[n]=e},e,t,arguments.length)}}),t.each(["top","left"],function(n,e){t.cssHooks[e]=r(l.pixelPosition,function(n,o){if(o)return o=s(n,e),a.test(o)?t(n).position()[e]+"px":o})}),t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(3)],void 0===(i=function(t){var n={type:!0,src:!0,noModule:!0};return function(e,o,i){var a,s=(o=o||t).createElement("script");if(s.text=e,i)for(a in n)i[a]&&(s[a]=i[a]);o.head.appendChild(s).parentNode.removeChild(s)}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(27)],void 0===(i=function(t){return t.call(Object)}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.push}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.concat}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return Object.getPrototypeOf}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),i=s(e(1));e(101);var a=s(e(33));function s(t){return t&&t.__esModule?t:{default:t}}var r=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._bookContainer=n,this._textContainer=n.querySelector("[data-wb-text-container]"),this._text=n.querySelector("[data-wb-text]"),this._height=e.height,this._width=e.maxWidth,this._marginX=void 0===e.marginX?35:e.marginX,this._marginY=void 0===e.marginY?20:e.marginY,this._position=0,this.col=!0,this._bookmark=null,this._containerWidth=0,this._startPage=0,this._sectionsIndex=0,this._parentSection=null,this._pages_total=0,this._lastElement=document.createElement("DIV"),this._lastElement.className="wb-section wb-no-toc",this._lastElement.id="wb-last";var o=document.createElement("P");o.innerHTML="&nbsp;",this._lastElement.appendChild(o),this._div=document.createElement("DIV"),this._div.id="wb_div",this._div.innerHTML=e.text,this._div.appendChild(this._lastElement),this._divContainer=document.createElement("DIV"),this._divContainer.appendChild(this._div),this._sections=this._divContainer.querySelectorAll("#wb_div > .wb-section"),this._sectionsToc=this._div.querySelectorAll(".wb-section"),this._tocSections=[];for(var i=0;i<this._sectionsToc.length;i++)this._sectionsToc[i].className.match(/wb-no-toc/)||this._tocSections.push(this._sectionsToc[i]);this._tocs=this._bookContainer.querySelectorAll("[data-wb-toc]"),this.getTocs(),this._currentPages=this._bookContainer.querySelectorAll(".wb-current-page"),this._totalPages=this._bookContainer.querySelectorAll(".wb-total-pages"),this._currentTotalPages=this._bookContainer.querySelectorAll(".wb-currentByTotal-pages"),this._elPageNumbers=this._bookContainer.querySelectorAll("[data-wb-element-page-number]"),this._sectionTitles=this._bookContainer.querySelectorAll(".wb-current-section-title"),this.setBookLinks()}return o(t,[{key:"init",value:function(t){var n=this;return this._tableInfos=t,new a.default(function(t,e){if("webkitColumnWidth"in document.body.style||"mozColumnWidth"in document.body.style||"columnWidth"in document.body.style){for(var o=n._sectionsToc,a=0;a<o.length;a++)o[a].style.display="none",o[a].className.match(/wb-no-break/)||"300%"===o[a].style.marginBottom||(o[a].style.marginBottom="300%"),"10%"!==o[a].style.minHeight&&"10%"!==o[a].style.minHeight&&(o[a].style.minHeight="10%"),o[a].style.display="block";if(n._text.style.display="none",void 0===n._tableInfos){n.emptyNode(n._text),n._text.appendChild(n._div),n.toBook(),n._startPage=n.getPageStart(),n.pages_total=n.getBookTotalPages(),n._sections_page_start=[],n._toc_sections_page_start=[];for(var s=0;s<o.length;s++){var r={};r.id=o[s].id,r.page_start=n.elementPageNumber(r.id),o[s].parentElement.className.match(/wb-section/)||n._sections_page_start.push(r),n._toc_sections_page_start.push(r)}}else n._startPage=n._tableInfos.startPage,n.pages_total=n._tableInfos.totalPages,n._sections_page_start=n._tableInfos.sectionsPageStart,n._toc_sections_page_start=n._tableInfos.tocSectionsPageStart;for(var l=function(t){var e=n._elPageNumbers[t].getAttribute("data-wb-element-page-number"),o=n._toc_sections_page_start.filter(function(t){return t.id===e})[0].page_start;o<1?n._elPageNumbers[t].innerHTML="":n._elPageNumbers[t].innerHTML!=o&&(n._elPageNumbers[t].innerHTML=o)},c=0;c<n._elPageNumbers.length;c++)l(c);n._bookmark?(n.goToBookmark(n._bookmark),n._position=Math.round((0,i.default)(n._text).position().left)):n.nextSection(n._sectionsIndex),n.refresh(),n._text.style.display="block",t({startPage:n._startPage,totalPages:n.pages_total,sectionsPageStart:n._sections_page_start,tocSectionsPageStart:n._toc_sections_page_start})}else e("no column")})}},{key:"toBook",value:function(){this.col=!0;var t=this.getMarginX(),n=this.getMarginY(),e=this._textContainer.style;e.display="none",e.boxSizing="border-box",e.webkitBoxSizing="border-box",e.overflow="hidden",e.position="relative",e.padding="0px",e.height=this.getHeight()+"px",e.maxWidth=this.getMaxWidth()+"px",e.display="block",this._containerWidth=this.getMaxWidth();var o=this._text.style;o.display="none",o.boxSizing="border-box",o.webkitBoxSizing="border-box",o.position="absolute",o.left=0,o.top=0,o.height="100%",o.width="100%",o.paddingRight=t+"px",o.paddingLeft=t+"px",o.paddingTop=n+"px",o.paddingBottom=n+"px",o.webkitColumnFill="auto",o.mozColumnFill="auto",o.columnFill="auto",o.webkitColumnWidth=this._containerWidth+"px",o.mozColumnWidth=this._containerWidth+"px",o.columnWidth=this._containerWidth+"px",o.mozColumnGap=2*t+"px",o.webkitColumnGap=2*t+"px",o.columnGap=2*t+"px",o.display="block"}},{key:"setMaxWidth",value:function(t){return this._width=t,this}},{key:"getMaxWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){return this._height=t,this}},{key:"getHeight",value:function(){return this._height}},{key:"setMarginX",value:function(t){return this._marginX=t,this}},{key:"getMarginX",value:function(){return this._marginX}},{key:"setMarginY",value:function(t){return this._marginY=t,this}},{key:"getMarginY",value:function(){return this._marginY}},{key:"emptyNode",value:function(t){for(var n=t.firstChild;n;)t.removeChild(n),n=t.firstChild}},{key:"setBookLinks",value:function(){for(var t=this,n=this._bookContainer.querySelectorAll(".wb-link"),e=0;e<n.length;e++)n[e].addEventListener("click",function(n){if(!0===t.col){n.preventDefault();var e=n.currentTarget.getAttribute("href").replace(/^#/,"");t.goToElement(e)}},!1)}},{key:"setSectionLinks",value:function(){for(var t=this,n=this._text.querySelectorAll(".wb-section")[0].querySelectorAll(".wb-link"),e=0;e<n.length;e++)n[e].addEventListener("click",function(n){if(!0===t.col){n.preventDefault();var e=n.currentTarget.getAttribute("href").replace(/^#/,"");t.goToElement(e)}},!1)}},{key:"nextSection",value:function(t){"wb-last"!==this._sections[t].id&&(this._sectionsIndex=t,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._tableInfos&&this.toBook(),this._position=0,this._text.style.left=this._position+"px",this.refresh())}},{key:"prevSection",value:function(t){t<0||(this._sectionsIndex=t,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._tableInfos&&this.toBook(),this.goToPage(this.getSectionTotalPages()-this._startPage),this.refresh())}},{key:"goToElement",value:function(t){for(var n=0;n<this._sections.length;n++){if(this._sections[n].id===t){this.nextSection(n);break}if(this._sections[n].querySelector("#"+t)){this._sectionsIndex=n,this._sections[this._sectionsIndex].id!==this._text.querySelectorAll(".wb-section")[0].id&&(this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._tableInfos&&this.toBook()),this.goToPage(this.elementPageNumber(t)),this.refresh();break}}}},{key:"getParentSectionId",value:function(){return this._text.querySelectorAll(".wb-section")[0].id}},{key:"forward",value:function(){this.getSectionTotalPages()===this.getPageNumber()?this.nextSection(this._sectionsIndex+1):(this._position=Math.round((0,i.default)(this._text).position().left),this._position-=this._containerWidth,this._text.style.left=this._position+"px",this.refresh())}},{key:"backward",value:function(){1==this.getPageNumber()?this.prevSection(this._sectionsIndex-1):(this._position=Math.round((0,i.default)(this._text).position().left),this._position+=this._containerWidth,this._text.style.left=this._position+"px",this.refresh())}},{key:"toFirstPage",value:function(){this.nextSection(0),this.refresh()}},{key:"toLastPage",value:function(){this.prevSection(this._sections.length-2),this.refresh()}},{key:"getPageStart",value:function(){for(var t=void 0,n=void 0,e=void 0,o=0;o<this._sections.length;o++)if(this._sections[o]&&this._sections[o].className.match(/wb-no-page/))t=o;else if(void 0!==t&&void 0===n&&!this._sections[o].className.match(/wb-no-page/)){n=o;var a=this._sections[n].id,s=this._text.querySelector("#"+a+" p:first-child"),r=Math.round((0,i.default)(s).position().left)-this.getMarginX();e=(r=r%this._containerWidth!=0?r-r%this._containerWidth:r)/this._containerWidth;break}return e||0}},{key:"checkFirstPage",value:function(){return 0===this._position}},{key:"getPageNumber",value:function(){var t=Math.abs(Math.floor(this._position/this._containerWidth))+1;return t}},{key:"getSectionTotalPages",value:function(){var t=Math.floor(Math.round((0,i.default)(this._text.lastElementChild).position().left)/this._containerWidth);return t}},{key:"getBookTotalPages",value:function(){return Math.floor(Math.round((0,i.default)(this._lastElement).position().left)/this._containerWidth)-this._startPage}},{key:"goToPage",value:function(t){t+=this._startPage;var n=this._containerWidth*(t-1);this._text.style.left=-n+"px",this._position=Math.round((0,i.default)(this._text).position().left)}},{key:"getElementPosition",value:function(t){var n=Math.round((0,i.default)(t).position().left)-this.getMarginX();return n%this._containerWidth!=0?n-n%this._containerWidth:n}},{key:"elementPageNumber",value:function(t){var n=void 0;return this._text.querySelector("#"+t).className.match(/wb-section/)?n=this._text.querySelector("#"+t+" p:first-child"):this._text.querySelector("#"+t)&&(n=this._text.querySelector("#"+t)),n?this.getElementPosition(n)/this._containerWidth+1-this._startPage:""}},{key:"getSectionTitle",value:function(){var t="",n=this._text.querySelectorAll(".wb-section")[0];if(0!==n.querySelectorAll(".wb-section").length&&0!==this._text.querySelectorAll(".wb-section-title").length){var e=this._text.querySelectorAll(".wb-section-title"),o=[].slice.call(e);o.push(this._lastElement);for(var i=0;i<o.length;i++){var a=o[i].id;if(this.getPageNumber()<this.elementPageNumber(a)+this._startPage){t=this.getPageNumber()===this.elementPageNumber(o[i-1].id)+this._startPage?"":o[i-1].getAttribute("data-wb-title")?o[i-1].getAttribute("data-wb-title"):o[i-1].title;break}}}else t=1==this.getPageNumber()?"":n.className.match(/wb-no-title/)?"":n.getAttribute("data-wb-title")?n.getAttribute("data-wb-title"):n.title;return t}},{key:"getTocs",value:function(){if(0!==this._tocs.length){var t=this._tocs[0];if(t.getAttribute("data-wb-toc")){var n=document.createElement("p");n.setAttribute("class","wb-toc-title"),n.innerHTML=t.getAttribute("data-wb-toc"),t.appendChild(n)}var e=document.createElement("div"),o=document.createElement("ul");o.setAttribute("class","wb-toc-list");for(var i=0;i<this._tocSections.length;i++){var a=this._tocSections[i],s=document.createElement("li");s.setAttribute("class","wb-toc-item");var r=document.createElement("a");r.setAttribute("href","#"+a.id),r.setAttribute("class","wb-link"),s.appendChild(r);var l=document.createElement("span");if(a.getAttribute("data-wb-class")?l.setAttribute("class","wb-toc-item-title "+a.getAttribute("data-wb-class")):l.setAttribute("class","wb-toc-item-title"),l.innerHTML=a.getAttribute("data-wb-title-toc")?a.getAttribute("data-wb-title-toc"):a.title,r.appendChild(l),!a.className.match(/wb-toc-no-page-number/)){var c=document.createElement("span");c.setAttribute("class","wb-toc-item-page-number"),c.setAttribute("data-wb-element-page-number",a.id),r.appendChild(c)}o.appendChild(s)}if(e.appendChild(o),t.appendChild(e),this._tocs[1])for(var u=1;u<this._tocs.length;u++){if(this._tocs[u].getAttribute("data-wb-toc")){var p=document.createElement("p");p.setAttribute("class","wb-toc-title"),p.innerHTML=this._tocs[u].getAttribute("data-wb-toc"),this._tocs[u].appendChild(p)}this._tocs[u].appendChild(e.cloneNode(!0))}}}},{key:"getTocsCurrentSection",value:function(){var t=void 0,n=this._text.querySelectorAll(".wb-section")[0];if(0!==n.querySelectorAll(".wb-section").length){var e=this._text.querySelectorAll("[data-wb-active-section]"),o=[].slice.call(e);o.push(this._lastElement);for(var i=0;i<o.length;i++){var a=o[i].id;if(this.getPageNumber()<this.elementPageNumber(a)+this._startPage){t=o[i-1];break}}}else t=n;if(t)for(var s=0;s<this._tocs.length;s++)for(var r=this._tocs[s].querySelectorAll("a"),l=0;l<r.length;l++){var c=t.getAttribute("data-wb-active-section")?t.getAttribute("data-wb-active-section"):t.id;r[l].getAttribute("href").replace(/^#/,"")===c?r[l].parentElement.className.match(/current/)||(r[l].parentElement.className+=" current"):r[l].parentElement.className.match(/current/)&&(r[l].parentElement.className=r[s].parentElement.className.replace(/ current/,""))}}},{key:"insertBookmark",value:function(){var t=this._text.querySelectorAll(".wb-section")[0];if(t)for(var n=t.querySelectorAll(":not(.wb-section)"),e=Math.abs(this._position),o=0;o<n.length;o++){var i=this.getElementPosition(n[o]);if(i===e){if("wb-last"===t.id){this._bookmark={sectionId:t.id,el:n.length-1};break}this._bookmark={sectionId:t.id,el:o};break}if(i>e){this._bookmark={sectionId:t.id,el:o-1};break}}}},{key:"goToBookmark",value:function(t){for(var n=0;n<this._sections.length;n++)if(this._sections[n].id===t.sectionId){this._sectionsIndex=n,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this.toBook();var e=this._text.querySelectorAll(".wb-section")[0].querySelectorAll(":not(.wb-section)")[t.el],o=this.getElementPosition(e);this._text.style.left=-o+"px",this._position=Math.round((0,i.default)(this._text).position().left),this.refresh();break}}},{key:"getBookmark",value:function(){return this._bookmark}},{key:"setBookmark",value:function(t){this._bookmark=t}},{key:"getCover",value:function(){0===this._sectionsIndex&&1==this.getPageNumber()?this._text.className.match(/cover/)||(this._text.className+=" cover_active"):this._text.className.match(/cover/)&&(this._text.className=this._text.className.replace(/ cover/,""))}},{key:"refresh",value:function(){if(this.insertBookmark(),this.getCover(),!1===this.col){for(var t=0;t<this._currentPages.length;t++)this._currentPages[t].innerHTML="";for(var n=0;n<this._currentTotalPages.length;n++)this._currentTotalPages[n].innerHTML="";for(var e=0;e<this._sectionTitles.length;e++)this._sectionTitles[e].innerHTML=""}else{0!==this._tocs.length&&this.getTocsCurrentSection();for(var o=0;o<this._currentPages.length;o++){var i=this._sections_page_start[this._sectionsIndex].page_start+this.getPageNumber()-1;i<1?this._currentPages[o].innerHTML="":this._currentPages[o].innerHTML!==i&&(this._currentPages[o].innerHTML=i)}for(var a=0;a<this._currentTotalPages.length;a++){var s=this._text.querySelectorAll(".wb-section")[0],r=this._sections_page_start[this._sectionsIndex].page_start+this.getPageNumber()-1;r<1||s.className.match(/wb-page-no-display/)?this._currentTotalPages[a].innerHTML="":this._currentTotalPages[a].innerHTML!==r+"/"+this.pages_total&&(this._currentTotalPages[a].innerHTML=r+"/"+this.pages_total)}for(var l=0;l<this._sectionTitles.length;l++)this._sectionTitles[l].innerHTML!=this.getSectionTitle()&&(this._sectionTitles[l].innerHTML=this.getSectionTitle())}}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=c(e(0)),i=c(e(2)),a=c(e(31)),s=c(e(107)),r=(c(e(85)),c(e(83))),l=c(e(15));function c(t){return t&&t.__esModule?t:{default:t}}var u=e(82);n.default=function(t){for(var n=t,e=i.default.getData("books"),c=void 0,p=location.hash.replace(/(#|\/read)/g,""),d=0;d<e.length;d++)if(e[d].path.replace(/^\/books\/[^\/]+/,"")===p){c=e[d];break}n.innerHTML=u({book:c}),o.default.setHTML("title","&Eacute;quivoques - "+c.title),o.default.removeClass("#book-loader-container","hidden");var h=document.querySelector("#bookContainer"),b={method:"GET",url:c.path+".css"};o.default.ajax(b).then(function(t){return document.getElementById("custom_rules").innerHTML=t,b={method:"GET",url:c.path+".html"},o.default.ajax(b)}).then(function(t){i.default.setData("book",c.id),function(t){var n,e=h.querySelector("[data-wb-text-container]"),u=h.querySelector("[data-wb-text]"),p=h.querySelector("#toc-large-device"),d=h.querySelector("#tab-options"),b=h.querySelector("#options"),f=h.querySelector("#options-medium"),m=d.querySelectorAll("[name=fontSize]"),g=f.querySelectorAll("[name=fontSize]"),v=b.querySelectorAll("[name=fontSize]"),y=d.querySelectorAll("[name=fontFamily]"),k=f.querySelectorAll("[name=fontFamily]"),_=b.querySelectorAll("[name=fontFamily]"),x=h.querySelector("#tab-infos"),w=h.querySelector("#book-commands"),S=h.querySelector("#book-nav-bar-bottom"),T=h.querySelector("#book-nav-bar-bottom-small"),E=(h.querySelector("#font-size-valid-large"),void h.querySelector("#font-size-valid")),A=void 0,q=void 0,C=void 0,L=void 0,M=void 0,N=void 0,O=window.innerWidth,I=window.innerHeight;if(n=a.default.getFont()?a.default.getFont():c.styles.font,u.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n,O>=768)if(o.default.addClass("[data-wb-text-container]","card-4"),I>832?(E=748,N=(I-748-44)/2,e.style.top=N-15+"px",p.style.marginTop=N-15+"px",d.style.marginTop=N+33+"px",x.style.marginTop=N+80+"px",w.style.top=N-16+"px",S.style.marginTop=N-15+"px"):(E=I-44-40,e.style.top="15px",p.style.marginTop="15px",d.style.marginTop="63px",x.style.marginTop="111px",w.style.top="15px",S.style.marginTop="15px"),A=550,L=a.default.getFontSize("large")?a.default.getFontSize("large"):16,u.style.fontSize=L+"px",O<1366){for(var j=0;j<g.length;j++)g[j].value==L&&(g[j].checked=!0);for(var D=0;D<k.length;D++)k[D].value==n&&(k[D].checked=!0)}else{for(var z=0;z<m.length;z++)m[z].value==L&&(m[z].checked=!0);for(var P=0;P<y.length;P++)y[P].value==n&&(y[P].checked=!0)}else{o.default.removeClass("[data-wb-text-container]","card-4"),E=I-30,A=O,T.style.width=A+"px",L=a.default.getFontSize("small")?a.default.getFontSize("small"):14,u.style.fontSize=L+"px";for(var R=0;R<v.length;R++)v[R].value==L&&(v[R].checked=!0);for(var H=0;H<_.length;H++)_[H].value==n&&(_[H].checked=!0);e.style.top="0px"}q=E%(M=1.5*L)!=0?2*M+E%M/2:2*M,C=O>420?50:25;var F=new s.default(h,{height:E,maxWidth:A,marginY:q,marginX:C,text:t}),B=a.default.getTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L});F.init(B).then(function(t){if(a.default.getBkmrk(c.id)){var n=a.default.getBkmrk(c.id);F.goToBookmark(n)}return t}).then(function(t){return function(){if(O>=1366){var t=h.querySelector("#toc-large-device div");t&&(t.style.maxHeight=E+"px")}window.addEventListener("resize",function(){if(O=window.innerWidth,I=window.innerHeight,location.hash.match(/#\/[^\/]+\/read$/)){if(O>=768)if(o.default.addClass("[data-wb-text-container]","card-4"),I>=832?(E=748,N=(I-748-44)/2,e.style.top=N-15+"px",p.style.marginTop=N-15+"px",d.style.marginTop=N+33+"px",x.style.marginTop=N+80+"px",w.style.top=N-16+"px",S.style.marginTop=N-15+"px"):(E=I-44-40,e.style.top="15px",p.style.marginTop="15px",x.style.marginTop="63px",x.style.marginTop="111px",w.style.top="15px",S.style.marginTop="15px"),A=550,L=a.default.getFontSize("large")?a.default.getFontSize("large"):16,u.style.fontSize=L+"px",O<1366)for(var t=0;t<g.length;t++)g[t].value==L&&(g[t].checked=!0);else for(var i=0;i<m.length;i++)m[i].value==L&&(m[i].checked=!0);else{o.default.removeClass("[data-wb-text-container]","card-4"),E=I-30,A=O,T.style.width=A+"px",L=a.default.getFontSize("small")?a.default.getFontSize("small"):14,u.style.fontSize=L+"px";for(var s=0;s<v.length;s++)v[s].value==L&&(v[s].checked=!0);e.style.top="0px"}if(O>=1366){var r=h.querySelector("#toc-large-device div");r&&(r.style.maxHeight=E+"px")}q=E%(M=1.5*L)!=0?2*M+E%M/2:2*M,C=O>420?50:25,F.setHeight(E),F.setMaxWidth(A),F.setMarginY(q),F.setMarginX(C);var l=a.default.getTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L});F.init(l).then(function(t){a.default.setTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L,tableInfos:t})})}},!1),new r.default(h.querySelector("[data-wb-text-container]")).on("swiperight swipeleft",function(t){"swipeleft"===t.type?F.forward():"swiperight"===t.type&&F.backward()}),document.addEventListener("keydown",function(t){39===t.which?F.forward():37===t.which?F.backward():36===t.which?F.toFirstPage():35===t.which&&F.toLastPage()},!1);var s=h.querySelector("#forward-large"),j=h.querySelector("#backward-large");s.addEventListener("click",function(t){F.forward()},!1),j.addEventListener("click",function(t){F.backward()},!1);for(var D=h.querySelector("#toc"),z=h.querySelectorAll(".open-toc"),P=0;P<z.length;P++)z[P].addEventListener("click",function(t){D.className="open"===D.className?"":"open"},!1);D.querySelector("#close-toc").addEventListener("click",function(){D.className=""},!1);for(var R=D.querySelectorAll("a"),H=0;H<R.length;H++)R[H].addEventListener("click",function(){D.className=""},!1);h.querySelector("#open-options").addEventListener("click",function(){b.className="open"===b.className?"":"open"}),h.querySelector("#close-options").addEventListener("click",function(){b.className=""}),h.querySelector("#open-options-medium").addEventListener("click",function(){f.className="open"===f.className?"":"open"}),h.querySelector("#close-options-medium").addEventListener("click",function(){f.className=""}),h.querySelector("#swing-container"),h.querySelector("#swing-bar"),h.querySelector("#tab-home-link");var B=h.querySelector("#toggle-toc-large-device"),W=h.querySelector("#toggle-tab-options"),V=h.querySelector("#toggle-tab-infos"),G=h.querySelector("#close-toc-large-device"),U=h.querySelector("#close-tab-options"),X=h.querySelector("#close-tab-infos");B.addEventListener("click",function(t){p.className.match(/open/)?(p.style.zIndex="0",o.default.removeClass("#toc-large-device","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left")):(x.className.match(/open/)?(x.style.zIndex="0",p.style.zIndex="1000",o.default.removeClass("#tab-infos","open")):d.className.match(/open/)&&(d.style.zIndex="0",p.style.zIndex="1000",o.default.removeClass("#tab-options","open")),o.default.addClass("#toc-large-device","open"),o.default.addClass("#swing-container","left"),o.default.addClass("#swing-bar","left"))},!1),G.addEventListener("click",function(t){o.default.removeClass("#toc-large-device","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left"),p.style.zIndex="0"},!1),W.addEventListener("click",function(t){d.className.match(/open/)?(d.style.zIndex="0",o.default.removeClass("#tab-options","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left")):(p.className.match(/open/)?(p.style.zIndex="0",d.style.zIndex="1000",o.default.removeClass("#toc-large-device","open")):x.className.match(/open/)&&(x.style.zIndex="0",d.style.zIndex="1000",o.default.removeClass("#tab-infos","open")),o.default.addClass("#tab-options","open"),o.default.addClass("#swing-container","left"),o.default.addClass("#swing-bar","left"))},!1),U.addEventListener("click",function(t){o.default.removeClass("#tab-options","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left"),d.style.zIndex="0"},!1),V.addEventListener("click",function(t){x.className.match(/open/)?(x.style.zIndex="0",o.default.removeClass("#tab-infos","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left")):(p.className.match(/open/)?(p.style.zIndex="0",x.style.zIndex="1000",o.default.removeClass("#toc-large-device","open")):d.className.match(/open/)&&(d.style.zIndex="0",x.style.zIndex="1000",o.default.removeClass("#tab-options","open")),o.default.addClass("#tab-infos","open"),o.default.addClass("#swing-container","left"),o.default.addClass("#swing-bar","left"))},!1),X.addEventListener("click",function(t){o.default.removeClass("#tab-infos","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left"),x.style.zIndex="0"},!1);for(var J=h.querySelectorAll(".home"),Y=0;Y<J.length;Y++)J[Y].addEventListener("click",function(t){t.preventDefault();var n=i.default.getData("location").prevLocation;n=n&&n.match(/#\/[^\/]+\/read$/)?"#/":n,location.hash=n||"#/",l.default.enabled&&l.default.isFullscreen&&l.default.exit()},!1);for(var $=h.querySelectorAll(".add-bookmark"),K=0;K<$.length;K++)$[K].addEventListener("click",function(t){var n=F.getBookmark(),e=document.querySelector("#bookmark");a.default.setBkmrk(c.id,n),e.className="show",setTimeout(function(){e.className=e.className.replace("show","")},2500)},!1);for(var Z=0;Z<m.length;Z++)m[Z].addEventListener("click",function(t){var n=t.target.value;a.default.setFontSize("large",n),u.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){var t=1.5*n,e=E%t!=0?2*t+E%t/2:2*t;F.setMarginY(e),u.style.fontSize=n+"px",F.init().then(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var Q=0;Q<g.length;Q++)g[Q].addEventListener("click",function(t){var n=t.target.value;a.default.setFontSize("large",n),f.className="",u.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){var t=1.5*n,e=E%t!=0?2*t+E%t/2:2*t;F.setMarginY(e),u.style.fontSize=n+"px",F.init().then(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var tt=0;tt<v.length;tt++)v[tt].addEventListener("click",function(t){var n=t.target.value;a.default.setFontSize("small",n),o.default.removeClass("#text-loader-container","hidden"),o.default.removeClass("#options","open"),document.body.style.overflow="hidden",setTimeout(function(){var t=1.5*n,e=E%t!=0?2*t+E%t/2:2*t;F.setMarginY(e),u.style.fontSize=n+"px",F.init().then(function(t){document.body.style.overflow="visible",o.default.addClass("#text-loader-container","hidden")}).catch(function(t){document.body.style.overflow="visible",o.default.addClass("#text-loader-container","hidden")})},100)},!1);for(var nt=0;nt<y.length;nt++)y[nt].addEventListener("click",function(t){var n=t.target.value;a.default.setFont(n),u.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){u.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n;var t=a.default.getTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L});F.init(t).then(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1",a.default.setTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L,tableInfos:t})}).catch(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var et=0;et<k.length;et++)k[et].addEventListener("click",function(t){var n=t.target.value;a.default.setFont(n),f.className="",u.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){u.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n;var t=a.default.getTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L});F.init(t).then(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1",a.default.setTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L,tableInfos:t})}).catch(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var ot=0;ot<_.length;ot++)_[ot].addEventListener("click",function(t){var n=t.target.value;a.default.setFont(n),o.default.removeClass("#text-loader-container","hidden"),o.default.removeClass("#options","open"),document.body.style.overflow="hidden",setTimeout(function(){u.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n;var t=a.default.getTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L});F.init(t).then(function(t){document.body.style.overflow="visible",o.default.addClass("#text-loader-container","hidden"),a.default.setTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L,tableInfos:t})}).catch(function(t){o.default.addClass("#text-loader-container","hidden")})},100)},!1)}(),t}).then(function(t){return o.default.addClass("#book-loader-container","hidden"),h.className="show",t}).then(function(t){a.default.setTableInfos({id:c.id,dim:A+"x"+E,font:n,fontSize:L,tableInfos:t})}).catch(function(t){console.log(t)})}(t)}).catch(function(t){console.log(t),o.default.addClass("#book-loader-container","hidden"),location.hash="#/"})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="books-next-container" class="fade">\n\t<div id="top-page-header">à paraître</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\t\t\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/books-next/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_<%= books[i].id %>">\n\t\t\t\t\t<div id="paper" style="background-color: <%= books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t\t<div class="book" style="<%=books[i].styles.cover %>">\n\t\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="title" style="<%-books[i].styles.title %>">\n\t\t\t\t\t\t\t\t<span><%- books[i].title %></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" class="open-infos-btn btn">Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t\t<div id="dots"></div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="books-next-container" class="fade">\n\t<div id="top-page-header">à paraître</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\t\t\n\t\t\t'),__stack.lineno=6;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,books[t].id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,books[t].authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=7,books[t].subtitle1&&(n.push("\n\t\t\t\t<p>",(__stack.lineno=8,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),n.push("\n\t\t\t  "),__stack.lineno=10,books[t].subtitle2&&(n.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,books[t].subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),n.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  '),__stack.lineno=15,books[t].description&&(n.push('\n\t\t\t  <div class="description">',(__stack.lineno=16,replaceLines(books[t].description)),"</div>\n\t\t\t  "),__stack.lineno=17),n.push('\n\t\t\t  <div class="padding-8">\n\t\t\t\t  <p><b>Année de parution : </b>',(__stack.lineno=19,books[t].year),"</p>\n\t\t\t\t  "),__stack.lineno=20,books[t].authors.length>1){n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=25;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=27,books[t].authors[e].name)," (",(__stack.lineno=27,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=27,books[t].authors[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=29;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=32}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=33,books[t].authors[0].name)," (",(__stack.lineno=33,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=33,books[t].authors[0].death),")</p>\n\t\t\t\t  "),__stack.lineno=34);if(n.push("\n\t\t\t\t  "),__stack.lineno=35,books[t].contribs.length>1){for(n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=40,e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=42,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=43,books[t].contribs[e].name)," (",(__stack.lineno=43,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=43,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=45;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=48}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=54,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=55,books[t].contribs[0].name)," (",(__stack.lineno=55,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=55,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=59);for(n.push('\n\t\t\t\t  <p class="book-source">\n\t\t\t\t  '),__stack.lineno=61,books[t].sources.length>1?(n.push("\n\t\t\t\t\t<b>Sources :</b>\n\t\t\t\t  "),__stack.lineno=63):(n.push("\n\t\t\t\t\t<b>Source :</b>\n\t\t\t\t  "),__stack.lineno=65),n.push("\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=67,e=0;e<books[t].sources.length;e++)n.push("\n\t\t\t\t\t\t<li><span>",(__stack.lineno=68,books[t].sources[e]),"</span></li>\n\t\t\t\t\t"),__stack.lineno=69;return n.push("\n\t\t\t\t\t</ul>\n\t\t\t\t  </p>\n\t\t\t  </div>\n\t\t</div>\n\t</div>\n</div>\n"),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_',escape((__stack.lineno=10,books[t].id)),'">\n\t\t\t\t\t<div id="paper" style="background-color: ',escape((__stack.lineno=11,books[t].styles.color)),"; background-image: url(",(__stack.lineno=11,books[t].styles.image),')">\n\t\t\t\t\t\t<div class="book" style="',escape((__stack.lineno=12,books[t].styles.cover)),'">\n\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=13,books[t].styles.author)),'">',(__stack.lineno=13,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=14,books[t].styles.title),'">\n\t\t\t\t\t\t\t\t<span>',(__stack.lineno=15,books[t].title),"</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=17,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=18,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].subtitle1),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=21),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=22,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=23,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=24,books[t].subtitle2),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=26),buf.push('\n\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=27,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=34,books[t].id)),'" class="open-infos-btn btn">Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=38;buf.push('\n\t\t\t<div id="dots"></div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t'+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#books-next-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#books-next-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px;\n\t}\n}\n\n#books-next-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#books-next-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n#books-next-container #booksList-container {\n\twidth: 100%;\n\tpadding-bottom: 0px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#books-next-container #booksList-container {\n\t\twidth: 750px;\n\t}\n}\n\n#books-next-container #booksList {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tpadding: 0px 0px 0px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #booksList {\n\t\theight: 460px;\n\t}\n}\n\n#books-next-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#books-next-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#books-next-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#books-next-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n\tposition: relative;\n}\n\n#books-next-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#books-next-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#books-next-container #previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#books-next-container #next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #previous {\n\t\tdisplay: inline-block;\n\t}\n\n\t#books-next-container #next {\n\t\tdisplay: inline-block;\n\t}\n}\n\n#books-next-container #dots {\n\twidth: 100%;\n\ttext-align: center;\n\tdisplay: none;\n\tpadding: 32px 0px 32px 0px;\n}\n\n#books-next-container .dot {\n\tcursor:pointer;\n\theight: 15px;\n\twidth: 15px;\n\tmargin: 0 2px;\n\tborder: 1px solid #333;\n\tbackground-color: transparent;\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\ttransition: background-color 0.6s ease;\n}\n\n#books-next-container .dot.active, #books-next-container .dot:hover {\n\tbackground-color: #333;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#books-next-container #dots {\n\t\tdisplay: block;\n\t}\n\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#books-next-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#books-next-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#books-next-container .modal-content div {\n\tpadding: 8px;\n}\n\n#books-next-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#books-next-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: \'Georgia\', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n#books-next-container #content {\n\tmax-height: 330px;\n\toverflow: auto;\n}\n\n@media only screen and (min-height: 600px) {\n\t#books-next-container #content {\n\t\tmax-height: 450px;\n\t\toverflow: auto;\n\t}\n\n}\n\n#authors-container .modal .description {\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: justify;\n\tpadding-top: 8px;\n\tpadding-bottom: 16px;\n}\n\n#books-next-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#books-next-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#books-next-container .modal ul li {\n\tpadding: 4px;\n}\n\n#books-next-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#books-next-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(t,n,e){var o=e(110);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(2)),i=a(e(0));function a(t){return t&&t.__esModule?t:{default:t}}a(e(111));var s=e(109);n.default=function(t){var n=t,e=o.default.getData("books").filter(function(t){return!1===t.visible});n.innerHTML=s({books:e,replaceLines:i.default.replaceLines}),i.default.setHTML("title","&Eacute;quivoques - À paraître");for(var a=document.querySelector("#books-next-container"),r=a.querySelectorAll(".slide"),l=a.querySelector("#dots"),c=0;c<r.length&&!(r.length<2);c++){var u=document.createElement("span");u.className="dot",l.appendChild(u)}for(var p=a.querySelectorAll(".dot"),d=void 0,h=void 0,b=function(t){clearTimeout(h),h=void 0,d===r.length-1?d=0:d+=1;for(var n=0;n<r.length;n++)r[n].style.display="none",i.default.removeClass(p[n],"active");r[d].style.display="block",i.default.addClass(p[d],"active"),f()},f=function(){h=setTimeout(b,1e4)},m=function(t){p[t].addEventListener("click",function(n){clearTimeout(h),h=void 0,d=t;for(var e=0;e<r.length;e++)r[e].style.display="none",i.default.removeClass(p[e],"active");clearTimeout(h),r[d].style.display="block",i.default.addClass(p[d],"active"),f()},!1)},g=0;g<p.length;g++)m(g);a.querySelector("#previous").addEventListener("click",function(t){clearTimeout(h),h=void 0,0===d?d=r.length-1:d-=1;for(var n=0;n<r.length;n++)r[n].style.display="none",i.default.removeClass(p[n],"active");r[d].style.display="block",i.default.addClass(p[d],"active"),f()},!1),a.querySelector("#next").addEventListener("click",b,!1),window.innerWidth>=750&&(r.length<2?(a.querySelector("#previous").style.display="none",a.querySelector("#next").style.display="none"):(a.querySelector("#previous").style.display="block",a.querySelector("#next").style.display="block"),r[d=0].style.display="block",r.length>1&&(i.default.addClass(p[d],"active"),f())),window.addEventListener("resize",function(){if(clearTimeout(h),h=void 0,window.innerWidth<750)for(var t=0;t<r.length;t++)r[t].style.display="block";else{for(var n=0;n<r.length;n++)r[n].style.display="none";void 0===d&&(d=0),r[d].style.display="block",r.length>1&&(i.default.addClass(p[d],"active"),f()),r.length<2?(a.querySelector("#previous").style.display="none",a.querySelector("#next").style.display="none"):(a.querySelector("#previous").style.display="block",a.querySelector("#next").style.display="block")}});for(var v=function(t){clearTimeout(h),h=void 0;var n=t.target.id.replace("open-","");window.innerWidth<750&&(document.body.style.overflowY="hidden"),document.getElementById(n).style.display="block"},y=a.querySelectorAll(".open-infos-btn"),k=0;k<y.length;k++)y[k].addEventListener("click",v,!1);for(var _=function(t){clearTimeout(h),h=void 0,window.innerWidth>=750&&f();var n=t.target.id.replace("close-","");window.innerWidth<750&&(document.body.style.overflowY="auto"),document.getElementById(n).style.display="none"},x=a.querySelectorAll(".close-infos-btn"),w=0;w<x.length;w++)x[w].addEventListener("click",_,!1);window.addEventListener("scroll",function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?window.innerWidth<750&&(a.querySelector("#toTop").style.display="block"):a.querySelector("#toTop").style.display="none"},!1),a.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="search-container" class="w3-content" style="max-width: 1136px">\n\t<div id="top-page-header" class="w3-light-gray">recherche</div>\n\t<% if(nores!==\'\') {%>\n\t\t<div id="nores" class="w3-padding-32 w3-animate-opacity">\n\t\t\t<p><%= nores %></p>\n\t\t</div<\n\t<%}%>\n\t<div id="booksList" class="w3-padding-64 w3-animate-opacity">\n\t\t<div class=\'w3-row\'>\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/search/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="w3-col" style="text-align: center">\n\t\t\t\t\t<div id="paper" id="paper" style="background-color: <%- books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t<div id="<%= books[i].id %>" class="book" style="<%=books[i].styles.cover %>">\n\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t<p class="title" style="<%=books[i].styles.title %>">\n\t\t\t\t\t\t\t<%- books[i].title %>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t<p class="subtitle1" style="<%=books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t<p class="subtitle1" style="<%=books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<p class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t<span class="span1">L&rsquo;Intermédiaire</span><br/>\n\t\t\t\t\t\t\t<span class="span2">éditions</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btn" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" \n\t\t\t\t\t\t        class="open-infos-btn align-right w3-btn w3-ripple w3-hover-none" >+ d\'infos</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t</div>\n\t\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="search-container" class="w3-content" style="max-width: 1136px">\n\t<div id="top-page-header" class="w3-light-gray">recherche</div>\n\t'),__stack.lineno=3,""!==nores&&(buf.push('\n\t\t<div id="nores" class="w3-padding-32 w3-animate-opacity">\n\t\t\t<p>',escape((__stack.lineno=5,nores)),"</p>\n\t\t</div<\n\t"),__stack.lineno=7),buf.push('\n\t<div id="booksList" class="w3-padding-64 w3-animate-opacity">\n\t\t<div class=\'w3-row\'>\n\t\t\t'),__stack.lineno=10;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="w3-modal" style="background-color: rgba(0,0,0,0.1)">\n\t<div class="w3-modal-content w3-card w3-animate-top" style="max-width: 500px">\n\t\t<div class="w3-container w3-padding-16 ">\n\t\t\t  <p><b>Titre : </b>',(__stack.lineno=4,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=5,books[t].subtitle1&&(n.push("\n\t\t\t\t<p><b>Sous-titre : </b>",(__stack.lineno=6,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=7),n.push("\n\t\t\t  "),__stack.lineno=8,books[t].subtitle2&&(n.push("\n\t\t\t\t<p><b>Sous-sous-titre : </b>",(__stack.lineno=9,books[t].subtitle2),"</p>\n\t\t\t  "),__stack.lineno=10),n.push("\n\t\t\t  <p><b>Année de parution : </b>",(__stack.lineno=11,books[t].year),"</p>\n\t\t\t  "),__stack.lineno=12,books[t].authors.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=17;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t",(__stack.lineno=19,books[t].authors[e].name)," (",(__stack.lineno=19,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=19,books[t].authors[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=21;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=24}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=25,books[t].authors[0].name)," (",(__stack.lineno=25,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=25,books[t].authors[0].death),")</p>\n\t\t\t  "),__stack.lineno=26);if(n.push("\n\t\t\t  "),__stack.lineno=27,books[t].contribs.length>1){for(n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=32,e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=34,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=35,books[t].contribs[e].name)," (",(__stack.lineno=35,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=35,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=37;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=40}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=46,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=47,books[t].contribs[0].name)," (",(__stack.lineno=47,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=47,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=51);return n.push('\n\t\t\t  <p class="book-source"><b>Source : </b>\n\t\t\t\t  <ul>\n\t\t\t\t\t  <li>&Eacute;diteur : ',(__stack.lineno=54,books[t].source.publisher),"</li>\n\t\t\t\t\t  <li>Année de parution : ",(__stack.lineno=55,books[t].source.year),"</li>\n\t\t\t\t  </ul>\n\t\t\t  </p>\n\t\t\t  "),__stack.lineno=58,books[t].description&&(n.push("\n\t\t\t  <div>",(__stack.lineno=59,books[t].description),"</div>\n\t\t\t  "),__stack.lineno=60),n.push('\n\t\t</div>\n\t\t<div id=footer class="w3-container w3-border-bottom">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=63,books[t].id)),'" \n\t\t\t\t\tclass="close-infos-btn w3-button w3-text-gray w3-hover-none w3-hover-text-black w3-display-bottomright"\n\t\t\t\t\t>Fermer</button>\n\t\t</div>\n\t</div>\n</div>\n'),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="w3-col" style="text-align: center">\n\t\t\t\t\t<div id="paper" id="paper" style="background-color: ',(__stack.lineno=15,books[t].styles.color),"; background-image: url(",(__stack.lineno=15,books[t].styles.image),')">\n\t\t\t\t\t<div id="',escape((__stack.lineno=16,books[t].id)),'" class="book" style="',escape((__stack.lineno=16,books[t].styles.cover)),'">\n\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=17,books[t].styles.author)),'">',(__stack.lineno=17,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t<p class="title" style="',escape((__stack.lineno=18,books[t].styles.title)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].title),"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=21,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=22,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=23,books[t].subtitle1),"</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=25),buf.push("\n\t\t\t\t\t\t"),__stack.lineno=26,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=27,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=28,books[t].subtitle2),"</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=30),buf.push('\n\t\t\t\t\t\t<p class="logo" style="',escape((__stack.lineno=31,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t<span class="span1">L&rsquo;Intermédiaire</span><br/>\n\t\t\t\t\t\t\t<span class="span2">éditions</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btn" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=38,books[t].id)),'" \n\t\t\t\t\t\t        class="open-infos-btn align-right w3-btn w3-ripple w3-hover-none" >+ d\'infos</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=43;buf.push("\n\t\t</div>\n\t\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#search-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Times New Roman", Georgia, sans-serif;\n\tfont-size: 1em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1px;\n\tline-height: 25px;\n\twidth: 98px;\n\tmargin: auto;\n\tmargin-top: 32px;\n\tdisplay: block;\n}\n\n@media only screen and (min-width: 768px) {\n\t#search-container #top-page-header {\n\t\tdisplay: none;\n\t}\n}\n\n#search-container #booksList {\n\tmax-width: 568px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 853px) {\n\t#search-container #booksList {\n\t\tmax-width: 852px;\n\t}\n}\n\n@media only screen and (min-width: 1137px) {\n\t#search-container #booksList {\n\t\tmax-width: 1136px;\n\t}\n}\n\n#search-container .w3-col {\n\twidth: 100%;\n\theight: 408px;\n}\n\n@media only screen and (min-width: 600px) {\n\t#search-container .w3-col {\n\t\twidth: 284px;\n\t}\n}\n\n#search-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#search-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#search-container .book .logo .span1 {\n\tfont-variant: small-caps;\n\tfont-style: normal;\n}\n\n#search-container #book-btn {\n\twidth: 238px;\n\theight: 40px;\n\tmargin: auto;\n\tmargin-top: 8px;\n}\n\n#search-container #book-btn button {\n\tfont-family: "Times New Roman", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1.5px;\n\tbackground-color: transparent;\n}\n\n/*\nMODAL (INFOS)\n*/\n#search-container .w3-modal {\n\tfont-family: "Verdana", serif;\n}\n\n#search-container .w3-modal #footer {\n\tpadding-top: 16px;\n}\n\n#search-container .w3-modal .close-infos-btn {\n\tfont-size: 1.1em;\n\tfont-family: "Verdana", serif;\n\tletter-spacing: 1px;\n}\n\n#search-container .w3-modal p {\n\tmargin: 0px;\n\tmargin-top: 8px;\n}\n\n#search-container .w3-modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#search-container .w3-modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#nores {\n\ttext-align: center;\n}\n\n#nores p {\n\tfont-family: "Times New Roman", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1px;\n}\n\n',""])},function(t,n,e){var o=e(114);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(2));function i(t){return t&&t.__esModule?t:{default:t}}i(e(0)),i(e(115));var a=e(113);n.default=function(t){var n=t,e=location.hash.replace(/#\/search\?q\=/,"").replace("'","’"),i="";if(e.split("").length<3)return i="Aucun résultat.",void(n.innerHTML=a({books:[],nores:i}));for(var s=new RegExp(e,"gi"),r=o.default.getData("books").filter(function(t){return!0===t.visible}),l=r.filter(function(t){return t.title.replace("&nbsp;"," ").match(s)}),c=o.default.getData("authors").filter(function(t){return!0===t.visible}).filter(function(t){return t.name.replace("&nbsp;"," ").match(s)}),u=0;u<c.length;u++){for(var p=c[u],d=function(t){var n=p.contribs[t].book,e=r.filter(function(t){return t.id===n.id});e[0]&&!0===e[0].visible&&l.push(e[0])},h=0;h<p.contribs.length;h++)d(h);var b=function(t){var n=p.books[t],e=r.filter(function(t){return t.id===n.id});e[0]&&!0===e[0].visible&&l.push(e[0])};for(h=0;h<p.books.length;h++)b(h)}if(0===l.length)return i="Aucun résultat.",void(n.innerHTML=a({books:[],nores:i}));var f=function(t){var n=o.default.getData("books",t.currentTarget.id).path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+n+"/read"},m=function(t){var n=t.target.id.replace("open-","");document.getElementById(n).style.display="block"},g=function(t){var n=t.target.id.replace("close-","");document.getElementById(n).style.display="none"};n.innerHTML=a({books:l.reverse(),nores:i});var v=document.querySelector("#search-container");if(void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var y=o.default.getData("book");document.getElementById(y).scrollIntoView(!0);var k=document.getElementsByTagName("html")[0];k.scrollTop=k.scrollTop-30}for(var _=v.querySelectorAll(".book"),x=0;x<_.length;x++)_[x].addEventListener("click",f,!1);for(var w=v.querySelectorAll(".open-infos-btn"),S=0;S<w.length;S++)w[S].addEventListener("click",m,!1);for(var T=v.querySelectorAll(".close-infos-btn"),E=0;E<T.length;E++)T[E].addEventListener("click",g,!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="home-container" class="fade">\n\t<div id="top-page-header">nouveautés</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/home/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_<%= books[i].id %>">\n\t\t\t\t\t<div id="paper" style="background-color: <%- books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t\t<div id="<%= books[i].id %>" class="book" style="<%= books[i].styles.cover %>">\n\t\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="title" style="<%-books[i].styles.title %>">\n\t\t\t\t\t\t\t\t<%- books[i].title %>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t\t<div id="dots">\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t</div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="home-container" class="fade">\n\t<div id="top-page-header">nouveautés</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\n\t\t\t'),__stack.lineno=6;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,books[t].id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,books[t].authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=7,books[t].subtitle1&&(n.push("\n\t\t\t\t<p>",(__stack.lineno=8,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),n.push("\n\t\t\t  "),__stack.lineno=10,books[t].subtitle2&&(n.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,books[t].subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),n.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  '),__stack.lineno=15,books[t].description&&(n.push('\n\t\t\t  <div class="description">',(__stack.lineno=16,replaceLines(books[t].description)),"</div>\n\t\t\t  "),__stack.lineno=17),n.push('\n\t\t\t  <div class="padding-8">\n\t\t\t\t  <p><b>Année de parution : </b>',(__stack.lineno=19,books[t].year),"</p>\n\t\t\t\t  "),__stack.lineno=20,books[t].authors.length>1){n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=25;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=27,books[t].authors[e].name)," (",(__stack.lineno=27,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=27,books[t].authors[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=29;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=32}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=33,books[t].authors[0].name)," (",(__stack.lineno=33,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=33,books[t].authors[0].death),")</p>\n\t\t\t\t  "),__stack.lineno=34);if(n.push("\n\t\t\t\t  "),__stack.lineno=35,books[t].contribs.length>1){for(n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=40,e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=42,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=43,books[t].contribs[e].name)," (",(__stack.lineno=43,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=43,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=45;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=48}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=54,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=55,books[t].contribs[0].name)," (",(__stack.lineno=55,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=55,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=59);for(n.push('\n\t\t\t\t  <p class="book-source">\n\t\t\t\t  '),__stack.lineno=61,books[t].sources.length>1?(n.push("\n\t\t\t\t\t<b>Sources :</b>\n\t\t\t\t  "),__stack.lineno=63):(n.push("\n\t\t\t\t\t<b>Source :</b>\n\t\t\t\t  "),__stack.lineno=65),n.push("\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=67,e=0;e<books[t].sources.length;e++)n.push("\n\t\t\t\t\t\t<li><span>",(__stack.lineno=68,books[t].sources[e]),"</span></li>\n\t\t\t\t\t"),__stack.lineno=69;return n.push("\n\t\t\t\t\t</ul>\n\t\t\t\t  </p>\n\t\t\t  </div>\n\t\t</div>\n\t</div>\n</div>\n"),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_',escape((__stack.lineno=10,books[t].id)),'">\n\t\t\t\t\t<div id="paper" style="background-color: ',(__stack.lineno=11,books[t].styles.color),"; background-image: url(",(__stack.lineno=11,books[t].styles.image),')">\n\t\t\t\t\t\t<div id="',escape((__stack.lineno=12,books[t].id)),'" class="book" style="',escape((__stack.lineno=12,books[t].styles.cover)),'">\n\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=13,books[t].styles.author)),'">',(__stack.lineno=13,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=14,books[t].styles.title),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=15,books[t].title),"\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=17,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=18,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].subtitle1),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=21),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=22,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=23,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=24,books[t].subtitle2),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=26),buf.push('\n\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=27,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=34,books[t].id)),'" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=38;buf.push('\n\t\t\t<div id="dots">\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t</div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t'+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,o=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var i,a=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?e+a:o+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#home-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#home-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px;\n\t}\n}\n\n#home-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#home-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n\n#home-container #booksList-container {\n\twidth: 100%;\n\tpadding-bottom: 0px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#home-container #booksList-container {\n\t\twidth: 750px;\n\t}\n}\n\n#home-container #booksList {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tpadding: 0px 0px 0px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #booksList {\n\t\theight: 460px;\n\t}\n}\n\n#home-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#home-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#home-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#home-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#home-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#home-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#home-container #previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#home-container #next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #previous {\n\t\tdisplay: inline-block;\n\t}\n\n\t#home-container #next {\n\t\tdisplay: inline-block;\n\t}\n}\n\n#home-container #dots {\n\twidth: 100%;\n\ttext-align: center;\n\tdisplay: none;\n\tpadding: 32px 0px 32px 0px;\n}\n\n#home-container .dot {\n\tcursor:pointer;\n\theight: 15px;\n\twidth: 15px;\n\tmargin: 0 2px;\n\tborder: 1px solid #333;\n\tbackground-color: transparent;\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\ttransition: background-color 0.6s ease;\n}\n\n#home-container .dot.active, #home-container .dot:hover {\n\tbackground-color: #333;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#home-container #dots {\n\t\tdisplay: block;\n\t}\n\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#home-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#home-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#home-container .modal-content div {\n\tpadding: 8px;\n}\n\n#home-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#home-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: \'Georgia\', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n#home-container .modal .description {\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: justify;\n\tpadding-top: 8px;\n\tpadding-bottom: 16px;\n}\n\n#home-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#home-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#home-container .modal ul li {\n\tpadding: 4px;\n}\n\n#home-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#home-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n\t-webkit-backface-visibility: hidden;\n}\n',""])},function(t,n,e){var o=e(119);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(2)),i=a(e(0));function a(t){return t&&t.__esModule?t:{default:t}}a(e(120)),a(e(15));var s=e(117);n.default=function(t){var n=t,e=o.default.getData("books").filter(function(t){return t.visible}).reverse().slice(0,6);n.innerHTML=s({books:e,replaceLines:i.default.replaceLines}),i.default.setHTML("title","&Eacute;quivoques");for(var a=document.querySelector("#home-container"),r=a.querySelectorAll(".slide"),l=a.querySelectorAll(".dot"),c=void 0,u=void 0,p=function(t){clearTimeout(u),u=void 0,c===r.length-1?c=0:c+=1;for(var n=0;n<r.length;n++)r[n].style.display="none",i.default.removeClass(l[n],"active");r[c].style.display="block",i.default.addClass(l[c],"active"),d()},d=function(){u=setTimeout(p,1e4)},h=function(t){l[t].addEventListener("click",function(n){clearTimeout(u),u=void 0,c=t;for(var e=0;e<r.length;e++)r[e].style.display="none",i.default.removeClass(l[e],"active");r[c].style.display="block",i.default.addClass(l[c],"active"),d()},!1)},b=0;b<l.length;b++)h(b);if(a.querySelector("#previous").addEventListener("click",function(t){clearTimeout(u),u=void 0,0===c?c=r.length-1:c-=1;for(var n=0;n<r.length;n++)r[n].style.display="none",i.default.removeClass(l[n],"active");r[c].style.display="block",i.default.addClass(l[c],"active"),d()},!1),a.querySelector("#next").addEventListener("click",p,!1),window.innerWidth>=750){if(void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var f=o.default.getData("book");for(b=0;b<r.length;b++){if(r[b].id.replace(/slide_/,"")===f){c=b;break}c=0}}else c=0;r[c].style.display="block",i.default.addClass(l[c],"active"),d()}else clearTimeout(u),u=void 0;if(window.addEventListener("resize",function(){if(clearTimeout(u),u=void 0,window.innerWidth<750)for(var t=0;t<r.length;t++)r[t].style.display="block";else{for(var n=0;n<r.length;n++)r[n].style.display="none";void 0===c&&(c=0),r[c].style.display="block",i.default.addClass(l[c],"active"),d()}}),void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var m=o.default.getData("book"),g=document.getElementById(m);if(g){g.scrollIntoView(!0);var v=document.getElementsByTagName("html")[0];v.scrollTop=v.scrollTop-40}}for(var y=function(t){clearTimeout(u),u=void 0;var n=o.default.getData("books",t.currentTarget.id).path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+n+"/read"},k=a.querySelectorAll(".book"),_=0;_<k.length;_++)k[_].addEventListener("click",y,!1);for(var x=function(t){clearTimeout(u),u=void 0;var n=t.target.id.replace("open-","");window.innerWidth<750&&(document.body.style.overflowY="hidden"),document.getElementById(n).style.display="block"},w=a.querySelectorAll(".open-infos-btn"),S=0;S<w.length;S++)w[S].addEventListener("click",x,!1);for(var T=function(t){clearTimeout(u),u=void 0,window.innerWidth>=750&&d();var n=t.target.id.replace("close-","");window.innerWidth<750&&(document.body.style.overflowY="auto"),document.getElementById(n).style.display="none"},E=a.querySelectorAll(".close-infos-btn"),A=0;A<E.length;A++)E[A].addEventListener("click",T,!1);window.addEventListener("scroll",function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?window.innerWidth<750&&(a.querySelector("#toTop").style.display="block"):a.querySelector("#toTop").style.display="none"},!1),a.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(t,n,e){"use strict";var o=e(5);t.exports=o,o.enableSynchronous=function(){o.prototype.isPending=function(){return 0==this.getState()},o.prototype.isFulfilled=function(){return 1==this.getState()},o.prototype.isRejected=function(){return 2==this.getState()},o.prototype.getValue=function(){if(3===this._83)return this._18.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._18},o.prototype.getReason=function(){if(3===this._83)return this._18.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._18},o.prototype.getState=function(){return 3===this._83?this._18.getState():-1===this._83||-2===this._83?0:this._83}},o.disableSynchronous=function(){o.prototype.isPending=void 0,o.prototype.isFulfilled=void 0,o.prototype.isRejected=void 0,o.prototype.getValue=void 0,o.prototype.getReason=void 0,o.prototype.getState=void 0}},function(t,n,e){"use strict";var o=e(32),i=[],a=[],s=o.makeRequestCallFromTimer(function(){if(a.length)throw a.shift()});function r(t){var n;(n=i.length?i.pop():new l).task=t,o(n)}function l(){this.task=null}t.exports=r,l.prototype.call=function(){try{this.task.call()}catch(t){r.onerror?r.onerror(t):(a.push(t),s())}finally{this.task=null,i[i.length]=this}}},function(t,n,e){"use strict";var o=e(5),i=e(123);t.exports=o,o.denodeify=function(t,n){return"number"==typeof n&&n!==1/0?function(t,n){for(var e=[],i=0;i<n;i++)e.push("a"+i);var s=["return function ("+e.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(e).concat([a]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(o,t)}(t,n):function(t){for(var n=Math.max(t.length-1,3),e=[],i=0;i<n;i++)e.push("a"+i);var s=["return function ("+e.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+n+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+a+";","var res;","switch (argLength) {",e.concat(["extra"]).map(function(t,n){return"case "+n+":res = fn.call("+["self"].concat(e.slice(0,n)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(o,t)}(t)};var a="function (err, res) {if (err) { rj(err); } else { rs(res); }}";o.nodeify=function(t){return function(){var n=Array.prototype.slice.call(arguments),e="function"==typeof n[n.length-1]?n.pop():null,a=this;try{return t.apply(this,arguments).nodeify(e,a)}catch(t){if(null===e||void 0===e)return new o(function(n,e){e(t)});i(function(){e.call(a,t)})}}},o.prototype.nodeify=function(t,n){if("function"!=typeof t)return this;this.then(function(e){i(function(){t.call(n,null,e)})},function(e){i(function(){t.call(n,e)})})}},function(t,n,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=e(5);t.exports=i;var a=p(!0),s=p(!1),r=p(null),l=p(void 0),c=p(0),u=p("");function p(t){var n=new i(i._44);return n._83=1,n._18=t,n}i.resolve=function(t){if(t instanceof i)return t;if(null===t)return r;if(void 0===t)return l;if(!0===t)return a;if(!1===t)return s;if(0===t)return c;if(""===t)return u;if("object"===(void 0===t?"undefined":o(t))||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new i(n.bind(t))}catch(t){return new i(function(n,e){e(t)})}return p(t)},i.all=function(t){var n=Array.prototype.slice.call(t);return new i(function(t,e){if(0===n.length)return t([]);var a=n.length;function s(r,l){if(l&&("object"===(void 0===l?"undefined":o(l))||"function"==typeof l)){if(l instanceof i&&l.then===i.prototype.then){for(;3===l._83;)l=l._18;return 1===l._83?s(r,l._18):(2===l._83&&e(l._18),void l.then(function(t){s(r,t)},e))}var c=l.then;if("function"==typeof c)return void new i(c.bind(l)).then(function(t){s(r,t)},e)}n[r]=l,0==--a&&t(n)}for(var r=0;r<n.length;r++)s(r,n[r])})},i.reject=function(t){return new i(function(n,e){e(t)})},i.race=function(t){return new i(function(n,e){t.forEach(function(t){i.resolve(t).then(n,e)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,n,e){"use strict";var o=e(5);t.exports=o,o.prototype.finally=function(t){return this.then(function(n){return o.resolve(t()).then(function(){return n})},function(n){return o.resolve(t()).then(function(){throw n})})}},function(t,n,e){"use strict";var o=e(5);t.exports=o,o.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},function(t,n,e){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(o=window)}t.exports=o},function(t,n,e){"use strict";t.exports=e(5),e(127),e(126),e(125),e(124),e(122)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=d(e(0)),i=d(e(2)),a=d(e(121)),s=d(e(116)),r=d(e(112)),l=d(e(108)),c=d(e(81)),u=d(e(77)),p=d(e(75));function d(t){return t&&t.__esModule?t:{default:t}}var h=e(34);n.default=function(){var t=function(t,n){var e=document.querySelector("#container");""===n||"#/"===n?(0,a.default)(e):n.match(/#\/search\?q=/)?(0,s.default)(e):"#/tobepublished"===n?(0,r.default)(e):n.match(/#\/[^\/]+\/read$/)?(0,l.default)(e):n.match(/#\/authors\?(search=(A-Z))?/)?(0,c.default)(e):n.match(/#\/admin/)&&"#/admin/login/"!==n?o.default.checkRole().then(function(t){var n=t;e.innerHTML="";var i=document.createElement("div");return i.innerHTML=h(),e.appendChild(i),o.default.activeLink(),n}).then(function(e){(0,p.default)(t,n,e)}).catch(function(t){location.hash="#/admin/login/"}):"#/admin/login/"===n?o.default.checkRole().then(function(t){location.hash="#/admin/"}).catch(function(t){(0,u.default)(e)}):location.hash="#/"},n=void 0,e=void 0;e=location.hash,i.default.setData("location",{prevLocation:n,newLocation:e}),t(n,e),o.default.activeLink(),window.addEventListener("hashchange",function(){n=e,e=location.hash,i.default.setData("location",{prevLocation:n,newLocation:e}),t(n,e),gtag("config","UA-113626382-1",{page_path:"/"+e}),o.default.activeLink()},!1)}},function(t,n,e){"use strict";var o,i,a=c(e(130)),s=c(e(2)),r=c(e(31)),l=c(e(0));function c(t){return t&&t.__esModule?t:{default:t}}o=void 0,i=function(){(o=document.querySelector("body")).querySelector("#menu-open").addEventListener("click",function(){o.querySelector("#menu").style.display="block"},!1),o.querySelector("#menu-close").addEventListener("click",function(){o.querySelector("#menu").style.display="none"},!1);for(var t=o.querySelectorAll("#menu a"),n=0;n<t.length;n++)t[n].addEventListener("click",function(){setTimeout(function(){o.querySelector("#menu").style.display="none"},100)},!1);window.addEventListener("hashchange",function(){location.hash.match(/#\/[^\/]+\/read$/)?(l.default.addClass("#header","hidden"),l.default.addClass("#nav-bar-top","hidden")):(l.default.removeClass("#header","hidden"),l.default.removeClass("#nav-bar-top","hidden"),window.innerWidth<750?(l.default.addClass("#nav-bar-top","hidden"),l.default.removeClass("#menu-open","hidden")):(l.default.removeClass("#nav-bar-top","hidden"),l.default.addClass("#menu-open","hidden")))},!1),window.addEventListener("resize",function(){location.hash.match(/#\/[^\/]+\/read$/)||(window.innerWidth<750?(l.default.addClass("#nav-bar-top","hidden"),l.default.removeClass("#menu-open","hidden")):(l.default.removeClass("#nav-bar-top","hidden"),l.default.addClass("#menu-open","hidden")))},!1);var e=window.navigator.userAgent,i=r.default.getUserAgent();i&&i===e||(r.default.removeTableInfos(),r.default.setUserAgent(e))},window.addEventListener("DOMContentLoaded",function(){location.hash.match(/#\/[^\/]+\/read$/)||(window.innerWidth<750?(l.default.addClass("#nav-bar-top","hidden"),l.default.removeClass("#menu-open","hidden")):(l.default.removeClass("#nav-bar-top","hidden"),l.default.addClass("#menu-open","hidden"))),l.default.ajax({method:"GET",url:"/init"}).then(function(t){var n=JSON.parse(t).books,e=JSON.parse(t).authors;return s.default.setData("books",n),s.default.setData("authors",e),l.default.ajax({method:"GET",url:"/users/currentuser"})}).then(function(t){var n=JSON.parse(t).user;return s.default.setData("currentUser",n),n.admin&&!0===n.admin?(l.default.removeClass("#admin-item","hidden"),l.default.removeClass("#menu-admin-item","hidden")):(l.default.addClass("#admin-item","hidden"),l.default.addClass("#menu-admin-item","hidden")),"done"}).then(function(t){return(0,a.default)(),"done"}).then(function(t){return i(),"done"}).catch(function(t){s.default.setData("currentUser",{}),l.default.addClass("#admin-item","hidden"),l.default.addClass("#menu-admin-item","hidden"),(0,a.default)(),i(),console.log(t)})},!1)}]);