!function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=28)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(13)),i={ajax:function(t){return new o.default(function(n,e){var o=t.method,i=t.url,a=t.data,s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status?n(s.responseText):e(Error(s.statusText)))},s.open(o,i,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","text/json, text/html"),s.setRequestHeader("Cache-Control","public, max-age=86400, must-revalidate"),a?(s.setRequestHeader("Content-type","application/json"),s.send(a)):s.send()})},checkRole:function(){return i.ajax({method:"GET",url:"/users/currentuser"}).then(function(t){var n=JSON.parse(t).user;return new o.default(function(t,e){n&&!0===n.admin?t(n):e(Error("error"))})})},activeLink:function(){for(var t=document.querySelector("#navigation").querySelectorAll("a"),n=0;n<t.length;n++)"header-home-link"===t[n].id||"menu-home-link"===t[n].id?i.addClass("#"+t[n].id,"active"):"last-link"===t[n].id||"menu-last-link"===t[n].id?""===location.hash||"#/"===location.hash?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active"):"authors-link"===t[n].id||"menu-authors-link"===t[n].id?location.hash.match(/#\/authors/)?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active"):(location.href===t[n].href?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active"),location.hash.match(/#\/admin/)&&(t[n].href.match(/#\/admin/)?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active")));if(document.querySelector("#admin-nav-bar-top"))for(var e=document.querySelector("#admin-nav-bar-top").querySelectorAll("a"),o=0;o<e.length;o++)location.href===e[o].href?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"),location.hash.match(/#\/admin\/books\//)?e[o].href.match(/#\/admin\/books\//)?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/authors\//)?e[o].href.match(/#\/admin\/authors\//)?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/users\//)?e[o].href.match(/#\/admin\/users\//)?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/.+/)&&("#/admin/"===e[o].hash?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"))},setHTML:function(t,n){var e=document.querySelectorAll(t);if(e)for(var o=0;o<e.length;o++)e[o].innerHTML=n||""},bind:function(t,n,e){var o=void 0;o=e?t.querySelectorAll("[data-utils-bind]."+e):t.querySelectorAll("[data-utils-bind]");for(var i=0;i<o.length;i++){var a=[],s=[],r=o[i].getAttribute("data-utils-bind");r.match(/{{[^{]+}}/g)&&(a=r.match(/{{[^{]+}}/g));for(var l=0;l<a.length;l++){var c=a[l].replace(/({|})/g,"").trim();s.push(c);var u=new RegExp(a[l],"g");r=n[c]?r.replace(u,n[c]):r.replace(u,"")}"INPUT"===o[i].nodeName||"TEXTAREA"===o[i].nodeName?o[i].value=r:o[i].innerHTML=r}},addClass:function(t,n){var e=[];t.nodeName?e.push(t):e=document.querySelectorAll(t);for(var o=void 0,i=0;i<e.length;i++)o=n,-1==e[i].className.split(" ").indexOf(o)&&(e[i].className+=" "+n)},removeClass:function(t,n){var e=[];t.nodeName?e.push(t):e=document.querySelectorAll(t);for(var o=0;o<e.length;o++){n;var i=new RegExp(n,"g");e[o].className=e[o].className.replace(i,"")}}};n.default=i},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(7),e(3),e(54),e(15),e(55),e(56),e(16),e(9),e(57),e(17),e(18),e(58),e(19),e(59)],void 0===(i=function(t,n,e,o,i,s,r,l,c,u,p,d,h,b){function f(t){var n=!!t&&"length"in t&&t.length,e=m.type(t);return"function"!==e&&!m.isWindow(t)&&("array"===e||0===n||"number"==typeof n&&n>0&&n-1 in t)}var m=function t(n,e){return new t.fn.init(n,e)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,y=/-([a-z])/g,k=function(t,n){return n.toUpperCase()};return m.fn=m.prototype={jquery:"3.2.1",constructor:m,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=m.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return m.each(this,t)},map:function(t){return this.pushStack(m.map(this,function(n,e){return t.call(n,e,n)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var n=this.length,e=+t+(t<0?n:0);return this.pushStack(e>=0&&e<n?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},m.extend=m.fn.extend=function(){var t,n,e,o,i,s,r=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[l]||{},l++),"object"===(void 0===r?"undefined":a(r))||m.isFunction(r)||(r={}),l===c&&(r=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(n in t)e=r[n],r!==(o=t[n])&&(u&&o&&(m.isPlainObject(o)||(i=Array.isArray(o)))?(i?(i=!1,s=e&&Array.isArray(e)?e:[]):s=e&&m.isPlainObject(e)?e:{},r[n]=m.extend(u,s,o)):void 0!==o&&(r[n]=o));return r},m.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===m.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var n=m.type(t);return("number"===n||"string"===n)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var n,o;return!(!t||"[object Object]"!==c.call(t))&&(!(n=e(t))||"function"==typeof(o=u.call(n,"constructor")&&n.constructor)&&p.call(o)===d)},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},type:function(t){return null==t?t+"":"object"===(void 0===t?"undefined":a(t))||"function"==typeof t?l[c.call(t)]||"object":void 0===t?"undefined":a(t)},globalEval:function(t){b(t)},camelCase:function(t){return t.replace(v,"ms-").replace(y,k)},each:function(t,n){var e,o=0;if(f(t))for(e=t.length;o<e&&!1!==n.call(t[o],o,t[o]);o++);else for(o in t)if(!1===n.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(g,"")},makeArray:function(t,n){var e=n||[];return null!=t&&(f(Object(t))?m.merge(e,"string"==typeof t?[t]:t):s.call(e,t)),e},inArray:function(t,n,e){return null==n?-1:r.call(n,t,e)},merge:function(t,n){for(var e=+n.length,o=0,i=t.length;o<e;o++)t[i++]=n[o];return t.length=i,t},grep:function(t,n,e){for(var o=[],i=0,a=t.length,s=!e;i<a;i++)!n(t[i],i)!==s&&o.push(t[i]);return o},map:function(t,n,e){var o,a,s=0,r=[];if(f(t))for(o=t.length;s<o;s++)null!=(a=n(t[s],s,e))&&r.push(a);else for(s in t)null!=(a=n(t[s],s,e))&&r.push(a);return i.apply([],r)},guid:1,proxy:function(t,n){var e,i,a;if("string"==typeof n&&(e=t[n],n=t,t=e),m.isFunction(t))return i=o.call(arguments,2),a=function(){return t.apply(n||this,i.concat(o.call(arguments)))},a.guid=t.guid=t.guid||m.guid++,a},now:Date.now,support:h}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=t[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){l["[object "+n+"]"]=n.toLowerCase()}),m}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={store:{},setData:function(t,n){o.store[t]=n},pushData:function(t,n){o[t]?o[t].push(n):o.store[t]=n},getData:function(t,n){if(t&&n){for(var e=o.store[t],i=n,a=void 0,s=0;s<e.length;s++)if(e[s].id===i){a=e[s];break}return a}return t&&!n?o.store[t]:t||n?void 0:o.store}};n.default=o},function(t,n,e){"use strict";var o;void 0===(o=function(){return window.document}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";function o(){}function i(t){if("object"!==p(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==o&&u(t,this)}function a(t,n){for(;3===t._83;)t=t._18;if(i._47&&i._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=n)):1===t._75?(t._75=2,void(t._38=[t._38,n])):void t._38.push(n);!function(t,n){d(function(){var e=1===t._83?n.onFulfilled:n.onRejected;if(null!==e){var o=function(t,n){try{return t(n)}catch(t){return h=t,b}}(e,t._18);o===b?r(n.promise,h):s(n.promise,o)}else 1===t._83?s(n.promise,t._18):r(n.promise,t._18)})}(t,n)}function s(t,n){if(n===t)return r(t,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"===(void 0===n?"undefined":p(n))||"function"==typeof n)){var e=function(t){try{return t.then}catch(t){return h=t,b}}(n);if(e===b)return r(t,h);if(e===t.then&&n instanceof i)return t._83=3,t._18=n,void l(t);if("function"==typeof e)return void u(e.bind(n),t)}t._83=1,t._18=n,l(t)}function r(t,n){t._83=2,t._18=n,i._71&&i._71(t,n),l(t)}function l(t){if(1===t._75&&(a(t,t._38),t._38=null),2===t._75){for(var n=0;n<t._38.length;n++)a(t,t._38[n]);t._38=null}}function c(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function u(t,n){var e=!1,o=function(t,n,e){try{t(n,e)}catch(t){return h=t,b}}(t,function(t){e||(e=!0,s(n,t))},function(t){e||(e=!0,r(n,t))});e||o!==b||(e=!0,r(n,h))}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=e(14),h=null,b={};t.exports=i,i._47=null,i._71=null,i._44=o,i.prototype.then=function(t,n){if(this.constructor!==i)return function(t,n,e){return new t.constructor(function(s,r){var l=new i(o);l.then(s,r),a(t,new c(n,e,l))})}(this,t,n);var e=new i(o);return a(this,new c(t,n,e)),e}},function(t,n,e){"use strict";function o(t,n){var e=t[1]||"",o=t[3];if(!o)return e;if(n&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),a=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=o(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&o[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),n.push(s))}},n}},function(t,n,e){function o(t,n){for(var e=0;e<t.length;e++){var o=t[e],i=p[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(c(o.parts[a],n))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(c(o.parts[a],n));p[o.id]={id:o.id,refs:1,parts:s}}}}function i(t,n){for(var e=[],o={},i=0;i<t.length;i++){var a=t[i],s=n.base?a[0]+n.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};o[s]?o[s].parts.push(r):e.push(o[s]={id:s,parts:[r]})}return e}function a(t,n){var e=h(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=m[m.length-1];if("top"===t.insertAt)o?o.nextSibling?e.insertBefore(n,o.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),m.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=h(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,i)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=m.indexOf(t);n>=0&&m.splice(n,1)}function r(t){var n=document.createElement("style");return t.attrs.type="text/css",l(n,t.attrs),a(t,n),n}function l(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function c(t,n){var e,o,i,c;if(n.transform&&t.css){if(!(c=n.transform(t.css)))return function(){};t.css=c}if(n.singleton){var p=f++;e=b||(b=r(n)),o=u.bind(null,e,p,!1),i=u.bind(null,e,p,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(n,t.attrs),a(t,n),n}(n),o=function(t,n,e){var o=e.css,i=e.sourceMap,a=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||a)&&(o=g(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([o],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,e,n),i=function(){s(e),e.href&&URL.revokeObjectURL(e.href)}):(e=r(n),o=function(t,n){var e=n.css,o=n.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),i=function(){s(e)});return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else i()}}function u(t,n,e,o){var i=e?"":o.css;if(t.styleSheet)t.styleSheet.cssText=v(n,i);else{var a=document.createTextNode(i),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(a,s[n]):t.appendChild(a)}}var p={},d=function(t){var n;return function(){return void 0===n&&(n=t.apply(this,arguments)),n}}(function(){return window&&document&&document.all&&!window.atob}),h=function(t){var n={};return function(t){if(void 0===n[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),b=null,f=0,m=[],g=e(41);t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=d()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=i(t,n);return o(e,n),function(t){for(var a=[],s=0;s<e.length;s++){var r=e[s];(l=p[r.id]).refs--,a.push(l)}if(t){o(i(t,n),n)}for(s=0;s<a.length;s++){var l;if(0===(l=a[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var v=function(){var t=[];return function(n,e){return t[n]=e,t.filter(Boolean).join("\n")}}()},function(t,n,e){"use strict";var o;void 0===(o=function(){return[]}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(61)],void 0===(i=function(){}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return{}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(11)],void 0===(i=function(t){return new RegExp("^("+t+")(?!px)[a-z%]+$","i")}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(3),e(21),e(19)],void 0===(i=function(t,n,e,o){return function(){function i(){if(u){u.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",u.innerHTML="",e.appendChild(c);var t=window.getComputedStyle(u);a="1%"!==t.top,l="2px"===t.marginLeft,s="4px"===t.width,u.style.marginRight="50%",r="4px"===t.marginRight,e.removeChild(c),u=null}}var a,s,r,l,c=n.createElement("div"),u=n.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===u.style.backgroundClip,c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.appendChild(u),t.extend(o,{pixelPosition:function(){return i(),a},boxSizingReliable:function(){return i(),s},pixelMarginRight:function(){return i(),r},reliableMarginLeft:function(){return i(),l}}))}(),o}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";t.exports=e(30)},function(t,n,e){"use strict";(function(n){function e(t){s.length||(a(),!0),s[s.length]=t}function o(){for(;r<s.length;){var t=r;if(r+=1,s[t].call(),r>l){for(var n=0,e=s.length-r;n<e;n++)s[n]=s[n+r];s.length-=r,r=0}}s.length=0,r=0,!1}function i(t){return function(){function n(){clearTimeout(e),clearInterval(o),t()}var e=setTimeout(n,0),o=setInterval(n,50)}}t.exports=e;var a,s=[],r=0,l=1024,c=void 0!==n?n:self,u=c.MutationObserver||c.WebKitMutationObserver;a="function"==typeof u?function(t){var n=1,e=new u(t),o=document.createTextNode("");return e.observe(o,{characterData:!0}),function(){n=-n,o.data=n}}(o):i(o),e.requestFlush=a,e.makeRequestCallFromTimer=i}).call(n,e(31))},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.slice}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.indexOf}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(9)],void 0===(i=function(t){return t.hasOwnProperty}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(17)],void 0===(i=function(t){return t.toString}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return{}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1)],void 0===(i=function(t){return function n(e,o,i,a,s,r,l){var c=0,u=e.length,p=null==i;if("object"===t.type(i)){s=!0;for(c in i)n(e,o,c,i[c],!0,r,l)}else if(void 0!==a&&(s=!0,t.isFunction(a)||(l=!0),p&&(l?(o.call(e,a),o=null):(p=o,o=function(n,e,o){return p.call(t(n),o)})),o))for(;c<u;c++)o(e[c],i,l?a:a.call(e[c],c,o(e[c],i)));return s?e:p?o.call(e):u?o(e[0],i):r}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(3)],void 0===(i=function(t){return t.documentElement}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(10),e(23),e(24),e(12),e(8)],void 0===(i=function(t,n,e,o,i){return function(a,s,r){var l,c,u,p,d=a.style;return(r=r||o(a))&&(""!==(p=r.getPropertyValue(s)||r[s])||t.contains(a.ownerDocument,a)||(p=t.style(a,s)),!i.pixelMarginRight()&&n.test(p)&&e.test(s)&&(l=d.width,c=d.minWidth,u=d.maxWidth,d.minWidth=d.maxWidth=d.width=p,p=r.width,d.width=l,d.minWidth=c,d.maxWidth=u)),void 0!==p?p+"":p}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/^margin/}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=window),n.getComputedStyle(t)}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(3),e(64),e(65)],void 0===(i=function(t,n,e){var o,i=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,a=t.fn.init=function(a,s,r){var l,c;if(!a)return this;if(r=r||o,"string"==typeof a){if(!(l="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:i.exec(a))||!l[1]&&s)return!s||s.jquery?(s||r).find(a):this.constructor(s).find(a);if(l[1]){if(s=s instanceof t?s[0]:s,t.merge(this,t.parseHTML(l[1],s&&s.nodeType?s.ownerDocument||s:n,!0)),e.test(l[1])&&t.isPlainObject(s))for(l in s)t.isFunction(this[l])?this[l](s[l]):this.attr(l,s[l]);return this}return(c=n.getElementById(l[2]))&&(this[0]=c,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):t.isFunction(a)?void 0!==r.ready?r.ready(a):a(t):t.makeArray(a,this)};return a.prototype=t.fn,o=t(n),a}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(11)],void 0===(i=function(t){return new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i")}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t,n){return{get:function(){if(!t())return(this.get=n).apply(this,arguments);delete this.get}}}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=o(e(29)),a=o(e(2)),s=o(e(0));!function(){var t=void 0,n=function(){(t=document.querySelector("body")).querySelector("#menu-open").addEventListener("click",function(){t.querySelector("#menu").style.display="block"},!1),t.querySelector("#menu-close").addEventListener("click",function(){t.querySelector("#menu").style.display="none"},!1);for(var n=t.querySelectorAll("#menu a"),e=0;e<n.length;e++)n[e].addEventListener("click",function(){setTimeout(function(){t.querySelector("#menu").style.display="none"},100)},!1);window.addEventListener("hashchange",function(){location.hash.match(/#\/[^\/]+\/read$/)?(s.default.addClass("#header","hidden"),s.default.addClass("#nav-bar-top","hidden")):(s.default.removeClass("#header","hidden"),s.default.removeClass("#nav-bar-top","hidden"),window.innerWidth<750?(s.default.addClass("#nav-bar-top","hidden"),s.default.removeClass("#menu-open","hidden")):(s.default.removeClass("#nav-bar-top","hidden"),s.default.addClass("#menu-open","hidden")))},!1),window.addEventListener("resize",function(){location.hash.match(/#\/[^\/]+\/read$/)||(window.innerWidth<750?(s.default.addClass("#nav-bar-top","hidden"),s.default.removeClass("#menu-open","hidden")):(s.default.removeClass("#nav-bar-top","hidden"),s.default.addClass("#menu-open","hidden")))},!1)};window.addEventListener("DOMContentLoaded",function(){!function(){location.hash.match(/#\/[^\/]+\/read$/)||(window.innerWidth<750?(s.default.addClass("#nav-bar-top","hidden"),s.default.removeClass("#menu-open","hidden")):(s.default.removeClass("#nav-bar-top","hidden"),s.default.addClass("#menu-open","hidden")));s.default.ajax({method:"GET",url:"/init"}).then(function(t){var n=JSON.parse(t).books,e=JSON.parse(t).authors;return a.default.setData("books",n),a.default.setData("authors",e),s.default.ajax({method:"GET",url:"/users/currentuser"})}).then(function(t){var n=JSON.parse(t).user;return a.default.setData("currentUser",n),n.admin&&!0===n.admin?(s.default.removeClass("#admin-item","hidden"),s.default.removeClass("#menu-admin-item","hidden")):(s.default.addClass("#admin-item","hidden"),s.default.addClass("#menu-admin-item","hidden")),"done"}).then(function(t){return(0,i.default)(),"done"}).then(function(t){return n(),"done"}).catch(function(t){a.default.setData("currentUser",{}),s.default.addClass("#admin-item","hidden"),s.default.addClass("#menu-admin-item","hidden"),(0,i.default)(),n(),console.log(t)})}()},!1)}()},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=o(e(2)),s=o(e(38)),r=o(e(43)),l=o(e(47)),c=o(e(51)),u=o(e(80)),p=o(e(84)),d=o(e(86)),h=e(127);n.default=function(){var t=function(t,n){var e=document.querySelector("#container");""===n||"#/"===n?(0,s.default)(e):n.match(/#\/search\?q=/)?(0,r.default)(e):"#/tobepublished"===n?(0,l.default)(e):n.match(/#\/[^\/]+\/read$/)?(0,c.default)(e):n.match(/#\/authors\?(search=(A-Z))?/)?(0,u.default)(e):n.match(/#\/admin/)&&"#/admin/login/"!==n?i.default.checkRole().then(function(t){var n=t;e.innerHTML="";var o=document.createElement("div");return o.innerHTML=h(),e.appendChild(o),i.default.activeLink(),n}).then(function(e){(0,d.default)(t,n,e)}).catch(function(t){location.hash="#/admin/login/"}):"#/admin/login/"===n?i.default.checkRole().then(function(t){location.hash="#/admin/"}).catch(function(t){(0,p.default)(e)}):location.hash="#/"},n=void 0,e=void 0;e=location.hash,a.default.setData("location",{prevLocation:n,newLocation:e}),t(n,e),i.default.activeLink(),window.addEventListener("hashchange",function(){n=e,e=location.hash,a.default.setData("location",{prevLocation:n,newLocation:e}),t(n,e),gtag("config","UA-113626382-1",{page_path:"/"+e}),i.default.activeLink()},!1)}},function(t,n,e){"use strict";t.exports=e(4),e(32),e(33),e(34),e(35),e(37)},function(t,n,e){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(o=window)}t.exports=o},function(t,n,e){"use strict";var o=e(4);t.exports=o,o.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},function(t,n,e){"use strict";var o=e(4);t.exports=o,o.prototype.finally=function(t){return this.then(function(n){return o.resolve(t()).then(function(){return n})},function(n){return o.resolve(t()).then(function(){throw n})})}},function(t,n,e){"use strict";function o(t){var n=new a(a._44);return n._83=1,n._18=t,n}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=e(4);t.exports=a;var s=o(!0),r=o(!1),l=o(null),c=o(void 0),u=o(0),p=o("");a.resolve=function(t){if(t instanceof a)return t;if(null===t)return l;if(void 0===t)return c;if(!0===t)return s;if(!1===t)return r;if(0===t)return u;if(""===t)return p;if("object"===(void 0===t?"undefined":i(t))||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new a(n.bind(t))}catch(t){return new a(function(n,e){e(t)})}return o(t)},a.all=function(t){var n=Array.prototype.slice.call(t);return new a(function(t,e){function o(r,l){if(l&&("object"===(void 0===l?"undefined":i(l))||"function"==typeof l)){if(l instanceof a&&l.then===a.prototype.then){for(;3===l._83;)l=l._18;return 1===l._83?o(r,l._18):(2===l._83&&e(l._18),void l.then(function(t){o(r,t)},e))}var c=l.then;if("function"==typeof c){return void new a(c.bind(l)).then(function(t){o(r,t)},e)}}n[r]=l,0==--s&&t(n)}if(0===n.length)return t([]);for(var s=n.length,r=0;r<n.length;r++)o(r,n[r])})},a.reject=function(t){return new a(function(n,e){e(t)})},a.race=function(t){return new a(function(n,e){t.forEach(function(t){a.resolve(t).then(n,e)})})},a.prototype.catch=function(t){return this.then(null,t)}},function(t,n,e){"use strict";var o=e(4),i=e(36);t.exports=o,o.denodeify=function(t,n){return"number"==typeof n&&n!==1/0?function(t,n){for(var e=[],i=0;i<n;i++)e.push("a"+i);var s=["return function ("+e.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(e).concat([a]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(o,t)}(t,n):function(t){for(var n=Math.max(t.length-1,3),e=[],i=0;i<n;i++)e.push("a"+i);var s=["return function ("+e.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+n+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+a+";","var res;","switch (argLength) {",e.concat(["extra"]).map(function(t,n){return"case "+n+":res = fn.call("+["self"].concat(e.slice(0,n)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(o,t)}(t)};var a="function (err, res) {if (err) { rj(err); } else { rs(res); }}";o.nodeify=function(t){return function(){var n=Array.prototype.slice.call(arguments),e="function"==typeof n[n.length-1]?n.pop():null,a=this;try{return t.apply(this,arguments).nodeify(e,a)}catch(t){if(null===e||void 0===e)return new o(function(n,e){e(t)});i(function(){e.call(a,t)})}}},o.prototype.nodeify=function(t,n){if("function"!=typeof t)return this;this.then(function(e){i(function(){t.call(n,null,e)})},function(e){i(function(){t.call(n,e)})})}},function(t,n,e){"use strict";function o(t){var n;(n=s.length?s.pop():new i).task=t,a(n)}function i(){this.task=null}var a=e(14),s=[],r=[],l=a.makeRequestCallFromTimer(function(){if(r.length)throw r.shift()});t.exports=o,i.prototype.call=function(){try{this.task.call()}catch(t){o.onerror?o.onerror(t):(r.push(t),l())}finally{this.task=null,s[s.length]=this}}},function(t,n,e){"use strict";var o=e(4);t.exports=o,o.enableSynchronous=function(){o.prototype.isPending=function(){return 0==this.getState()},o.prototype.isFulfilled=function(){return 1==this.getState()},o.prototype.isRejected=function(){return 2==this.getState()},o.prototype.getValue=function(){if(3===this._83)return this._18.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._18},o.prototype.getReason=function(){if(3===this._83)return this._18.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._18},o.prototype.getState=function(){return 3===this._83?this._18.getState():-1===this._83||-2===this._83?0:this._83}},o.disableSynchronous=function(){o.prototype.isPending=void 0,o.prototype.isFulfilled=void 0,o.prototype.isRejected=void 0,o.prototype.getValue=void 0,o.prototype.getReason=void 0,o.prototype.getState=void 0}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(2)),a=o(e(0)),s=(o(e(39)),e(42));n.default=function(t){var n=t,e=i.default.getData("books").filter(function(t){return t.visible}).reverse().slice(0,6);n.innerHTML=s({books:e}),a.default.setHTML("title","&Eacute;quivoques - Nouveautés");for(var o=document.querySelector("#home-container"),r=o.querySelectorAll(".slide"),l=o.querySelectorAll(".dot"),c=void 0,u=void 0,p=function(t){clearTimeout(u),u=void 0,c===r.length-1?c=0:c+=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(l[n],"active");r[c].style.display="block",a.default.addClass(l[c],"active"),d()},d=function(){u=setTimeout(p,1e4)},h=function(t){l[t].addEventListener("click",function(n){clearTimeout(u),u=void 0,c=t;for(var e=0;e<r.length;e++)r[e].style.display="none",a.default.removeClass(l[e],"active");r[c].style.display="block",a.default.addClass(l[c],"active"),d()},!1)},b=0;b<l.length;b++)h(b);if(o.querySelector("#previous").addEventListener("click",function(t){clearTimeout(u),u=void 0,0===c?c=r.length-1:c-=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(l[n],"active");r[c].style.display="block",a.default.addClass(l[c],"active"),d()},!1),o.querySelector("#next").addEventListener("click",p,!1),window.innerWidth>=750){if(void 0!==i.default.getData("location").prevLocation&&i.default.getData("location").prevLocation.match(/\/read$/)){var f=i.default.getData("book");for(b=0;b<r.length;b++){if(r[b].id.replace(/slide_/,"")===f){c=b;break}c=0}}else c=0;r[c].style.display="block",a.default.addClass(l[c],"active"),d()}else clearTimeout(u),u=void 0;if(window.addEventListener("resize",function(){if(clearTimeout(u),u=void 0,window.innerWidth<750)for(var t=0;t<r.length;t++)r[t].style.display="block";else{for(var n=0;n<r.length;n++)r[n].style.display="none";void 0===c&&(c=0),r[c].style.display="block",a.default.addClass(l[c],"active"),d()}}),void 0!==i.default.getData("location").prevLocation&&i.default.getData("location").prevLocation.match(/\/read$/)){var m=i.default.getData("book"),g=document.getElementById(m);if(g){g.scrollIntoView(!0);var v=document.getElementsByTagName("html")[0];v.scrollTop=v.scrollTop-40}}for(var y=function(t){clearTimeout(u),u=void 0;var n=i.default.getData("books",t.currentTarget.id).path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+n+"/read"},k=o.querySelectorAll(".book"),_=0;_<k.length;_++)k[_].addEventListener("click",y,!1);for(var x=function(t){clearTimeout(u),u=void 0;var n=t.target.id.replace("open-","");window.innerWidth<750&&(document.body.style.overflowY="hidden"),document.getElementById(n).style.display="block"},w=o.querySelectorAll(".open-infos-btn"),S=0;S<w.length;S++)w[S].addEventListener("click",x,!1);for(var T=function(t){clearTimeout(u),u=void 0,window.innerWidth>=750&&d();var n=t.target.id.replace("close-","");window.innerWidth<750&&(document.body.style.overflowY="auto"),document.getElementById(n).style.display="none"},E=o.querySelectorAll(".close-infos-btn"),C=0;C<E.length;C++)E[C].addEventListener("click",T,!1);window.addEventListener("scroll",function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?window.innerWidth<750&&(o.querySelector("#toTop").style.display="block"):o.querySelector("#toTop").style.display="none"},!1);o.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(t,n,e){var o=e(40);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0};i.transform=void 0;e(6)(o,i);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(5)(void 0)).push([t.i,'#home-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#home-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px;\n\t}\n}\n\n#home-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#home-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n\n#home-container #booksList-container {\n\twidth: 100%;\n\tpadding-bottom: 0px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#home-container #booksList-container {\n\t\twidth: 750px;\n\t}\n}\n\n#home-container #booksList {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tpadding: 0px 0px 0px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #booksList {\n\t\theight: 460px;\n\t}\n}\n\n#home-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#home-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#home-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#home-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#home-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#home-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#home-container #previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#home-container #next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #previous {\n\t\tdisplay: inline-block;\n\t}\n\n\t#home-container #next {\n\t\tdisplay: inline-block;\n\t}\n}\n\n#home-container #dots {\n\twidth: 100%;\n\ttext-align: center;\n\tdisplay: none;\n\tpadding: 32px 0px 32px 0px;\n}\n\n#home-container .dot {\n\tcursor:pointer;\n\theight: 15px;\n\twidth: 15px;\n\tmargin: 0 2px;\n\tborder: 1px solid #333;\n\tbackground-color: transparent;\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\ttransition: background-color 0.6s ease;\n}\n\n#home-container .dot.active, #home-container .dot:hover {\n\tbackground-color: #333;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#home-container #dots {\n\t\tdisplay: block;\n\t}\n\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#home-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#home-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#home-container .modal-content div {\n\tpadding: 8px;\n}\n\n#home-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#home-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 37px;\n\theight: 37px;\n\tfont-size: 1.5em;\n}\n\n\n#home-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#home-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#home-container .modal ul li {\n\tpadding: 4px;\n}\n\n#home-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#home-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(t,n,e){"use strict";t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,o=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var i=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?e+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="home-container" class="fade">\n\t<div id="top-page-header">nouveautés</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/home/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_<%= books[i].id %>">\n\t\t\t\t\t<div id="paper" style="background-color: <%- books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t\t<div id="<%= books[i].id %>" class="book" style="<%= books[i].styles.cover %>">\n\t\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="title" style="<%-books[i].styles.title %>">\n\t\t\t\t\t\t\t\t<%- books[i].title %>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t\t<div id="dots">\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t</div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="home-container" class="fade">\n\t<div id="top-page-header">nouveautés</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\n\t\t\t'),__stack.lineno=6;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,books[t].id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,books[t].authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=7,books[t].subtitle1&&(n.push("\n\t\t\t\t<p>",(__stack.lineno=8,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),n.push("\n\t\t\t  "),__stack.lineno=10,books[t].subtitle2&&(n.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,books[t].subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),n.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  <p><b>Titre : </b>',(__stack.lineno=15,books[t].title),"\n\t\t\t\t  "),__stack.lineno=16,books[t].subtitle1&&(n.push("\n\t\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=17,books[t].subtitle1),"</span>\n\t\t\t\t  "),__stack.lineno=18),n.push("\n\t\t\t\t  "),__stack.lineno=19,books[t].subtitle2&&(n.push("\n\t\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=20,books[t].subtitle2),"</span>\n\t\t\t\t  "),__stack.lineno=21),n.push("\n\t\t\t  </p>\n\t\t\t  <p><b>Année de parution : </b>",(__stack.lineno=23,books[t].year),"</p>\n\t\t\t  "),__stack.lineno=24,books[t].authors.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=29;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t",(__stack.lineno=31,books[t].authors[e].name)," (",(__stack.lineno=31,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=31,books[t].authors[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=33;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=36}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=37,books[t].authors[0].name)," (",(__stack.lineno=37,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=37,books[t].authors[0].death),")</p>\n\t\t\t  "),__stack.lineno=38);if(n.push("\n\t\t\t  "),__stack.lineno=39,books[t].contribs.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=44;for(e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=46,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=47,books[t].contribs[e].name)," (",(__stack.lineno=47,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=47,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=49;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=52}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=58,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=59,books[t].contribs[0].name)," (",(__stack.lineno=59,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=59,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=63);n.push('\n\t\t\t  <p class="book-source">\n\t\t\t  '),__stack.lineno=65,books[t].sources.length>1?(n.push("\n\t\t\t\t<b>Sources :</b>\n\t\t\t  "),__stack.lineno=67):(n.push("\n\t\t\t\t<b>Source :</b>\n\t\t\t  "),__stack.lineno=69),n.push("\n\t\t\t\t<ul>\n\t\t\t\t"),__stack.lineno=71;for(e=0;e<books[t].sources.length;e++)n.push("\n\t\t\t\t\t<li><span>",(__stack.lineno=72,books[t].sources[e]),"</span></li>\n\t\t\t\t"),__stack.lineno=73;return n.push("\n\t\t\t\t</ul>\n\t\t\t  </p>\n\t\t\t  "),__stack.lineno=76,books[t].description&&(n.push("\n\t\t\t  <div>",(__stack.lineno=77,books[t].description),"</div>\n\t\t\t  "),__stack.lineno=78),n.push("\n\t\t</div>\n\t</div>\n</div>\n"),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_',escape((__stack.lineno=10,books[t].id)),'">\n\t\t\t\t\t<div id="paper" style="background-color: ',(__stack.lineno=11,books[t].styles.color),"; background-image: url(",(__stack.lineno=11,books[t].styles.image),')">\n\t\t\t\t\t\t<div id="',escape((__stack.lineno=12,books[t].id)),'" class="book" style="',escape((__stack.lineno=12,books[t].styles.cover)),'">\n\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=13,books[t].styles.author)),'">',(__stack.lineno=13,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=14,books[t].styles.title),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=15,books[t].title),"\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=17,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=18,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].subtitle1),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=21),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=22,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=23,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=24,books[t].subtitle2),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=26),buf.push('\n\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=27,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=34,books[t].id)),'" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=38;buf.push('\n\t\t\t<div id="dots">\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t</div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t'+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(2)),a=(o(e(0)),o(e(44)),e(46));n.default=function(t){var n=t,e=location.hash.replace(/#\/search\?q\=/,"").replace("'","’"),o="";if(e.split("").length<3)return o="Aucun résultat.",void(n.innerHTML=a({books:[],nores:o}));for(var s=new RegExp(e,"gi"),r=i.default.getData("books").filter(function(t){return!0===t.visible}),l=r.filter(function(t){return t.title.replace("&nbsp;"," ").match(s)}),c=i.default.getData("authors").filter(function(t){return!0===t.visible}).filter(function(t){return t.name.replace("&nbsp;"," ").match(s)}),u=0;u<c.length;u++){for(var p=c[u],d=function(t){var n=p.contribs[t].book,e=r.filter(function(t){return t.id===n.id});e[0]&&!0===e[0].visible&&l.push(e[0])},h=0;h<p.contribs.length;h++)d(h);var b=function(t){var n=p.books[t],e=r.filter(function(t){return t.id===n.id});e[0]&&!0===e[0].visible&&l.push(e[0])};for(h=0;h<p.books.length;h++)b(h)}if(0===l.length)return o="Aucun résultat.",void(n.innerHTML=a({books:[],nores:o}));var f=function(t){var n=i.default.getData("books",t.currentTarget.id).path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+n+"/read"},m=function(t){var n=t.target.id.replace("open-","");document.getElementById(n).style.display="block"},g=function(t){var n=t.target.id.replace("close-","");document.getElementById(n).style.display="none"};n.innerHTML=a({books:l.reverse(),nores:o});var v=document.querySelector("#search-container");if(void 0!==i.default.getData("location").prevLocation&&i.default.getData("location").prevLocation.match(/\/read$/)){var y=i.default.getData("book");document.getElementById(y).scrollIntoView(!0);var k=document.getElementsByTagName("html")[0];k.scrollTop=k.scrollTop-30}for(var _=v.querySelectorAll(".book"),x=0;x<_.length;x++)_[x].addEventListener("click",f,!1);for(var w=v.querySelectorAll(".open-infos-btn"),S=0;S<w.length;S++)w[S].addEventListener("click",m,!1);for(var T=v.querySelectorAll(".close-infos-btn"),E=0;E<T.length;E++)T[E].addEventListener("click",g,!1)}},function(t,n,e){var o=e(45);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0};i.transform=void 0;e(6)(o,i);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(5)(void 0)).push([t.i,'#search-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Times New Roman", Georgia, sans-serif;\n\tfont-size: 1em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1px;\n\tline-height: 25px;\n\twidth: 98px;\n\tmargin: auto;\n\tmargin-top: 32px;\n\tdisplay: block;\n}\n\n@media only screen and (min-width: 768px) {\n\t#search-container #top-page-header {\n\t\tdisplay: none;\n\t}\n}\n\n#search-container #booksList {\n\tmax-width: 568px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 853px) {\n\t#search-container #booksList {\n\t\tmax-width: 852px;\n\t}\n}\n\n@media only screen and (min-width: 1137px) {\n\t#search-container #booksList {\n\t\tmax-width: 1136px;\n\t}\n}\n\n#search-container .w3-col {\n\twidth: 100%;\n\theight: 408px;\n}\n\n@media only screen and (min-width: 600px) {\n\t#search-container .w3-col {\n\t\twidth: 284px;\n\t}\n}\n\n#search-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#search-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#search-container .book .logo .span1 {\n\tfont-variant: small-caps;\n\tfont-style: normal;\n}\n\n#search-container #book-btn {\n\twidth: 238px;\n\theight: 40px;\n\tmargin: auto;\n\tmargin-top: 8px;\n}\n\n#search-container #book-btn button {\n\tfont-family: "Times New Roman", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1.5px;\n\tbackground-color: transparent;\n}\n\n/*\nMODAL (INFOS)\n*/\n#search-container .w3-modal {\n\tfont-family: "Verdana", serif;\n}\n\n#search-container .w3-modal #footer {\n\tpadding-top: 16px;\n}\n\n#search-container .w3-modal .close-infos-btn {\n\tfont-size: 1.1em;\n\tfont-family: "Verdana", serif;\n\tletter-spacing: 1px;\n}\n\n#search-container .w3-modal p {\n\tmargin: 0px;\n\tmargin-top: 8px;\n}\n\n#search-container .w3-modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#search-container .w3-modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#nores {\n\ttext-align: center;\n}\n\n#nores p {\n\tfont-family: "Times New Roman", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1px;\n}\n\n',""])},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="search-container" class="w3-content" style="max-width: 1136px">\n\t<div id="top-page-header" class="w3-light-gray">recherche</div>\n\t<% if(nores!==\'\') {%>\n\t\t<div id="nores" class="w3-padding-32 w3-animate-opacity">\n\t\t\t<p><%= nores %></p>\n\t\t</div<\n\t<%}%>\n\t<div id="booksList" class="w3-padding-64 w3-animate-opacity">\n\t\t<div class=\'w3-row\'>\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/search/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="w3-col" style="text-align: center">\n\t\t\t\t\t<div id="paper" id="paper" style="background-color: <%- books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t<div id="<%= books[i].id %>" class="book" style="<%=books[i].styles.cover %>">\n\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t<p class="title" style="<%=books[i].styles.title %>">\n\t\t\t\t\t\t\t<%- books[i].title %>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t<p class="subtitle1" style="<%=books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t<p class="subtitle1" style="<%=books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<p class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t<span class="span1">L&rsquo;Intermédiaire</span><br/>\n\t\t\t\t\t\t\t<span class="span2">éditions</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btn" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" \n\t\t\t\t\t\t        class="open-infos-btn align-right w3-btn w3-ripple w3-hover-none" >+ d\'infos</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t</div>\n\t\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="search-container" class="w3-content" style="max-width: 1136px">\n\t<div id="top-page-header" class="w3-light-gray">recherche</div>\n\t'),__stack.lineno=3,""!==nores&&(buf.push('\n\t\t<div id="nores" class="w3-padding-32 w3-animate-opacity">\n\t\t\t<p>',escape((__stack.lineno=5,nores)),"</p>\n\t\t</div<\n\t"),__stack.lineno=7),buf.push('\n\t<div id="booksList" class="w3-padding-64 w3-animate-opacity">\n\t\t<div class=\'w3-row\'>\n\t\t\t'),__stack.lineno=10;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="w3-modal" style="background-color: rgba(0,0,0,0.1)">\n\t<div class="w3-modal-content w3-card w3-animate-top" style="max-width: 500px">\n\t\t<div class="w3-container w3-padding-16 ">\n\t\t\t  <p><b>Titre : </b>',(__stack.lineno=4,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=5,books[t].subtitle1&&(n.push("\n\t\t\t\t<p><b>Sous-titre : </b>",(__stack.lineno=6,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=7),n.push("\n\t\t\t  "),__stack.lineno=8,books[t].subtitle2&&(n.push("\n\t\t\t\t<p><b>Sous-sous-titre : </b>",(__stack.lineno=9,books[t].subtitle2),"</p>\n\t\t\t  "),__stack.lineno=10),n.push("\n\t\t\t  <p><b>Année de parution : </b>",(__stack.lineno=11,books[t].year),"</p>\n\t\t\t  "),__stack.lineno=12,books[t].authors.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=17;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t",(__stack.lineno=19,books[t].authors[e].name)," (",(__stack.lineno=19,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=19,books[t].authors[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=21;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=24}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=25,books[t].authors[0].name)," (",(__stack.lineno=25,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=25,books[t].authors[0].death),")</p>\n\t\t\t  "),__stack.lineno=26);if(n.push("\n\t\t\t  "),__stack.lineno=27,books[t].contribs.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=32;for(e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=34,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=35,books[t].contribs[e].name)," (",(__stack.lineno=35,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=35,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=37;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=40}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=46,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=47,books[t].contribs[0].name)," (",(__stack.lineno=47,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=47,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=51);return n.push('\n\t\t\t  <p class="book-source"><b>Source : </b>\n\t\t\t\t  <ul>\n\t\t\t\t\t  <li>&Eacute;diteur : ',(__stack.lineno=54,books[t].source.publisher),"</li>\n\t\t\t\t\t  <li>Année de parution : ",(__stack.lineno=55,books[t].source.year),"</li>\n\t\t\t\t  </ul>\n\t\t\t  </p>\n\t\t\t  "),__stack.lineno=58,books[t].description&&(n.push("\n\t\t\t  <div>",(__stack.lineno=59,books[t].description),"</div>\n\t\t\t  "),__stack.lineno=60),n.push('\n\t\t</div>\n\t\t<div id=footer class="w3-container w3-border-bottom">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=63,books[t].id)),'" \n\t\t\t\t\tclass="close-infos-btn w3-button w3-text-gray w3-hover-none w3-hover-text-black w3-display-bottomright"\n\t\t\t\t\t>Fermer</button>\n\t\t</div>\n\t</div>\n</div>\n'),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="w3-col" style="text-align: center">\n\t\t\t\t\t<div id="paper" id="paper" style="background-color: ',(__stack.lineno=15,books[t].styles.color),"; background-image: url(",(__stack.lineno=15,books[t].styles.image),')">\n\t\t\t\t\t<div id="',escape((__stack.lineno=16,books[t].id)),'" class="book" style="',escape((__stack.lineno=16,books[t].styles.cover)),'">\n\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=17,books[t].styles.author)),'">',(__stack.lineno=17,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t<p class="title" style="',escape((__stack.lineno=18,books[t].styles.title)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].title),"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=21,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=22,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=23,books[t].subtitle1),"</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=25),buf.push("\n\t\t\t\t\t\t"),__stack.lineno=26,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=27,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=28,books[t].subtitle2),"</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=30),buf.push('\n\t\t\t\t\t\t<p class="logo" style="',escape((__stack.lineno=31,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t<span class="span1">L&rsquo;Intermédiaire</span><br/>\n\t\t\t\t\t\t\t<span class="span2">éditions</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btn" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=38,books[t].id)),'" \n\t\t\t\t\t\t        class="open-infos-btn align-right w3-btn w3-ripple w3-hover-none" >+ d\'infos</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=43;buf.push("\n\t\t</div>\n\t\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(2)),a=o(e(0)),s=(o(e(48)),e(50));n.default=function(t){var n=t,e=i.default.getData("books").filter(function(t){return!1===t.visible});n.innerHTML=s({books:e}),a.default.setHTML("title","&Eacute;quivoques - À paraître");for(var o=document.querySelector("#books-next-container"),r=o.querySelectorAll(".slide"),l=o.querySelector("#dots"),c=0;c<r.length&&!(r.length<2);c++){var u=document.createElement("span");u.className="dot",l.appendChild(u)}for(var p=o.querySelectorAll(".dot"),d=void 0,h=void 0,b=function(t){clearTimeout(h),h=void 0,d===r.length-1?d=0:d+=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(p[n],"active");r[d].style.display="block",a.default.addClass(p[d],"active"),f()},f=function(){h=setTimeout(b,1e4)},m=function(t){p[t].addEventListener("click",function(n){clearTimeout(h),h=void 0,d=t;for(var e=0;e<r.length;e++)r[e].style.display="none",a.default.removeClass(p[e],"active");clearTimeout(h),r[d].style.display="block",a.default.addClass(p[d],"active"),f()},!1)},g=0;g<p.length;g++)m(g);o.querySelector("#previous").addEventListener("click",function(t){clearTimeout(h),h=void 0,0===d?d=r.length-1:d-=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(p[n],"active");r[d].style.display="block",a.default.addClass(p[d],"active"),f()},!1),o.querySelector("#next").addEventListener("click",b,!1),window.innerWidth>=750&&(r.length<2?(o.querySelector("#previous").style.display="none",o.querySelector("#next").style.display="none"):(o.querySelector("#previous").style.display="block",o.querySelector("#next").style.display="block"),r[d=0].style.display="block",r.length>1&&(a.default.addClass(p[d],"active"),f())),window.addEventListener("resize",function(){if(clearTimeout(h),h=void 0,window.innerWidth<750)for(var t=0;t<r.length;t++)r[t].style.display="block";else{for(var n=0;n<r.length;n++)r[n].style.display="none";void 0===d&&(d=0),r[d].style.display="block",r.length>1&&(a.default.addClass(p[d],"active"),f()),r.length<2?(o.querySelector("#previous").style.display="none",o.querySelector("#next").style.display="none"):(o.querySelector("#previous").style.display="block",o.querySelector("#next").style.display="block")}});for(var v=function(t){clearTimeout(h),h=void 0;var n=t.target.id.replace("open-","");window.innerWidth<750&&(document.body.style.overflowY="hidden"),document.getElementById(n).style.display="block"},y=o.querySelectorAll(".open-infos-btn"),k=0;k<y.length;k++)y[k].addEventListener("click",v,!1);for(var _=function(t){clearTimeout(h),h=void 0,window.innerWidth>=750&&f();var n=t.target.id.replace("close-","");window.innerWidth<750&&(document.body.style.overflowY="auto"),document.getElementById(n).style.display="none"},x=o.querySelectorAll(".close-infos-btn"),w=0;w<x.length;w++)x[w].addEventListener("click",_,!1);window.addEventListener("scroll",function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?window.innerWidth<750&&(o.querySelector("#toTop").style.display="block"):o.querySelector("#toTop").style.display="none"},!1);o.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(t,n,e){var o=e(49);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0};i.transform=void 0;e(6)(o,i);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(5)(void 0)).push([t.i,'#books-next-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#books-next-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px;\n\t}\n}\n\n#books-next-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#books-next-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n#books-next-container #booksList-container {\n\twidth: 100%;\n\tpadding-bottom: 0px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#books-next-container #booksList-container {\n\t\twidth: 750px;\n\t}\n}\n\n#books-next-container #booksList {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tpadding: 0px 0px 0px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #booksList {\n\t\theight: 460px;\n\t}\n}\n\n#books-next-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#books-next-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#books-next-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#books-next-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n\tposition: relative;\n}\n\n#books-next-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#books-next-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#books-next-container #previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#books-next-container #next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #previous {\n\t\tdisplay: inline-block;\n\t}\n\n\t#books-next-container #next {\n\t\tdisplay: inline-block;\n\t}\n}\n\n#books-next-container #dots {\n\twidth: 100%;\n\ttext-align: center;\n\tdisplay: none;\n\tpadding: 32px 0px 32px 0px;\n}\n\n#books-next-container .dot {\n\tcursor:pointer;\n\theight: 15px;\n\twidth: 15px;\n\tmargin: 0 2px;\n\tborder: 1px solid #333;\n\tbackground-color: transparent;\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\ttransition: background-color 0.6s ease;\n}\n\n#books-next-container .dot.active, #books-next-container .dot:hover {\n\tbackground-color: #333;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#books-next-container #dots {\n\t\tdisplay: block;\n\t}\n\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#books-next-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#books-next-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#books-next-container .modal-content div {\n\tpadding: 8px;\n}\n\n#books-next-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#books-next-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 37px;\n\theight: 37px;\n\tfont-size: 1.5em;\n}\n\n#books-next-container #content {\n\tmax-height: 330px;\n\toverflow: auto;\n}\n\n@media only screen and (min-height: 600px) {\n\t#books-next-container #content {\n\t\tmax-height: 450px;\n\t\toverflow: auto;\n\t}\n\n}\n\n#books-next-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#books-next-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#books-next-container .modal ul li {\n\tpadding: 4px;\n}\n\n#books-next-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#books-next-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="books-next-container" class="fade">\n\t<div id="top-page-header">à paraître</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\t\t\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/books-next/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_<%= books[i].id %>">\n\t\t\t\t\t<div id="paper" style="background-color: <%= books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t\t<div class="book" style="<%=books[i].styles.cover %>">\n\t\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="title" style="<%-books[i].styles.title %>">\n\t\t\t\t\t\t\t\t<span><%- books[i].title %></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" class="open-infos-btn btn">Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t\t<div id="dots"></div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="books-next-container" class="fade">\n\t<div id="top-page-header">à paraître</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\t\t\n\t\t\t'),__stack.lineno=6;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,books[t].id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,books[t].authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=7,books[t].subtitle1&&(n.push("\n\t\t\t\t<p>",(__stack.lineno=8,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),n.push("\n\t\t\t  "),__stack.lineno=10,books[t].subtitle2&&(n.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,books[t].subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),n.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  <p><b>Titre : </b>',(__stack.lineno=15,books[t].title),"\n\t\t\t\t  "),__stack.lineno=16,books[t].subtitle1&&(n.push("\n\t\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=17,books[t].subtitle1),"</span>\n\t\t\t\t  "),__stack.lineno=18),n.push("\n\t\t\t\t  "),__stack.lineno=19,books[t].subtitle2&&(n.push("\n\t\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=20,books[t].subtitle2),"</span>\n\t\t\t\t  "),__stack.lineno=21),n.push("\n\t\t\t  </p>\n\t\t\t  <p><b>Année de parution : </b>",(__stack.lineno=23,books[t].year),"</p>\n\t\t\t  "),__stack.lineno=24,books[t].authors.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=29;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t",(__stack.lineno=31,books[t].authors[e].name)," (",(__stack.lineno=31,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=31,books[t].authors[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=33;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=36}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=37,books[t].authors[0].name)," (",(__stack.lineno=37,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=37,books[t].authors[0].death),")</p>\n\t\t\t  "),__stack.lineno=38);if(n.push("\n\t\t\t  "),__stack.lineno=39,books[t].contribs.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=44;for(e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=46,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=47,books[t].contribs[e].name)," (",(__stack.lineno=47,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=47,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=49;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=52}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=58,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=59,books[t].contribs[0].name)," (",(__stack.lineno=59,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=59,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=63);n.push('\n\t\t\t  <p class="book-source">\n\t\t\t  '),__stack.lineno=65,books[t].sources.length>1?(n.push("\n\t\t\t\t<b>Sources :</b>\n\t\t\t  "),__stack.lineno=67):(n.push("\n\t\t\t\t<b>Source :</b>\n\t\t\t  "),__stack.lineno=69),n.push("\n\t\t\t\t<ul>\n\t\t\t\t"),__stack.lineno=71;for(e=0;e<books[t].sources.length;e++)n.push("\n\t\t\t\t\t<li><span>",(__stack.lineno=72,books[t].sources[e]),"</span></li>\n\t\t\t\t"),__stack.lineno=73;return n.push("\n\t\t\t\t</ul>\n\t\t\t  </p>\n\t\t\t  "),__stack.lineno=76,books[t].description&&(n.push("\n\t\t\t  <div>",(__stack.lineno=77,books[t].description),"</div>\n\t\t\t  "),__stack.lineno=78),n.push("\n\t\t</div>\n\t</div>\n</div>\n"),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_',escape((__stack.lineno=10,books[t].id)),'">\n\t\t\t\t\t<div id="paper" style="background-color: ',escape((__stack.lineno=11,books[t].styles.color)),"; background-image: url(",(__stack.lineno=11,books[t].styles.image),')">\n\t\t\t\t\t\t<div class="book" style="',escape((__stack.lineno=12,books[t].styles.cover)),'">\n\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=13,books[t].styles.author)),'">',(__stack.lineno=13,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=14,books[t].styles.title),'">\n\t\t\t\t\t\t\t\t<span>',(__stack.lineno=15,books[t].title),"</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=17,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=18,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].subtitle1),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=21),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=22,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=23,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=24,books[t].subtitle2),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=26),buf.push('\n\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=27,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=34,books[t].id)),'" class="open-infos-btn btn">Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=38;buf.push('\n\t\t\t<div id="dots"></div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t'+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=o(e(2)),s=o(e(52)),r=o(e(53)),l=(o(e(76)),o(e(78))),c=e(79);n.default=function(t){for(var n=t,e=function(t){var n=h.querySelector("[data-wb-text-container]"),e=h.querySelector("[data-wb-text]"),o=h.querySelector("#toc-large-device"),c=h.querySelector("#tab-options"),p=h.querySelector("#options"),d=h.querySelector("#options-medium"),b=c.querySelectorAll("[name=fontSize]"),f=d.querySelectorAll("[name=fontSize]"),m=p.querySelectorAll("[name=fontSize]"),g=c.querySelectorAll("[name=fontFamily]"),v=d.querySelectorAll("[name=fontFamily]"),y=p.querySelectorAll("[name=fontFamily]"),k=h.querySelector("#tab-infos"),_=h.querySelector("#book-commands"),x=h.querySelector("#book-nav-bar-bottom"),w=h.querySelector("#book-nav-bar-bottom-small"),S=(h.querySelector("#font-size-valid-large"),void h.querySelector("#font-size-valid")),T=void 0,E=void 0,C=void 0,q=void 0,A=void 0,L=void 0,M=void 0;if(q=s.default.getFont()?s.default.getFont():u.styles.font,e.style.fontFamily=q,h.querySelector("#current-section-title").style.fontFamily=q,h.querySelector("#currentByTotal").style.fontFamily=q,window.innerWidth>=768)if(i.default.addClass("[data-wb-text-container]","card-4"),window.innerHeight>832?(S=748,M=(window.innerHeight-748-44)/2,n.style.top=M-15+"px",o.style.marginTop=M-15+"px",c.style.marginTop=M+33+"px",k.style.marginTop=M+80+"px",_.style.top=M-16+"px",x.style.marginTop=M-15+"px"):(S=window.innerHeight-44-40,n.style.top="15px",o.style.marginTop="15px",c.style.marginTop="63px",k.style.marginTop="111px",_.style.top="15px",x.style.marginTop="15px"),T=550,A=s.default.getFontSize("large")?s.default.getFontSize("large"):16,e.style.fontSize=A+"px",window.innerWidth<1366){for(var N=0;N<f.length;N++)f[N].value==A&&(f[N].checked=!0);for(var O=0;O<v.length;O++)v[O].value==q&&(v[O].checked=!0)}else{for(var j=0;j<b.length;j++)b[j].value==A&&(b[j].checked=!0);for(var D=0;D<g.length;D++)g[D].value==q&&(g[D].checked=!0)}else{i.default.removeClass("[data-wb-text-container]","w3-card-4"),S=window.innerHeight-30,T=window.innerWidth,w.style.width=T+"px",A=s.default.getFontSize("small")?s.default.getFontSize("small"):14,e.style.fontSize=A+"px";for(var I=0;I<m.length;I++)m[I].value==A&&(m[I].checked=!0);for(var z=0;z<y.length;z++)y[z].value==q&&(y[z].checked=!0);n.style.top="0px"}E=S%(L=1.5*A)!=0?2*L+S%L/2:2*L,C=window.innerWidth>420?50:25;var P=new r.default(h,{height:S,maxWidth:T,marginY:E,marginX:C,text:t});P.init().then(function(t){if(s.default.getBkmrk(u.id)){var n=s.default.getBkmrk(u.id);P.goToBookmark(n)}return"done"}).then(function(t){return function(){if(window.innerWidth>=1366){var t=h.querySelector("#toc-large-device div");t&&(t.style.maxHeight=S+"px")}window.addEventListener("resize",function(t){if(document.body.style.height="100%",window.innerWidth>=768)if(i.default.addClass("[data-wb-text-container]","card-4"),window.innerHeight>=832?(S=748,M=(window.innerHeight-748-44)/2,n.style.top=M-15+"px",o.style.marginTop=M-15+"px",c.style.marginTop=M+33+"px",k.style.marginTop=M+80+"px",_.style.top=M-16+"px",x.style.marginTop=M-15+"px"):(S=window.innerHeight-44-40,n.style.top="15px",o.style.marginTop="15px",k.style.marginTop="63px",k.style.marginTop="111px",_.style.top="15px",x.style.marginTop="15px"),T=550,A=s.default.getFontSize("large")?s.default.getFontSize("large"):16,e.style.fontSize=A+"px",window.innerWidth<1366)for(var a=0;a<f.length;a++)f[a].value==A&&(f[a].checked=!0);else for(var r=0;r<b.length;r++)b[r].value==A&&(b[r].checked=!0);else{i.default.removeClass("[data-wb-text-container]","card-4"),S=window.innerHeight-30,T=window.innerWidth,w.style.width=T+"px",A=s.default.getFontSize("small")?s.default.getFontSize("small"):14,e.style.fontSize=A+"px";for(var l=0;l<m.length;l++)m[l].value==A&&(m[l].checked=!0);n.style.top="0px"}if(window.innerWidth>=1366){var u=h.querySelector("#toc-large-device div");u&&(u.style.maxHeight=S+"px")}E=S%(L=1.5*A)!=0?2*L+S%L/2:2*L,C=window.innerWidth>420?50:25,P.setHeight(S),P.setMaxWidth(T),P.setMarginY(E),P.setMarginX(C),!0===P.col&&P.reinit()},!1),new l.default(h.querySelector("[data-wb-text-container]")).on("swiperight swipeleft",function(t){"swipeleft"===t.type?P.forward():"swiperight"===t.type&&P.backward()}),document.addEventListener("keydown",function(t){39===t.which?P.forward():37===t.which?P.backward():36===t.which?P.toFirstPage():35===t.which&&P.toLastPage()},!1);var r=h.querySelector("#forward-large"),q=h.querySelector("#backward-large");r.addEventListener("click",function(t){P.forward()},!1),q.addEventListener("click",function(t){P.backward()},!1);for(var N=h.querySelector("#toc"),O=h.querySelectorAll(".open-toc"),j=0;j<O.length;j++)O[j].addEventListener("click",function(t){N.className="open"===N.className?"":"open"},!1);N.querySelector("#close-toc").addEventListener("click",function(){N.className=""},!1);for(var D=N.querySelectorAll("a"),I=0;I<D.length;I++)D[I].addEventListener("click",function(){N.className=""},!1);h.querySelector("#open-options").addEventListener("click",function(){p.className="open"===p.className?"":"open"}),h.querySelector("#close-options").addEventListener("click",function(){p.className=""}),h.querySelector("#open-options-medium").addEventListener("click",function(){d.className="open"===d.className?"":"open"}),h.querySelector("#close-options-medium").addEventListener("click",function(){d.className=""}),h.querySelector("#swing-container"),h.querySelector("#swing-bar"),h.querySelector("#tab-home-link");var z=h.querySelector("#toggle-toc-large-device"),H=h.querySelector("#toggle-tab-options"),R=h.querySelector("#toggle-tab-infos"),F=h.querySelector("#close-toc-large-device"),B=h.querySelector("#close-tab-options"),W=h.querySelector("#close-tab-infos");z.addEventListener("click",function(t){o.className.match(/open/)?(o.style.zIndex="0",i.default.removeClass("#toc-large-device","open"),i.default.removeClass("#swing-container","left"),i.default.removeClass("#swing-bar","left")):(k.className.match(/open/)?(k.style.zIndex="0",o.style.zIndex="1000",i.default.removeClass("#tab-infos","open")):c.className.match(/open/)&&(c.style.zIndex="0",o.style.zIndex="1000",i.default.removeClass("#tab-options","open")),i.default.addClass("#toc-large-device","open"),i.default.addClass("#swing-container","left"),i.default.addClass("#swing-bar","left"))},!1),F.addEventListener("click",function(t){i.default.removeClass("#toc-large-device","open"),i.default.removeClass("#swing-container","left"),i.default.removeClass("#swing-bar","left"),o.style.zIndex="0"},!1),H.addEventListener("click",function(t){c.className.match(/open/)?(c.style.zIndex="0",i.default.removeClass("#tab-options","open"),i.default.removeClass("#swing-container","left"),i.default.removeClass("#swing-bar","left")):(o.className.match(/open/)?(o.style.zIndex="0",c.style.zIndex="1000",i.default.removeClass("#toc-large-device","open")):k.className.match(/open/)&&(k.style.zIndex="0",c.style.zIndex="1000",i.default.removeClass("#tab-infos","open")),i.default.addClass("#tab-options","open"),i.default.addClass("#swing-container","left"),i.default.addClass("#swing-bar","left"))},!1),B.addEventListener("click",function(t){i.default.removeClass("#tab-options","open"),i.default.removeClass("#swing-container","left"),i.default.removeClass("#swing-bar","left"),c.style.zIndex="0"},!1),R.addEventListener("click",function(t){k.className.match(/open/)?(k.style.zIndex="0",i.default.removeClass("#tab-infos","open"),i.default.removeClass("#swing-container","left"),i.default.removeClass("#swing-bar","left")):(o.className.match(/open/)?(o.style.zIndex="0",k.style.zIndex="1000",i.default.removeClass("#toc-large-device","open")):c.className.match(/open/)&&(c.style.zIndex="0",k.style.zIndex="1000",i.default.removeClass("#tab-options","open")),i.default.addClass("#tab-infos","open"),i.default.addClass("#swing-container","left"),i.default.addClass("#swing-bar","left"))},!1),W.addEventListener("click",function(t){i.default.removeClass("#tab-infos","open"),i.default.removeClass("#swing-container","left"),i.default.removeClass("#swing-bar","left"),k.style.zIndex="0"},!1);for(var V=h.querySelectorAll(".home"),G=0;G<V.length;G++)V[G].addEventListener("click",function(t){t.preventDefault();var n=a.default.getData("location").prevLocation;location.hash=n||"#/"},!1);for(var U=h.querySelectorAll(".add-bookmark"),X=0;X<U.length;X++)U[X].addEventListener("click",function(t){var n=P.getBookmark(),e=document.querySelector("#bookmark");s.default.setBkmrk(u.id,n),e.className="show",setTimeout(function(){e.className=e.className.replace("show","")},2500)},!1);for(var Y=0;Y<b.length;Y++)b[Y].addEventListener("click",function(t){var n=t.target.value;s.default.setFontSize("large",n),e.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",i.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){var t=1.5*n,o=S%t!=0?2*t+S%t/2:2*t;P.setMarginY(o),e.style.fontSize=n+"px",P.reinit().then(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var J=0;J<f.length;J++)f[J].addEventListener("click",function(t){var n=t.target.value;s.default.setFontSize("large",n),d.className="",e.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",i.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){var t=1.5*n,o=S%t!=0?2*t+S%t/2:2*t;P.setMarginY(o),e.style.fontSize=n+"px",P.reinit().then(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var $=0;$<m.length;$++)m[$].addEventListener("click",function(t){var n=t.target.value;s.default.setFontSize("small",n),i.default.removeClass("#text-loader-container","hidden"),i.default.removeClass("#options","open"),document.body.style.overflow="hidden",setTimeout(function(){var t=1.5*n,o=S%t!=0?2*t+S%t/2:2*t;P.setMarginY(o),e.style.fontSize=n+"px",P.reinit().then(function(t){document.body.style.overflow="visible",i.default.addClass("#text-loader-container","hidden")}).catch(function(t){document.body.style.overflow="visible",i.default.addClass("#text-loader-container","hidden")})},100)},!1);for(var K=0;K<g.length;K++)g[K].addEventListener("click",function(t){var n=t.target.value;s.default.setFont(n),e.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",i.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){e.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n,P.reinit().then(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var Z=0;Z<v.length;Z++)v[Z].addEventListener("click",function(t){var n=t.target.value;s.default.setFont(n),d.className="",e.style.opacity="0",h.querySelector("#current-section-title").style.opacity="0",h.querySelector("#currentByTotal").style.opacity="0",i.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){e.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n,P.reinit().then(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){i.default.addClass("#text-loader-container","hidden"),e.style.opacity="1",h.querySelector("#current-section-title").style.opacity="1",h.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var Q=0;Q<y.length;Q++)y[Q].addEventListener("click",function(t){var n=t.target.value;s.default.setFont(n),i.default.removeClass("#text-loader-container","hidden"),i.default.removeClass("#options","open"),document.body.style.overflow="hidden",setTimeout(function(){e.style.fontFamily=n,h.querySelector("#current-section-title").style.fontFamily=n,h.querySelector("#currentByTotal").style.fontFamily=n,P.reinit().then(function(t){document.body.style.overflow="visible",i.default.addClass("#text-loader-container","hidden")}).catch(function(t){document.body.style.overflow="visible",i.default.addClass("#text-loader-container","hidden")})},100)},!1)}(),"done"}).then(function(t){document.body.style.overflowY="visible",i.default.addClass("#book-loader-container","hidden"),h.className="show"}).catch(function(t){console.log(t)})},o=a.default.getData("books"),u=void 0,p=location.hash.replace(/(#|\/read)/g,""),d=0;d<o.length;d++)if(o[d].path.replace(/^\/books\/[^\/]+/,"")===p){u=o[d];break}n.innerHTML=c({book:u}),i.default.setHTML("title","&Eacute;quivoques - "+u.title),document.body.style.overflowY="hidden",i.default.removeClass("#book-loader-container","hidden");var h=document.querySelector("#bookContainer"),b={method:"GET",url:u.path+".css"};i.default.ajax(b).then(function(t){return document.getElementById("custom_rules").innerHTML=t,b={method:"GET",url:u.path+".html"},i.default.ajax(b)}).then(function(t){a.default.setData("book",u.id),e(t)}).catch(function(t){console.log(t),i.default.addClass("#book-loader-container","hidden"),location.hash="#/"})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={setBkmrk:function(t,n){var e=[];if("undefined"!=typeof Storage){if(localStorage.getItem("bkmrks")){e=JSON.parse(localStorage.getItem("bkmrks"));for(var o=void 0,i=0;i<e.length;i++)if(e[i].bkId===t){o=e[i];break}o?o.bkmrk=n:e.push({bkId:t,bkmrk:n})}else e.push({bkId:t,bkmrk:n});localStorage.setItem("bkmrks",JSON.stringify(e))}},removeBkmrk:function(t){var n=[];if("undefined"!=typeof Storage&&localStorage.getItem("bkmrks")){n=JSON.parse(localStorage.getItem("bkmrks"));for(var e=void 0,o=0;o<n.length;o++)if(n[o].bkId===t){e=o;break}void 0!==e&&(n.splice(e,1),localStorage.setItem("bkmrks",JSON.stringify(n)))}},getBkmrk:function(t){if("undefined"!=typeof Storage&&localStorage.getItem("bkmrks")){var n=JSON.parse(localStorage.getItem("bkmrks")).filter(function(n){return n.bkId===t})[0];if(n)return n.bkmrk}},setFontSize:function(t,n){var e=[];if("undefined"!=typeof Storage){if(localStorage.getItem("fSizes")){e=JSON.parse(localStorage.getItem("fSizes"));for(var o=void 0,i=0;i<e.length;i++)if(e[i].device===t){o=e[i];break}o?o.size=n:e.push({device:t,size:n})}else e.push({device:t,size:n});localStorage.setItem("fSizes",JSON.stringify(e))}},getFontSize:function(t){if("undefined"!=typeof Storage&&localStorage.getItem("fSizes")){var n=JSON.parse(localStorage.getItem("fSizes")).filter(function(n){return n.device===t})[0];if(n)return n.size}},setFont:function(t){var n="";"undefined"!=typeof Storage&&(localStorage.getItem("font")?(n=JSON.parse(localStorage.getItem("font")),n=t):n=t,localStorage.setItem("font",JSON.stringify(n)))},getFont:function(){if("undefined"!=typeof Storage&&localStorage.getItem("font"))return JSON.parse(localStorage.getItem("font"))}};n.default=o},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),a=o(e(1));e(60);var s=o(e(13)),r=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._bookContainer=n,this._textContainer=n.querySelector("[data-wb-text-container]"),this._text=n.querySelector("[data-wb-text]"),this._height=e.height,this._width=e.maxWidth,this._marginX=void 0===e.marginX?35:e.marginX,this._marginY=void 0===e.marginY?20:e.marginY,this._position=0,this.col=!0,this._bookmark=null,this._containerWidth=null,this._startPage=0,this._sectionsIndex=0,this._parentSection=null,this._pages_total=0,this._lastElement=document.createElement("DIV"),this._lastElement.className="wb-section wb-no-toc",this._lastElement.id="wb-last";var o=document.createElement("P");o.innerHTML="&nbsp;",this._lastElement.appendChild(o),this._div=document.createElement("DIV"),this._div.id="wb_div",this._div.innerHTML=e.text,this._div.appendChild(this._lastElement),this._divContainer=document.createElement("DIV"),this._divContainer.appendChild(this._div),this._sections=this._divContainer.querySelectorAll("#wb_div > .wb-section"),this._sectionsToc=this._div.querySelectorAll(".wb-section"),this._tocSections=[];for(var i=0;i<this._sectionsToc.length;i++)this._sectionsToc[i].className.match(/wb-no-toc/)||this._tocSections.push(this._sectionsToc[i]);this._tocs=this._bookContainer.querySelectorAll("[data-wb-toc]"),this.getTocs(),this._currentPages=this._bookContainer.querySelectorAll(".wb-current-page"),this._totalPages=this._bookContainer.querySelectorAll(".wb-total-pages"),this._currentTotalPages=this._bookContainer.querySelectorAll(".wb-currentByTotal-pages"),this._elPageNumbers=this._bookContainer.querySelectorAll("[data-wb-element-page-number]"),this._sectionTitles=this._bookContainer.querySelectorAll(".wb-current-section-title"),this.setBookLinks()}return i(t,[{key:"init",value:function(){var t=this;return new s.default(function(n,e){if("webkitColumnWidth"in document.body.style||"mozColumnWidth"in document.body.style||"columnWidth"in document.body.style){t._text.style.display="none",t.emptyNode(t._text),t._text.appendChild(t._div);for(var o=t._sectionsToc,i=0;i<o.length;i++)o[i].style.display="none",o[i].className.match(/wb-no-break/)||"300%"===o[i].style.marginBottom||(o[i].style.marginBottom="300%"),"10%"!==o[i].style.minHeight&&"10%"!==o[i].style.minHeight&&(o[i].style.minHeight="10%"),o[i].style.display="block";t.toBook(),t._startPage=t.getPageStart(),t.pages_total=t.getBookTotalPages(),t._sections_page_start=[],t._toc_sections_page_start=[];for(var s=0;s<o.length;s++){var r={};r.id=o[s].id,r.page_start=t.elementPageNumber(r.id),o[s].parentElement.className.match(/wb-section/)||t._sections_page_start.push(r),t._toc_sections_page_start.push(r)}for(var l=function(n){var e=t._elPageNumbers[n].getAttribute("data-wb-element-page-number"),o=t._toc_sections_page_start.filter(function(t){return t.id===e})[0].page_start;o<1?t._elPageNumbers[n].innerHTML="":t._elPageNumbers[n].innerHTML!=o&&(t._elPageNumbers[n].innerHTML=o)},c=0;c<t._elPageNumbers.length;c++)l(c);t._bookmark?(t.goToBookmark(t._bookmark),t._position=Math.round((0,a.default)(t._text).position().left)):t.nextSection(t._sectionsIndex),t.refresh(),t._text.style.display="block",n("book done")}else e("no column")})}},{key:"reinit",value:function(){var t=this;return new s.default(function(n,e){if("webkitColumnWidth"in document.body.style||"mozColumnWidth"in document.body.style||"columnWidth"in document.body.style){t._text.style.display="none",t.emptyNode(t._text),t._text.appendChild(t._div),t.toBook(),t._startPage=t.getPageStart(),t.pages_total=t.getBookTotalPages(),t._sections_page_start=[];for(var o=0;o<t._sections.length;o++){var i={};i.id=t._sections[o].id,i.page_start=t.elementPageNumber(i.id),t._sections_page_start.push(i)}for(var s=function(n){var e=t._elPageNumbers[n].getAttribute("data-wb-element-page-number"),o=t._sections_page_start.filter(function(t){return t.id===e})[0].page_start;o<1?t._elPageNumbers[n].innerHTML="":t._elPageNumbers[n].innerHTML!=o&&(t._elPageNumbers[n].innerHTML=o)},r=0;r<t._elPageNumbers.length;r++)s(r);t._bookmark?(t.goToBookmark(t._bookmark),t._position=Math.round((0,a.default)(t._text).position().left)):t.nextSection(t._sectionsIndex),t.refresh(),t._text.style.display="block",n("book done")}else e("no column")})}},{key:"toBook",value:function(t){this.col=!0;var n=this.getMarginX(),e=this.getMarginY(),o=this._textContainer.style;o.display="none",o.boxSizing="border-box",o.webkitBoxSizing="border-box",o.overflow="hidden",o.position="relative",o.padding="0px",o.height=this.getHeight()+"px",o.maxWidth=this.getMaxWidth()+"px",o.display="block",this._containerWidth=this._textContainer.clientWidth;var i=this._text.style;i.display="none",i.boxSizing="border-box",i.webkitBoxSizing="border-box",i.position="absolute",i.left=0,i.top=0,i.height="100%",i.width="100%",i.paddingRight=n+"px",i.paddingLeft=n+"px",i.paddingTop=e+"px",i.paddingBottom=e+"px",i.webkitColumnFill="auto",i.mozColumnFill="auto",i.columnFill="auto",i.webkitColumnWidth=this._containerWidth+"px",i.mozColumnWidth=this._containerWidth+"px",i.columnWidth=this._containerWidth+"px",i.mozColumnGap=2*n+"px",i.webkitColumnGap=2*n+"px",i.columnGap=2*n+"px",i.display="block",t&&(window.requestAnimationFrame?this._raf=window.requestAnimationFrame(t):setTimeout(t,50))}},{key:"toScroll",value:function(){this.col=!1;var t=this._textContainer.style,n=this._text.style;t.height="auto",t.maxWidth=this.getMaxWidth()+"px",t.overflow="visible",n.position="static",n.height="auto",t.paddingRight=this.getMarginX()+"px",t.paddingLeft=this.getMarginX()+"px",t.paddingTop=this.getMarginY()+"px",t.paddingBottom=this.getMarginY()+"px",("webkitColumnWidth"in document.body.style||"mozColumnWidth"in document.body.style||"columnWidth"in document.body.style)&&(n.webkitColumns="auto auto",n.mozColumns="auto auto",n.columns="auto auto");for(var e=0;e<this._sections.length;e++)this._sections[e].style.minHeight="0";this._lastElement.style.marginBottom="0px";for(var o=0;o<this._totalPages.length;o++)this._totalPages[o].innerHTML="";for(var i=0;i<this._elPageNumbers.length;i++)this._elPageNumbers[i].innerHTML="";this.refresh()}},{key:"setMaxWidth",value:function(t){return this._width=t,this}},{key:"getMaxWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){return this._height=t,this}},{key:"getHeight",value:function(){return this._height}},{key:"setMarginX",value:function(t){return this._marginX=t,this}},{key:"getMarginX",value:function(){return this._marginX}},{key:"setMarginY",value:function(t){return this._marginY=t,this}},{key:"getMarginY",value:function(){return this._marginY}},{key:"emptyNode",value:function(t){for(var n=t.firstChild;n;)t.removeChild(n),n=t.firstChild}},{key:"setBookLinks",value:function(){for(var t=this,n=this._bookContainer.querySelectorAll(".wb-link"),e=0;e<n.length;e++)n[e].addEventListener("click",function(n){if(!0===t.col){n.preventDefault();var e=n.currentTarget.getAttribute("href").replace(/^#/,"");t.goToElement(e)}},!1)}},{key:"setSectionLinks",value:function(){for(var t=this,n=this._text.querySelectorAll(".wb-section")[0].querySelectorAll(".wb-link"),e=0;e<n.length;e++)n[e].addEventListener("click",function(n){if(!0===t.col){n.preventDefault();var e=n.currentTarget.getAttribute("href").replace(/^#/,"");t.goToElement(e)}},!1)}},{key:"nextSection",value:function(t){"wb-last"!==this._sections[t].id&&(this._sectionsIndex=t,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._position=0,this._text.style.left=this._position+"px",this.refresh())}},{key:"prevSection",value:function(t){t<0||(this._sectionsIndex=t,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this.goToPage(this.getSectionTotalPages()-this._startPage),this.refresh())}},{key:"goToElement",value:function(t){for(var n=0;n<this._sections.length;n++){if(this._sections[n].id===t){this.nextSection(n);break}if(this._sections[n].querySelector("#"+t)){this._sectionsIndex=n,this._sections[this._sectionsIndex].id!==this._text.querySelectorAll(".wb-section")[0].id&&(this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks()),this.goToPage(this.elementPageNumber(t)),this.refresh();break}}}},{key:"getParentSectionId",value:function(){return this._text.querySelectorAll(".wb-section")[0].id}},{key:"forward",value:function(){this.getSectionTotalPages()===this.getPageNumber()?this.nextSection(this._sectionsIndex+1):(this._position=Math.round((0,a.default)(this._text).position().left),this._position-=this._containerWidth,this._text.style.left=this._position+"px",this.refresh())}},{key:"backward",value:function(){1==this.getPageNumber()?this.prevSection(this._sectionsIndex-1):(this._position=Math.round((0,a.default)(this._text).position().left),this._position+=this._containerWidth,this._text.style.left=this._position+"px",this.refresh())}},{key:"toFirstPage",value:function(){this.nextSection(0),this.refresh()}},{key:"toLastPage",value:function(){this.prevSection(this._sections.length-2),this.refresh()}},{key:"getPageStart",value:function(){for(var t=void 0,n=void 0,e=void 0,o=0;o<this._sections.length;o++)if(this._sections[o]&&this._sections[o].className.match(/wb-no-page/))t=o;else if(void 0!==t&&void 0===n&&!this._sections[o].className.match(/wb-no-page/)){n=o;var i=this._sections[n].id,s=this._text.querySelector("#"+i+" p:first-child"),r=Math.round((0,a.default)(s).position().left)-this.getMarginX();e=(r=r%this._containerWidth!=0?r-r%this._containerWidth:r)/this._containerWidth;break}return e=e||0}},{key:"checkFirstPage",value:function(){return 0===this._position}},{key:"getPageNumber",value:function(){var t=Math.abs(Math.floor(this._position/this._containerWidth))+1;return t=t}},{key:"getSectionTotalPages",value:function(){var t=Math.floor(Math.round((0,a.default)(this._text.lastElementChild).position().left)/this._containerWidth);return t=t}},{key:"getBookTotalPages",value:function(){var t=Math.floor(Math.round((0,a.default)(this._lastElement).position().left)/this._containerWidth);return t-=this._startPage}},{key:"goToPage",value:function(t){t+=this._startPage;var n=this._containerWidth*(t-1);this._text.style.left=-n+"px",this._position=Math.round((0,a.default)(this._text).position().left)}},{key:"getElementPosition",value:function(t){var n=Math.round((0,a.default)(t).position().left)-this.getMarginX();return n=n%this._containerWidth!=0?n-n%this._containerWidth:n}},{key:"elementPageNumber",value:function(t){var n=void 0;if(this._text.querySelector("#"+t).className.match(/wb-section/)?n=this._text.querySelector("#"+t+" p:first-child"):this._text.querySelector("#"+t)&&(n=this._text.querySelector("#"+t)),!n)return"";var e=this.getElementPosition(n)/this._containerWidth+1;return e-=this._startPage}},{key:"getSectionTitle",value:function(){var t="",n=this._text.querySelectorAll(".wb-section")[0];if(0!==n.querySelectorAll(".wb-section").length&&0!==this._text.querySelectorAll(".wb-section-title").length){var e=this._text.querySelectorAll(".wb-section-title"),o=[].slice.call(e);o.push(this._lastElement);for(var i=0;i<o.length;i++){var a=o[i].id;if(this.getPageNumber()<this.elementPageNumber(a)+this._startPage){t=this.getPageNumber()===this.elementPageNumber(o[i-1].id)+this._startPage?"":o[i-1].getAttribute("data-wb-title")?o[i-1].getAttribute("data-wb-title"):o[i-1].title;break}}}else t=1==this.getPageNumber()?"":n.className.match(/wb-no-title/)?"":n.getAttribute("data-wb-title")?n.getAttribute("data-wb-title"):n.title;return t}},{key:"getTocs",value:function(){if(0!==this._tocs.length){var t=this._tocs[0];if(t.getAttribute("data-wb-toc")){var n=document.createElement("p");n.setAttribute("class","wb-toc-title"),n.innerHTML=t.getAttribute("data-wb-toc"),t.appendChild(n)}var e=document.createElement("div"),o=document.createElement("ul");o.setAttribute("class","wb-toc-list");for(var i=0;i<this._tocSections.length;i++){var a=this._tocSections[i],s=document.createElement("li");s.setAttribute("class","wb-toc-item");var r=document.createElement("a");r.setAttribute("href","#"+a.id),r.setAttribute("class","wb-link"),s.appendChild(r);var l=document.createElement("span");if(a.getAttribute("data-wb-class")?l.setAttribute("class","wb-toc-item-title "+a.getAttribute("data-wb-class")):l.setAttribute("class","wb-toc-item-title"),l.innerHTML=a.getAttribute("data-wb-title-toc")?a.getAttribute("data-wb-title-toc"):a.title,r.appendChild(l),!a.className.match(/wb-toc-no-page-number/)){var c=document.createElement("span");c.setAttribute("class","wb-toc-item-page-number"),c.setAttribute("data-wb-element-page-number",a.id),r.appendChild(c)}o.appendChild(s)}if(e.appendChild(o),t.appendChild(e),this._tocs[1])for(var u=1;u<this._tocs.length;u++){if(this._tocs[u].getAttribute("data-wb-toc")){var p=document.createElement("p");p.setAttribute("class","wb-toc-title"),p.innerHTML=this._tocs[u].getAttribute("data-wb-toc"),this._tocs[u].appendChild(p)}var d=e.cloneNode(!0);this._tocs[u].appendChild(d)}}}},{key:"getTocsCurrentSection",value:function(){var t=void 0,n=this._text.querySelectorAll(".wb-section")[0];if(0!==n.querySelectorAll(".wb-section").length){var e=this._text.querySelectorAll("[data-wb-active-section]"),o=[].slice.call(e);o.push(this._lastElement);for(var i=0;i<o.length;i++){var a=o[i].id;if(this.getPageNumber()<this.elementPageNumber(a)+this._startPage){t=o[i-1];break}}}else t=n;if(t)for(var s=0;s<this._tocs.length;s++)for(var r=this._tocs[s].querySelectorAll("a"),l=0;l<r.length;l++){var c=t.getAttribute("data-wb-active-section")?t.getAttribute("data-wb-active-section"):t.id;r[l].getAttribute("href").replace(/^#/,"")===c?r[l].parentElement.className.match(/current/)||(r[l].parentElement.className+=" current"):r[l].parentElement.className.match(/current/)&&(r[l].parentElement.className=r[s].parentElement.className.replace(/ current/,""))}}},{key:"insertBookmark",value:function(){var t=this._text.querySelectorAll(".wb-section")[0];if(t)for(var n=t.querySelectorAll(":not(.wb-section)"),e=Math.abs(this._position),o=0;o<n.length;o++){var i=this.getElementPosition(n[o]);if(i===e){if("wb-last"===t.id){this._bookmark={sectionId:t.id,el:n.length-1};break}this._bookmark={sectionId:t.id,el:o};break}if(i>e){this._bookmark={sectionId:t.id,el:o-1};break}}}},{key:"goToBookmark",value:function(t){for(var n=0;n<this._sections.length;n++)if(this._sections[n].id===t.sectionId){this._sectionsIndex=n,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks();var e=this._text.querySelectorAll(".wb-section")[0].querySelectorAll(":not(.wb-section)")[t.el],o=this.getElementPosition(e);this._text.style.left=-o+"px",this._position=Math.round((0,a.default)(this._text).position().left),this.refresh();break}}},{key:"getBookmark",value:function(){return this._bookmark}},{key:"setBookmark",value:function(t){this._bookmark=t}},{key:"getCover",value:function(){0===this._sectionsIndex&&1==this.getPageNumber()?this._text.className.match(/cover/)||(this._text.className+=" cover_active"):this._text.className.match(/cover/)&&(this._text.className=this._text.className.replace(/ cover/,""))}},{key:"refresh",value:function(){if(this.insertBookmark(),this.getCover(),!1===this.col){for(var t=0;t<this._currentPages.length;t++)this._currentPages[t].innerHTML="";for(var n=0;n<this._currentTotalPages.length;n++)this._currentTotalPages[n].innerHTML="";for(var e=0;e<this._sectionTitles.length;e++)this._sectionTitles[e].innerHTML=""}else{0!==this._tocs.length&&this.getTocsCurrentSection();for(var o=0;o<this._currentPages.length;o++){var i=this._sections_page_start[this._sectionsIndex].page_start+this.getPageNumber()-1;i<1?this._currentPages[o].innerHTML="":this._currentPages[o].innerHTML!==i&&(this._currentPages[o].innerHTML=i)}for(var a=0;a<this._currentTotalPages.length;a++){var s=this._text.querySelectorAll(".wb-section")[0],r=this._sections_page_start[this._sectionsIndex].page_start+this.getPageNumber()-1;r<1||s.className.match(/wb-page-no-display/)?this._currentTotalPages[a].innerHTML="":this._currentTotalPages[a].innerHTML!==r+"/"+this.pages_total&&(this._currentTotalPages[a].innerHTML=r+"/"+this.pages_total)}for(var l=0;l<this._sectionTitles.length;l++)this._sectionTitles[l].innerHTML!=this.getSectionTitle()&&(this._sectionTitles[l].innerHTML=this.getSectionTitle())}}}]),t}();n.default=r},function(t,n,e){"use strict";var o;void 0===(o=function(){return Object.getPrototypeOf}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.concat}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(7)],void 0===(i=function(t){return t.push}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(9)],void 0===(i=function(t){return t.toString}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(18)],void 0===(i=function(t){return t.call(Object)}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(3)],void 0===(i=function(t){return function(n,e){var o=(e=e||t).createElement("script");o.text=n,e.head.appendChild(o).parentNode.removeChild(o)}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(20),e(3),e(21),e(10),e(22),e(27),e(12),e(63),e(25),e(67),e(8)],void 0===(i=function(t,n,e,o,i,a,s,r,l){return t.offset={setOffset:function(n,e,o){var i,a,s,r,l,c,u=t.css(n,"position"),p=t(n),d={};"static"===u&&(n.style.position="relative"),l=p.offset(),s=t.css(n,"top"),c=t.css(n,"left"),("absolute"===u||"fixed"===u)&&(s+c).indexOf("auto")>-1?(r=(i=p.position()).top,a=i.left):(r=parseFloat(s)||0,a=parseFloat(c)||0),t.isFunction(e)&&(e=e.call(n,o,t.extend({},l))),null!=e.top&&(d.top=e.top-l.top+r),null!=e.left&&(d.left=e.left-l.left+a),"using"in e?e.using.call(n,d):p.css(d)}},t.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(e){t.offset.setOffset(this,n,e)});var e,o,i,a,s=this[0];if(s)return s.getClientRects().length?(i=s.getBoundingClientRect(),e=s.ownerDocument,o=e.documentElement,a=e.defaultView,{top:i.top+a.pageYOffset-o.clientTop,left:i.left+a.pageXOffset-o.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var n,e,o=this[0],i={top:0,left:0};return"fixed"===t.css(o,"position")?e=o.getBoundingClientRect():(n=this.offsetParent(),e=this.offset(),l(n[0],"html")||(i=n.offset()),i={top:i.top+t.css(n[0],"borderTopWidth",!0),left:i.left+t.css(n[0],"borderLeftWidth",!0)}),{top:e.top-i.top-t.css(o,"marginTop",!0),left:e.left-i.left-t.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===t.css(n,"position");)n=n.offsetParent;return n||o})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var i="pageYOffset"===o;t.fn[e]=function(a){return n(this,function(n,e,a){var s;if(t.isWindow(n)?s=n:9===n.nodeType&&(s=n.defaultView),void 0===a)return s?s[o]:n[e];s?s.scrollTo(i?s.pageXOffset:a,i?a:s.pageYOffset):n[e]=a},e,a,arguments.length)}}),t.each(["top","left"],function(n,e){t.cssHooks[e]=s(r.pixelPosition,function(n,o){if(o)return o=a(n,e),i.test(o)?t(n).position()[e]+"px":o})}),t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(62)],void 0===(i=function(t,n){t.find=n,t.expr=n.selectors,t.expr[":"]=t.expr.pseudos,t.uniqueSort=t.unique=n.uniqueSort,t.text=n.getText,t.isXMLDoc=n.isXML,t.contains=n.contains,t.escapeSelector=n.escape}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;!function(i){function a(t,n,e,o){var i,a,s,r,l,c,u,p=n&&n.ownerDocument,d=n?n.nodeType:9;if(e=e||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return e;if(!o&&((n?n.ownerDocument||n:W)!==D&&j(n),n=n||D,z)){if(11!==d&&(l=yt.exec(t)))if(i=l[1]){if(9===d){if(!(s=n.getElementById(i)))return e;if(s.id===i)return e.push(s),e}else if(p&&(s=p.getElementById(i))&&F(n,s)&&s.id===i)return e.push(s),e}else{if(l[2])return tt.apply(e,n.getElementsByTagName(t)),e;if((i=l[3])&&S.getElementsByClassName&&n.getElementsByClassName)return tt.apply(e,n.getElementsByClassName(i)),e}if(S.qsa&&!Y[t+" "]&&(!P||!P.test(t))){if(1!==d)p=n,u=t;else if("object"!==n.nodeName.toLowerCase()){for((r=n.getAttribute("id"))?r=r.replace(wt,St):n.setAttribute("id",r=B),a=(c=q(t)).length;a--;)c[a]="#"+r+" "+g(c[a]);u=c.join(","),p=kt.test(t)&&f(n.parentNode)||n}if(u)try{return tt.apply(e,p.querySelectorAll(u)),e}catch(t){}finally{r===B&&n.removeAttribute("id")}}}return L(t.replace(ct,"$1"),n,e,o)}function s(){function t(e,o){return n.push(e+" ")>T.cacheLength&&delete t[n.shift()],t[e+" "]=o}var n=[];return t}function r(t){return t[B]=!0,t}function l(t){var n=D.createElement("fieldset");try{return!!t(n)}catch(t){return!1}finally{n.parentNode&&n.parentNode.removeChild(n),n=null}}function c(t,n){for(var e=t.split("|"),o=e.length;o--;)T.attrHandle[e[o]]=n}function u(t,n){var e=n&&t,o=e&&1===t.nodeType&&1===n.nodeType&&t.sourceIndex-n.sourceIndex;if(o)return o;if(e)for(;e=e.nextSibling;)if(e===n)return-1;return t?1:-1}function p(t){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===t}}function d(t){return function(n){var e=n.nodeName.toLowerCase();return("input"===e||"button"===e)&&n.type===t}}function h(t){return function(n){return"form"in n?n.parentNode&&!1===n.disabled?"label"in n?"label"in n.parentNode?n.parentNode.disabled===t:n.disabled===t:n.isDisabled===t||n.isDisabled!==!t&&Et(n)===t:n.disabled===t:"label"in n&&n.disabled===t}}function b(t){return r(function(n){return n=+n,r(function(e,o){for(var i,a=t([],e.length,n),s=a.length;s--;)e[i=a[s]]&&(e[i]=!(o[i]=e[i]))})})}function f(t){return t&&void 0!==t.getElementsByTagName&&t}function m(){}function g(t){for(var n=0,e=t.length,o="";n<e;n++)o+=t[n].value;return o}function v(t,n,e){var o=n.dir,i=n.next,a=i||o,s=e&&"parentNode"===a,r=G++;return n.first?function(n,e,i){for(;n=n[o];)if(1===n.nodeType||s)return t(n,e,i);return!1}:function(n,e,l){var c,u,p,d=[V,r];if(l){for(;n=n[o];)if((1===n.nodeType||s)&&t(n,e,l))return!0}else for(;n=n[o];)if(1===n.nodeType||s)if(p=n[B]||(n[B]={}),u=p[n.uniqueID]||(p[n.uniqueID]={}),i&&i===n.nodeName.toLowerCase())n=n[o]||n;else{if((c=u[a])&&c[0]===V&&c[1]===r)return d[2]=c[2];if(u[a]=d,d[2]=t(n,e,l))return!0}return!1}}function y(t){return t.length>1?function(n,e,o){for(var i=t.length;i--;)if(!t[i](n,e,o))return!1;return!0}:t[0]}function k(t,n,e,o,i){for(var a,s=[],r=0,l=t.length,c=null!=n;r<l;r++)(a=t[r])&&(e&&!e(a,o,i)||(s.push(a),c&&n.push(r)));return s}function _(t,n,e,o,i,s){return o&&!o[B]&&(o=_(o)),i&&!i[B]&&(i=_(i,s)),r(function(s,r,l,c){var u,p,d,h=[],b=[],f=r.length,m=s||function(t,n,e){for(var o=0,i=n.length;o<i;o++)a(t,n[o],e);return e}(n||"*",l.nodeType?[l]:l,[]),g=!t||!s&&n?m:k(m,h,t,l,c),v=e?i||(s?t:f||o)?[]:r:g;if(e&&e(g,v,l,c),o)for(u=k(v,b),o(u,[],l,c),p=u.length;p--;)(d=u[p])&&(v[b[p]]=!(g[b[p]]=d));if(s){if(i||t){if(i){for(u=[],p=v.length;p--;)(d=v[p])&&u.push(g[p]=d);i(null,v=[],u,c)}for(p=v.length;p--;)(d=v[p])&&(u=i?et(s,d):h[p])>-1&&(s[u]=!(r[u]=d))}}else v=k(v===r?v.splice(f,v.length):v),i?i(null,r,v,c):tt.apply(r,v)})}function x(t){for(var n,e,o,i=t.length,a=T.relative[t[0].type],s=a||T.relative[" "],r=a?1:0,l=v(function(t){return t===n},s,!0),c=v(function(t){return et(n,t)>-1},s,!0),u=[function(t,e,o){var i=!a&&(o||e!==M)||((n=e).nodeType?l(t,e,o):c(t,e,o));return n=null,i}];r<i;r++)if(e=T.relative[t[r].type])u=[v(y(u),e)];else{if((e=T.filter[t[r].type].apply(null,t[r].matches))[B]){for(o=++r;o<i&&!T.relative[t[o].type];o++);return _(r>1&&y(u),r>1&&g(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(ct,"$1"),e,r<o&&x(t.slice(r,o)),o<i&&x(t=t.slice(o)),o<i&&g(t))}u.push(e)}return y(u)}var w,S,T,E,C,q,A,L,M,N,O,j,D,I,z,P,H,R,F,B="sizzle"+1*new Date,W=i.document,V=0,G=0,U=s(),X=s(),Y=s(),J=function(t,n){return t===n&&(O=!0),0},$={}.hasOwnProperty,K=[],Z=K.pop,Q=K.push,tt=K.push,nt=K.slice,et=function(t,n){for(var e=0,o=t.length;e<o;e++)if(t[e]===n)return e;return-1},ot="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",st="\\["+it+"*("+at+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+it+"*\\]",rt=":("+at+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",lt=new RegExp(it+"+","g"),ct=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),pt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(rt),bt=new RegExp("^"+at+"$"),ft={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+ot+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,n,e){var o="0x"+n-65536;return o!=o||e?n:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,St=function(t,n){return n?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Tt=function(){j()},Et=v(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{tt.apply(K=nt.call(W.childNodes),W.childNodes),K[W.childNodes.length].nodeType}catch(t){tt={apply:K.length?function(t,n){Q.apply(t,nt.call(n))}:function(t,n){for(var e=t.length,o=0;t[e++]=n[o++];);t.length=e-1}}}S=a.support={},C=a.isXML=function(t){var n=t&&(t.ownerDocument||t).documentElement;return!!n&&"HTML"!==n.nodeName},j=a.setDocument=function(t){var n,e,o=t?t.ownerDocument||t:W;return o!==D&&9===o.nodeType&&o.documentElement?(D=o,I=D.documentElement,z=!C(D),W!==D&&(e=D.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",Tt,!1):e.attachEvent&&e.attachEvent("onunload",Tt)),S.attributes=l(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=l(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=vt.test(D.getElementsByClassName),S.getById=l(function(t){return I.appendChild(t).id=B,!D.getElementsByName||!D.getElementsByName(B).length}),S.getById?(T.filter.ID=function(t){var n=t.replace(_t,xt);return function(t){return t.getAttribute("id")===n}},T.find.ID=function(t,n){if(void 0!==n.getElementById&&z){var e=n.getElementById(t);return e?[e]:[]}}):(T.filter.ID=function(t){var n=t.replace(_t,xt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},T.find.ID=function(t,n){if(void 0!==n.getElementById&&z){var e,o,i,a=n.getElementById(t);if(a){if((e=a.getAttributeNode("id"))&&e.value===t)return[a];for(i=n.getElementsByName(t),o=0;a=i[o++];)if((e=a.getAttributeNode("id"))&&e.value===t)return[a]}return[]}}),T.find.TAG=S.getElementsByTagName?function(t,n){return void 0!==n.getElementsByTagName?n.getElementsByTagName(t):S.qsa?n.querySelectorAll(t):void 0}:function(t,n){var e,o=[],i=0,a=n.getElementsByTagName(t);if("*"===t){for(;e=a[i++];)1===e.nodeType&&o.push(e);return o}return a},T.find.CLASS=S.getElementsByClassName&&function(t,n){if(void 0!==n.getElementsByClassName&&z)return n.getElementsByClassName(t)},H=[],P=[],(S.qsa=vt.test(D.querySelectorAll))&&(l(function(t){I.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+it+"*(?:value|"+ot+")"),t.querySelectorAll("[id~="+B+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]")}),l(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var n=D.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(S.matchesSelector=vt.test(R=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&l(function(t){S.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),H.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),H=H.length&&new RegExp(H.join("|")),n=vt.test(I.compareDocumentPosition),F=n||vt.test(I.contains)?function(t,n){var e=9===t.nodeType?t.documentElement:t,o=n&&n.parentNode;return t===o||!(!o||1!==o.nodeType||!(e.contains?e.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,n){if(n)for(;n=n.parentNode;)if(n===t)return!0;return!1},J=n?function(t,n){if(t===n)return O=!0,0;var e=!t.compareDocumentPosition-!n.compareDocumentPosition;return e||(1&(e=(t.ownerDocument||t)===(n.ownerDocument||n)?t.compareDocumentPosition(n):1)||!S.sortDetached&&n.compareDocumentPosition(t)===e?t===D||t.ownerDocument===W&&F(W,t)?-1:n===D||n.ownerDocument===W&&F(W,n)?1:N?et(N,t)-et(N,n):0:4&e?-1:1)}:function(t,n){if(t===n)return O=!0,0;var e,o=0,i=t.parentNode,a=n.parentNode,s=[t],r=[n];if(!i||!a)return t===D?-1:n===D?1:i?-1:a?1:N?et(N,t)-et(N,n):0;if(i===a)return u(t,n);for(e=t;e=e.parentNode;)s.unshift(e);for(e=n;e=e.parentNode;)r.unshift(e);for(;s[o]===r[o];)o++;return o?u(s[o],r[o]):s[o]===W?-1:r[o]===W?1:0},D):D},a.matches=function(t,n){return a(t,null,null,n)},a.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&j(t),n=n.replace(dt,"='$1']"),S.matchesSelector&&z&&!Y[n+" "]&&(!H||!H.test(n))&&(!P||!P.test(n)))try{var e=R.call(t,n);if(e||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return e}catch(t){}return a(n,D,null,[t]).length>0},a.contains=function(t,n){return(t.ownerDocument||t)!==D&&j(t),F(t,n)},a.attr=function(t,n){(t.ownerDocument||t)!==D&&j(t);var e=T.attrHandle[n.toLowerCase()],o=e&&$.call(T.attrHandle,n.toLowerCase())?e(t,n,!z):void 0;return void 0!==o?o:S.attributes||!z?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null},a.escape=function(t){return(t+"").replace(wt,St)},a.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},a.uniqueSort=function(t){var n,e=[],o=0,i=0;if(O=!S.detectDuplicates,N=!S.sortStable&&t.slice(0),t.sort(J),O){for(;n=t[i++];)n===t[i]&&(o=e.push(i));for(;o--;)t.splice(e[o],1)}return N=null,t},E=a.getText=function(t){var n,e="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;n=t[o++];)e+=E(n);return e},(T=a.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||a.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&a.error(t[0]),t},PSEUDO:function(t){var n,e=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":e&&ht.test(e)&&(n=q(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(t[0]=t[0].slice(0,n),t[2]=e.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(_t,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(t){var n=U[t+" "];return n||(n=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&U(t,function(t){return n.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,e){return function(o){var i=a.attr(o,t);return null==i?"!="===n:!n||(i+="","="===n?i===e:"!="===n?i!==e:"^="===n?e&&0===i.indexOf(e):"*="===n?e&&i.indexOf(e)>-1:"$="===n?e&&i.slice(-e.length)===e:"~="===n?(" "+i.replace(lt," ")+" ").indexOf(e)>-1:"|="===n&&(i===e||i.slice(0,e.length+1)===e+"-"))}},CHILD:function(t,n,e,o,i){var a="nth"!==t.slice(0,3),s="last"!==t.slice(-4),r="of-type"===n;return 1===o&&0===i?function(t){return!!t.parentNode}:function(n,e,l){var c,u,p,d,h,b,f=a!==s?"nextSibling":"previousSibling",m=n.parentNode,g=r&&n.nodeName.toLowerCase(),v=!l&&!r,y=!1;if(m){if(a){for(;f;){for(d=n;d=d[f];)if(r?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;b=f="only"===t&&!b&&"nextSibling"}return!0}if(b=[s?m.firstChild:m.lastChild],s&&v){for(y=(h=(c=(u=(p=(d=m)[B]||(d[B]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===V&&c[1])&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[f]||(y=h=0)||b.pop();)if(1===d.nodeType&&++y&&d===n){u[t]=[V,h,y];break}}else if(v&&(y=h=(c=(u=(p=(d=n)[B]||(d[B]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===V&&c[1]),!1===y)for(;(d=++h&&d&&d[f]||(y=h=0)||b.pop())&&((r?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++y||(v&&((u=(p=d[B]||(d[B]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]=[V,y]),d!==n)););return(y-=i)===o||y%o==0&&y/o>=0}}},PSEUDO:function(t,n){var e,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||a.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(e=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var i,a=o(t,n),s=a.length;s--;)t[i=et(t,a[s])]=!(e[i]=a[s])}):function(t){return o(t,0,e)}):o}},pseudos:{not:r(function(t){var n=[],e=[],o=A(t.replace(ct,"$1"));return o[B]?r(function(t,n,e,i){for(var a,s=o(t,null,i,[]),r=t.length;r--;)(a=s[r])&&(t[r]=!(n[r]=a))}):function(t,i,a){return n[0]=t,o(n,null,a,e),n[0]=null,!e.pop()}}),has:r(function(t){return function(n){return a(t,n).length>0}}),contains:r(function(t){return t=t.replace(_t,xt),function(n){return(n.textContent||n.innerText||E(n)).indexOf(t)>-1}}),lang:r(function(t){return bt.test(t||"")||a.error("unsupported lang: "+t),t=t.replace(_t,xt).toLowerCase(),function(n){var e;do{if(e=z?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(e=e.toLowerCase())===t||0===e.indexOf(t+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(t){var n=i.location&&i.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===I},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&!!t.checked||"option"===n&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&"button"===t.type||"button"===n},text:function(t){var n;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(n=t.getAttribute("type"))||"text"===n.toLowerCase())},first:b(function(){return[0]}),last:b(function(t,n){return[n-1]}),eq:b(function(t,n,e){return[e<0?e+n:e]}),even:b(function(t,n){for(var e=0;e<n;e+=2)t.push(e);return t}),odd:b(function(t,n){for(var e=1;e<n;e+=2)t.push(e);return t}),lt:b(function(t,n,e){for(var o=e<0?e+n:e;--o>=0;)t.push(o);return t}),gt:b(function(t,n,e){for(var o=e<0?e+n:e;++o<n;)t.push(o);return t})}}).pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=p(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=d(w);m.prototype=T.filters=T.pseudos,T.setFilters=new m,q=a.tokenize=function(t,n){var e,o,i,s,r,l,c,u=X[t+" "];if(u)return n?0:u.slice(0);for(r=t,l=[],c=T.preFilter;r;){e&&!(o=ut.exec(r))||(o&&(r=r.slice(o[0].length)||r),l.push(i=[])),e=!1,(o=pt.exec(r))&&(e=o.shift(),i.push({value:e,type:o[0].replace(ct," ")}),r=r.slice(e.length));for(s in T.filter)!(o=ft[s].exec(r))||c[s]&&!(o=c[s](o))||(e=o.shift(),i.push({value:e,type:s,matches:o}),r=r.slice(e.length));if(!e)break}return n?r.length:r?a.error(t):X(t,l).slice(0)},A=a.compile=function(t,n){var e,o=[],i=[],s=Y[t+" "];if(!s){for(n||(n=q(t)),e=n.length;e--;)(s=x(n[e]))[B]?o.push(s):i.push(s);(s=Y(t,function(t,n){var e=n.length>0,o=t.length>0,i=function(i,s,r,l,c){var u,p,d,h=0,b="0",f=i&&[],m=[],g=M,v=i||o&&T.find.TAG("*",c),y=V+=null==g?1:Math.random()||.1,_=v.length;for(c&&(M=s===D||s||c);b!==_&&null!=(u=v[b]);b++){if(o&&u){for(p=0,s||u.ownerDocument===D||(j(u),r=!z);d=t[p++];)if(d(u,s||D,r)){l.push(u);break}c&&(V=y)}e&&((u=!d&&u)&&h--,i&&f.push(u))}if(h+=b,e&&b!==h){for(p=0;d=n[p++];)d(f,m,s,r);if(i){if(h>0)for(;b--;)f[b]||m[b]||(m[b]=Z.call(l));m=k(m)}tt.apply(l,m),c&&!i&&m.length>0&&h+n.length>1&&a.uniqueSort(l)}return c&&(V=y,M=g),f};return e?r(i):i}(i,o))).selector=t}return s},L=a.select=function(t,n,e,o){var i,a,s,r,l,c="function"==typeof t&&t,u=!o&&q(t=c.selector||t);if(e=e||[],1===u.length){if((a=u[0]=u[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&z&&T.relative[a[1].type]){if(!(n=(T.find.ID(s.matches[0].replace(_t,xt),n)||[])[0]))return e;c&&(n=n.parentNode),t=t.slice(a.shift().value.length)}for(i=ft.needsContext.test(t)?0:a.length;i--&&(s=a[i],!T.relative[r=s.type]);)if((l=T.find[r])&&(o=l(s.matches[0].replace(_t,xt),kt.test(a[0].type)&&f(n.parentNode)||n))){if(a.splice(i,1),!(t=o.length&&g(a)))return tt.apply(e,o),e;break}}return(c||A(t,u))(o,n,!z,e,!n||kt.test(t)&&f(n.parentNode)||n),e},S.sortStable=B.split("").sort(J).join("")===B,S.detectDuplicates=!!O,j(),S.sortDetached=l(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),l(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||c("type|href|height|width",function(t,n,e){if(!e)return t.getAttribute(n,"type"===n.toLowerCase()?1:2)}),S.attributes&&l(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||c("value",function(t,n,e){if(!e&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),l(function(t){return null==t.getAttribute("disabled")})||c(ot,function(t,n,e){var o;if(!e)return!0===t[n]?n.toLowerCase():(o=t.getAttributeNode(n))&&o.specified?o.value:null});var Ct=i.Sizzle;a.noConflict=function(){return i.Sizzle===a&&(i.Sizzle=Ct),a},void 0===(o=function(){return a}.call(n,e,n,t))||(t.exports=o)}(window)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t,n){return t.nodeName&&t.nodeName.toLowerCase()===n.toLowerCase()}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(16),e(66),e(8)],void 0===(i=function(t,n,e){function o(e,o,a){return t.isFunction(o)?t.grep(e,function(t,n){return!!o.call(t,n,t)!==a}):o.nodeType?t.grep(e,function(t){return t===o!==a}):"string"!=typeof o?t.grep(e,function(t){return n.call(o,t)>-1!==a}):i.test(o)?t.filter(o,e,a):(o=t.filter(o,e),t.grep(e,function(t){return n.call(o,t)>-1!==a&&1===t.nodeType}))}var i=/^.[^:#\[\.,]*$/;t.filter=function(n,e,o){var i=e[0];return o&&(n=":not("+n+")"),1===e.length&&1===i.nodeType?t.find.matchesSelector(i,n)?[i]:[]:t.find.matches(n,t.grep(e,function(t){return 1===t.nodeType}))},t.fn.extend({find:function(n){var e,o,i=this.length,a=this;if("string"!=typeof n)return this.pushStack(t(n).filter(function(){for(e=0;e<i;e++)if(t.contains(a[e],this))return!0}));for(o=this.pushStack([]),e=0;e<i;e++)t.find(n,a[e],o);return i>1?t.uniqueSort(o):o},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(n){return!!o(this,"string"==typeof n&&e.test(n)?t(n):n||[],!1).length}})}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(8)],void 0===(i=function(t){return t.expr.match.needsContext}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(1),e(11),e(20),e(23),e(3),e(26),e(10),e(68),e(24),e(69),e(22),e(70),e(27),e(12),e(25),e(71),e(8)],void 0===(i=function(t,n,e,o,i,s,r,l,c,u,p,d,h,b){function f(n){var e=t.cssProps[n];return e||(e=t.cssProps[n]=function(t){if(t in S)return t;for(var n=t[0].toUpperCase()+t.slice(1),e=w.length;e--;)if((t=w[e]+n)in S)return t}(n)||n),e}function m(t,n,e){var o=s.exec(n);return o?Math.max(0,o[2]-(e||0))+(o[3]||"px"):n}function g(n,e,o,i,a){var s,r=0;for(s=o===(i?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===o&&(r+=t.css(n,o+l[s],!0,a)),i?("content"===o&&(r-=t.css(n,"padding"+l[s],!0,a)),"margin"!==o&&(r-=t.css(n,"border"+l[s]+"Width",!0,a))):(r+=t.css(n,"padding"+l[s],!0,a),"padding"!==o&&(r+=t.css(n,"border"+l[s]+"Width",!0,a)));return r}function v(n,e,o){var i,a=c(n),s=p(n,e,a),l="border-box"===t.css(n,"boxSizing",!1,a);return r.test(s)?s:(i=l&&(b.boxSizingReliable()||s===n.style[e]),"auto"===s&&(s=n["offset"+e[0].toUpperCase()+e.slice(1)]),(s=parseFloat(s)||0)+g(n,e,o||(l?"border":"content"),i,a)+"px")}var y=/^(none|table(?!-c[ea]).+)/,k=/^--/,_={position:"absolute",visibility:"hidden",display:"block"},x={letterSpacing:"0",fontWeight:"400"},w=["Webkit","Moz","ms"],S=i.createElement("div").style;return t.extend({cssHooks:{opacity:{get:function(t,n){if(n){var e=p(t,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,e,o,i){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var r,l,c,u=t.camelCase(e),p=k.test(e),h=n.style;if(p||(e=f(u)),c=t.cssHooks[e]||t.cssHooks[u],void 0===o)return c&&"get"in c&&void 0!==(r=c.get(n,!1,i))?r:h[e];"string"===(l=void 0===o?"undefined":a(o))&&(r=s.exec(o))&&r[1]&&(o=d(n,e,r),l="number"),null!=o&&o==o&&("number"===l&&(o+=r&&r[3]||(t.cssNumber[u]?"":"px")),b.clearCloneStyle||""!==o||0!==e.indexOf("background")||(h[e]="inherit"),c&&"set"in c&&void 0===(o=c.set(n,o,i))||(p?h.setProperty(e,o):h[e]=o))}},css:function(n,e,o,i){var a,s,r,l=t.camelCase(e);return k.test(e)||(e=f(l)),(r=t.cssHooks[e]||t.cssHooks[l])&&"get"in r&&(a=r.get(n,!0,o)),void 0===a&&(a=p(n,e,i)),"normal"===a&&e in x&&(a=x[e]),""===o||o?(s=parseFloat(a),!0===o||isFinite(s)?s||0:a):a}}),t.each(["height","width"],function(n,e){t.cssHooks[e]={get:function(n,o,i){if(o)return!y.test(t.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?v(n,e,i):u(n,_,function(){return v(n,e,i)})},set:function(n,o,i){var a,r=i&&c(n),l=i&&g(n,e,i,"border-box"===t.css(n,"boxSizing",!1,r),r);return l&&(a=s.exec(o))&&"px"!==(a[3]||"px")&&(n.style[e]=o,o=t.css(n,e)),m(0,o,l)}}}),t.cssHooks.marginLeft=h(b.reliableMarginLeft,function(t,n){if(n)return(parseFloat(p(t,"marginLeft"))||t.getBoundingClientRect().left-u(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),t.each({margin:"",padding:"",border:"Width"},function(n,e){t.cssHooks[n+e]={expand:function(t){for(var o=0,i={},a="string"==typeof t?t.split(" "):[t];o<4;o++)i[n+l[o]+e]=a[o]||a[o-2]||a[0];return i}},o.test(n)||(t.cssHooks[n+e].set=m)}),t.fn.extend({css:function(n,o){return e(this,function(n,e,o){var i,a,s={},r=0;if(Array.isArray(e)){for(i=c(n),a=e.length;r<a;r++)s[e[r]]=t.css(n,e[r],!1,i);return s}return void 0!==o?t.style(n,e,o):t.css(n,e)},n,o,arguments.length>1)}}),t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return["Top","Right","Bottom","Left"]}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o;void 0===(o=function(){return function(t,n,e,o){var i,a,s={};for(a in n)s[a]=t.style[a],t.style[a]=n[a];i=e.apply(t,o||[]);for(a in n)t.style[a]=s[a];return i}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o,i;o=[e(1),e(26)],void 0===(i=function(t,n){return function(e,o,i,a){var s,r=1,l=20,c=a?function(){return a.cur()}:function(){return t.css(e,o,"")},u=c(),p=i&&i[3]||(t.cssNumber[o]?"":"px"),d=(t.cssNumber[o]||"px"!==p&&+u)&&n.exec(t.css(e,o));if(d&&d[3]!==p){p=p||d[3],i=i||[],d=+u||1;do{d/=r=r||".5",t.style(e,o,d+p)}while(r!==(r=c()/u)&&1!==r&&--l)}return i&&(d=+d||+u||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],a&&(a.unit=p,a.start=d,a.end=s)),s}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(3),e(72),e(73)],void 0===(i=function(t,n){function e(){n.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t.ready()}var o=t.Deferred();t.fn.ready=function(n){return o.then(n).catch(function(n){t.readyException(n)}),this},t.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==e&&--t.readyWait>0||o.resolveWith(n,[t]))}}),t.ready.then=o.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?window.setTimeout(t.ready):(n.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e))}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1)],void 0===(i=function(t){t.readyException=function(t){window.setTimeout(function(){throw t})}}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[e(1),e(15),e(74)],void 0===(i=function(t,n){function e(t){return t}function o(t){throw t}function i(n,e,o,i){var a;try{n&&t.isFunction(a=n.promise)?a.call(n).done(e).fail(o):n&&t.isFunction(a=n.then)?a.call(n,e,o):e.apply(void 0,[n].slice(i))}catch(n){o.apply(void 0,[n])}}return t.extend({Deferred:function(n){var i=[["notify","progress",t.Callbacks("memory"),t.Callbacks("memory"),2],["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),0,"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),1,"rejected"]],s="pending",r={state:function(){return s},always:function(){return l.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var n=arguments;return t.Deferred(function(e){t.each(i,function(o,i){var a=t.isFunction(n[i[4]])&&n[i[4]];l[i[1]](function(){var n=a&&a.apply(this,arguments);n&&t.isFunction(n.promise)?n.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,a?[n]:arguments)})}),n=null}).promise()},then:function(n,s,r){function l(n,i,s,r){return function(){var u=this,p=arguments,d=function(){var d,h;if(!(n<c)){if((d=s.apply(u,p))===i.promise())throw new TypeError("Thenable self-resolution");h=d&&("object"===(void 0===d?"undefined":a(d))||"function"==typeof d)&&d.then,t.isFunction(h)?r?h.call(d,l(c,i,e,r),l(c,i,o,r)):(c++,h.call(d,l(c,i,e,r),l(c,i,o,r),l(c,i,e,i.notifyWith))):(s!==e&&(u=void 0,p=[d]),(r||i.resolveWith)(u,p))}},h=r?d:function(){try{d()}catch(e){t.Deferred.exceptionHook&&t.Deferred.exceptionHook(e,h.stackTrace),n+1>=c&&(s!==o&&(u=void 0,p=[e]),i.rejectWith(u,p))}};n?h():(t.Deferred.getStackHook&&(h.stackTrace=t.Deferred.getStackHook()),window.setTimeout(h))}}var c=0;return t.Deferred(function(a){i[0][3].add(l(0,a,t.isFunction(r)?r:e,a.notifyWith)),i[1][3].add(l(0,a,t.isFunction(n)?n:e)),i[2][3].add(l(0,a,t.isFunction(s)?s:o))}).promise()},promise:function(n){return null!=n?t.extend(n,r):r}},l={};return t.each(i,function(t,n){var e=n[2],o=n[5];r[n[1]]=e.add,o&&e.add(function(){s=o},i[3-t][2].disable,i[0][2].lock),e.add(n[3].fire),l[n[0]]=function(){return l[n[0]+"With"](this===l?void 0:this,arguments),this},l[n[0]+"With"]=e.fireWith}),r.promise(l),n&&n.call(l,l),l},when:function(e){var o=arguments.length,a=o,s=Array(a),r=n.call(arguments),l=t.Deferred(),c=function(t){return function(e){s[t]=this,r[t]=arguments.length>1?n.call(arguments):e,--o||l.resolveWith(s,r)}};if(o<=1&&(i(e,l.done(c(a)).resolve,l.reject,!o),"pending"===l.state()||t.isFunction(r[a]&&r[a].then)))return l.then();for(;a--;)i(r[a],c(a),l.reject);return l.promise()}}),t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o,i;o=[e(1),e(75)],void 0===(i=function(t,n){return t.Callbacks=function(e){e="string"==typeof e?function(e){var o={};return t.each(e.match(n)||[],function(t,n){o[n]=!0}),o}(e):t.extend({},e);var o,i,a,s,r=[],l=[],c=-1,u=function(){for(s=s||e.once,a=o=!0;l.length;c=-1)for(i=l.shift();++c<r.length;)!1===r[c].apply(i[0],i[1])&&e.stopOnFalse&&(c=r.length,i=!1);e.memory||(i=!1),o=!1,s&&(r=i?[]:"")},p={add:function(){return r&&(i&&!o&&(c=r.length-1,l.push(i)),function n(o){t.each(o,function(o,i){t.isFunction(i)?e.unique&&p.has(i)||r.push(i):i&&i.length&&"string"!==t.type(i)&&n(i)})}(arguments),i&&!o&&u()),this},remove:function(){return t.each(arguments,function(n,e){for(var o;(o=t.inArray(e,r,o))>-1;)r.splice(o,1),o<=c&&c--}),this},has:function(n){return n?t.inArray(n,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=l=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=l=[],i||o||(r=i=""),this},locked:function(){return!!s},fireWith:function(t,n){return s||(n=[t,(n=n||[]).slice?n.slice():n],l.push(n),o||u()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},t}.apply(n,o))||(t.exports=i)},function(t,n,e){"use strict";var o;void 0===(o=function(){return/[^\x20\t\r\n\f]+/g}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o=e(77);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0};i.transform=void 0;e(6)(o,i);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(5)(void 0)).push([t.i,"/*\nBOOK LOADER\n*/\n\n#book-loader-container {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #fafafa;\n}\n\n#book-loader-container.hidden {\n\tdisplay: none;\n}\n\n#book-loader {\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 40%;\n\tz-index: 1;\n    border: 8px solid #f3f3f3; \n    border-radius: 50%;\n    width: 80px;\n    height: 80px;\n    margin: -40px 0 0 -40px;\n    -webkit-animation: spin 2s linear infinite;\n    animation: spin 2s linear infinite;\n}\n\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/*\nTEXT LOADER\n*/\n\n#text-loader-container {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #fafafa;\n}\n\n#text-loader-container.hidden {\n\tdisplay: none;\n}\n\n#text-loader {\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 40%;\n\tz-index: 1;\n    border: 8px solid #f3f3f3;\n    border-top: 8px solid gray;\n    border-bottom: 8px solid gray;\n    border-radius: 50%;\n    width: 80px;\n    height: 80px;\n    margin: -40px 0 0 -40px;\n    -webkit-animation: textSpin 2s linear infinite;\n    animation: textSpin 2s linear infinite;\n}\n\n@-webkit-keyframes textSpin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes textSpin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/*\nSIGNET\n*/\n#bookmark {\n\tvisibility: hidden;\n\twidth: 50px;\n\tpadding: 8px;\n\tbackground-color: #333;\n\tcolor: #fff;\n\ttext-align: center;\n\tposition: absolute;\n\tz-index: 1;\n\tright: 20px;\n\ttop: 20px;\n\tfont-family: 'Verdana', sans-serif;\n}\n\n\n#bookmark.show {\n\tvisibility: visible;\n\t-webkit-animation: fadein 0.5s, fadeout 0.5s 2s;\n    animation: fadein 0.5s, fadeout 0.5s 2s;\n}\n\n@-webkit-keyframes fadein {\n    from {opacity: 0;}\n    to {opacity: 1;}\n}\n\n@keyframes fadein {\n    from {opacity: 0;}\n    to {opacity: 1;}\n}\n\n@-webkit-keyframes fadeout {\n    from {opacity: 1;}\n    to {opacity: 0;}\n}\n\n@keyframes fadeout {\n    from {opacity: 1;}\n    to {opacity: 0;}\n}\n\n/*\nBOOK NAVBAR BOTTOM\n*/\n#book-nav-bar-bottom {\n\tdisplay: none;\n\theight: 44px;\n\tposition: relative;\n}\n\n@media screen and (min-width: 768px) {\n\t#book-nav-bar-bottom {\n\t\tdisplay: block;\n\t}\n}\n\n#book-nav-bar-bottom-controls {\n\tposition: relative;\n\theight: 44px;\n\twidth: 550px;\n\tmargin: auto;\n\ttext-align: center;\n}\n\n#book-nav-bar-bottom-controls #center {\n\twidth: 120px;\n\theight: 100%;\n\tmargin: auto;\n}\n\n#book-nav-bar-bottom-controls #center #backward-large {\n\tfloat: left;\n\tfont-size: 1.6em;\n}\n\n#book-nav-bar-bottom-controls #center #forward-large {\n\tfloat: right;\n\tfont-size: 1.6em;\n}\n\n#book-nav-bar-bottom-controls button {\n\toutline: none;\n\theight: 100%;\n\tbackground-color: transparent;\n\tdisplay: inline-block;\n\tcolor: rgba(0, 0, 0, 0.54);\n\tmax-width: 56px;\n}\n\n#book-nav-bar-bottom-controls #open-toc-large {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 0px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #open-options-medium {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 56px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #home-large {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #add-bookmark-large {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 56px;\n\tpadding-bottom: 10px;\n}\n\n@media screen and (min-width: 1366px) {\n\t#book-nav-bar-bottom-controls #open-toc-large, \n\t#book-nav-bar-bottom-controls #home-large, \n\t#book-nav-bar-bottom-controls #open-options-medium, \n\t#book-nav-bar-bottom-controls #add-bookmark-large {\n\t\tdisplay: none;\n\t}\n}\n\n/*\nBOOK NAV-BAR-BOTTOM-SMALL\n*/\n\n#book-nav-bar-bottom-small {\n\tdisplay: block;\n\theight: 30px;\n\tposition: relative;\n\tmargin: auto;\n\tbackground-color: #333;\n\ttext-align: center;\n}\n\n@media screen and (min-width: 768px) {\n\t#book-nav-bar-bottom-small {\n\t\tdisplay: none;\n\t}\n}\n\n#book-nav-bar-bottom-small .btn {\n\tdisplay: inline-block;\n\tborder: none;\n\tbackground-color: transparent;\n\theight: 100%;\n\tpadding: 3px 0px 0px 0px;\n\tmargin: 0px;\n\toutline: none;\n\twidth: 24%;\n}\n\n#book-nav-bar-bottom-small .material-icons {\n\tcolor: rgb(152, 152, 152);\n}\n\n/*\nBOOKCONTAINER\n*/\n#bookContainer {\n\tfont-family: 'Georgia', serif;\n\tposition: relative;\n\tcolor: #000;\n\topacity: 0.0;\n\tmargin: auto;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n#bookContainer.show {\n\topacity: 1.0;\n}\n\n/*\nTEXTCONTAINER\n*/\n[data-wb-text-container] {\n\tmargin: auto;\n\tbackground-color: #fafafa;\n\twill-change: transform;\n}\n\n/*\nTOC-LARGE-DEVICE, TAB-OPTIONS, TAB-INFOS, HOME\n*/\n\n#toc-large-device, #tab-infos, #tab-options {\n  position: absolute;\n  top: 0px;\n  right: -40%;\n  width: 33%;\n  transition: right 0.5s;\n  -webkit-transition : right 0.5s;\n  -moz-transition : right 0.5s;\n  -o-transition: right 0.5s;\n  display: none;\n  background-color: #fafafa;\n}\n\n@media screen and (min-width: 1366px) {\n\n\t#toc-large-device, #tab-infos, #tab-options {\n\t\tdisplay: block\n\t}\n}\n\n#toc-large-device.open, #tab-infos.open, #tab-options.open {\n\tright: 0px;\n}\n\n#toc-large-device-container, #tab-infos-container, #tab-options-container {\n\twidth: 100%;\n\tbackground-color: #fafafa;\n\toverflow-y: auto;\n\tpadding: 0px 16px;\n}\n\n#toc-large-device-container .header, #tab-infos-container .header, #tab-options-container .header {\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n/*\ntoc-large-device\n*/\n#toc-large-device-container [data-wb-toc] {\n\tbackground-color: #fafafa;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n}\n\n/*\ntab-infos\n*/\n#tab-infos-container .content {\n\tpadding: 16px 0px;\n}\n\n#tab-infos-container p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#tab-infos-container ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#tab-infos-container ul li {\n\tpadding: .5em .5em;\n}\n\n#tab-infos-container .contrib-role {\n\ttext-transform: capitalize;\n}\n\n/*\ntab-options\n*/\n#tab-options-container {\n\ttext-align : center;\n\tpadding-bottom: 16px;\n}\n\n#tab-options-container #font-size-container-large,\n#tab-options-container #font-family-container-large {\n\twidth: 215px;\n\tmargin: auto;\n\tpadding: 16px 0px;\n}\n\n#tab-options-container #font-family-container-large > p,\n#tab-options-container #font-size-container-large > p {\n\tmargin-bottom: 7px;\n}\n\n#tab-options-container .col-left {\n\tfloat: left;\n\twidth: 50%;\n}\n\n#tab-options-container .col-right {\n\tfloat: right;\n\twidth: 50%;\n}\n\n#tab-options-container #font-size-container-large {\n\tclear: both;\n}\n\n#tab-options-container label {\n\twidth: 50%;\n\ttext-align : left;\n}\n\n#tab-options-container .options-title {\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n\tfont-size: 1.2em;\n}\n\n/*\nBOOK COMMANDS\n*/\n#book-commands {\n\tposition: fixed;\n\tleft: 32px;\n\twidth: 75px;\n\tdisplay: none;\n}\n\n@media screen and (min-width: 1366px) {\n\t#book-commands {\n\t\tdisplay: block;\n\t}\n}\n\n#close-toc-large-device, #close-tab-infos, #close-tab-options {\n    position: absolute;\n\tright: 100%;\n\ttop: 0px;\n\theight: 37px;\n\tmargin-right: 16px;\n\toutline: none;\n\tbackground-color: #fafafa;\n\tfont-family: 'Georgia', serif;\n\tfont-size: 1.2em;\n}\n\n#book-commands button {\n    position: absolute;\n\tright: 0px;\n\twidth: 80px;\n\theight: 37px;\n\tmargin-right: 16px;\n\toutline: none;\n\tfont-family: 'Georgia', serif;\n\tfont-size: 1em;\n}\n\n#book-commands button:hover {\n\tbox-shadow: 2px 3px 6px 2px rgba(0,0,0,0.2)\n}\n\n#toggle-toc-large-device {\n\ttop: 0px;\n}\n\n#toggle-tab-options {\n\ttop: 48px;\n}\n\n#toggle-tab-infos {\n\ttop: 96px;\n}\n\n#tab-add-bookmark {\n\ttop: 144px;\n}\n\n#tab-home-link {\n\ttop: 192px;\n}\n\n/*\nswing-container, swing-bar\n*/\n/*\nif tab.open : swing-container to left\n*/\n#swing-container {\n\tmargin-right: 0px;\n\ttransition: margin-right 0.8s;\n\t-webkit-transition : margin-right 0.8s;\n\t-moz-transition : margin-right 0.8s;\n    -o-transition: margin-right 0.8s;\n\t\n}\n\n#swing-container.left {\n\t\tmargin-right: 0px;\n\t}\n\n@media screen and (min-width: 1366px) {\n\t#swing-container.left {\n\t\tmargin-right: 33%;\n\t}\n}\n\n/*\nif tab.open : swing-bar to left\n*/\n#swing-bar {\n\tmargin-right: 0px;\n\ttransition: margin-right 0.9s;\n\t-webkit-transition : margin-right 0.9s;\n\t-moz-transition : margin-right 0.9s;\n    -o-transition: margin-right 0.9s;\n}\n\n#swing-bar.left {\n\tmargin-right: 0px;\n}\n\n@media screen and (min-width: 1366px) {\n\t#swing-bar.left {\n\t\tmargin-right: 33%;\n\t}\n}\n\n/*\nTOC, OPTIONS (< 1366px)\n*/\n#toc, #options, #options-medium {\n\tposition: absolute;\n\ttop: -1000px;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1000;\n\toverflow-y: auto;\n/*\n\ttransition: top 0.4s;\n\t-webkit-transition : top 0.4s;\n\t-moz-transition : top 0.4s;\n    -o-transition: top 0.4s;\n*/\n\tpadding: 0px;\n\tbackground-color: #fafafa;\n}\n\n#toc.open, #options.open, #options-medium.open {\n\ttop: 0px;\n}\n\n#toc > div, #options > div, #options-medium > div {\n\tbackground-color: #fafafa;\n\tpadding: 0px 16px;\n}\n\n#close-toc, #close-options, #close-options-medium {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: 'Georgia', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n/*\ntoc\n*/\n#toc-header {\n\tmargin-bottom: 30px;\n\tmargin-top: 20px;\n\tpadding: 16px 0px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#toc-header p {\n\tmargin: 8px;\n}\n\n#toc ul, #toc-large-device ul {\n\tpadding: 0px;\n}\n\n#toc li, #toc-large-device li {\n\tlist-style-type: none;\n\tpadding: .5em .5em;\n}\n\n#toc a.wb-link, #toc-large-device a.wb-link {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tborder: none;\n\tcolor: gray;\n\tpadding: 0px;\n}\n\n#toc a.wb-link:hover, #toc-large-device a.wb-link:hover {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tborder: none;\n\tcolor: #000;\n}\n\n#toc li.current a.wb-link, #toc-large-device li.current a.wb-link {\n\tcolor: #000;\n\toutline: none;\n\tfont-style: italic;\n}\n\n#toc .wb-toc-item-title, #toc-large-device .wb-toc-item-title {\n\tfloat: left;\n\tvertical-align: bottom;\n}\n\n#toc [data-wb-element-page-number], #toc-large-device [data-wb-element-page-number] {\n\tfloat: right;\n\tvertical-align: bottom;\n}\n\n/*\noptions content\n*/\n#options, #options-medium {\n\ttext-align: center;\n}\n\n#options .options-header, #options-medium .options-header {\n\tpadding: 16px 0px;\n\tborder-bottom: 1px solid #ddd;\n\tletter-spacing: 1.5px;\n}\n\n#options #font-size-container, #options-medium #font-size-container,\n#options #font-family-container, #options-medium #font-family-container {\n\twidth: 215px;\n\tmargin: auto;\n\tpadding: 16px 0px;\n}\n\n#options #font-family-container > p, #options-medium #font-family-container > p,\n#options #font-size-container > p, #options-medium #font-size-container > p {\n\tmargin-bottom: 7px;\n}\n\n#options .col-left, #options-medium .col-left {\n\tfloat: left;\n\twidth: 50%;\n}\n\n#options .col-right, #options-medium .col-right {\n\tfloat: right;\n\twidth: 50%;\n}\n\n#options #font-size-container, #options-medium #font-size-container {\n\tclear: both;\n}\n\n#options label {\n\twidth: 50%;\n}\n\n/*\nTOP\n*/\n#top {\n\tposition: absolute;\n\ttop: 0px;\n\tbox-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tpadding-top: 12px;\n\ttext-align: center;\n\twidth: 100%;\n\theight: 30px;\n}\n\n#top .wb-current-section-title {\n\tdisplay: inline-block;\n\twidth: 80%;\n\twhite-space: nowrap;\n\tfont-size: 0.85em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\t-o-text-overflow: ellipsis;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n/*\nBOTTOM\n*/\n#bottom {\n\tposition: absolute;\n\tbottom: 0px;\n\tdisplay: inline-block;\n\theight: 30px;\n\twidth: 100%;\n\ttext-align: center;\n\tbackground-color: transparent;\n}\n\n#bottom span {\n\tdisplay: inline-block;\n\tmin-width: 42px;\n\tmargin: 0px;\n\tmargin-top: 0px;\n\tfont-size: 1em;\n\tbackground-color: transparent;\n\tmin-width: 25px;\n\theight: 100%;\n\tpadding: 0px 16px 0px 16px;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n/*\nTEXT*/\n\n/*\nTEXT\n*/\n[data-wb-text] {\n/*\n\tfont-family: Noto Serif, Georgia, serif;\n*/\n/*\n\tfont-size: 14px;\n*/\n\tline-height: 1.5em;\n\ttext-align: justify;\n\ttext-justify: inter-word;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n\twill-change: transform;\n\ttransform: translateZ(0);\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n}\n\n\n\n@media screen and (min-width: 768px) {\n    [data-wb-text] {\n        font-size: 16px;\n        line-height: 1.5em;\n    }\n}\n\n[data-wb-text] p {\n\tmargin-bottom: 0px;\n\tmargin-top: 0px;\n\ttext-indent: 1.5em;\n}\n\n\n/*\nINSIDE TEXT\n* \n* \n*/\n\n/*\nTITLES\n*/\n\n[data-wb-text] #cover {\n\topacity: 0.9;\n}\n\n/*\nDIV FIN\n*/\n[data-wb-text] #fin {\n\ttext-align: center;\n\ttext-transform: uppercase;\n\tletter-spacing: 2px;\n\t\n}\n\n#fin p {\n\tpadding-top: 20%;\n\ttext-indent: 0px;\n}\n\np.section-title, p.notes-title, p.wb-toc-title {\n\tfont-size: 1.25em;\n\ttext-indent: 0px;\n}\n\np.notes-title {\n\tborder-bottom: 1px solid black;\n\tmargin-bottom: 0.5em;\n}\n\np.section-title {\n\tpadding-top: 3.5em;\n\tmargin-top: 0px;\n\tmargin-bottom: 1.5em;\n\ttext-indent: 0px;\n\tline-height: 2em;\n}\n\np.section-title.margin-small {\n\tmargin-bottom: 0.5em;\n}\n\np.section-subtitle {\n\tfont-size: 1em;\n\ttext-indent: 0px;\n\tmargin-bottom: 1.5em;\n}\n\np.section-subtitle_large {\n\tfont-size: 1.25em;\n\ttext-indent: 0px;\n\tmargin-bottom: 1.5em;\n}\n\n#cover.wb-section {\n\ttext-align: center;\n}\n\n#cover-author, #cover-title, #cover-logo {\n\tmargin: 0px;\n\ttext-indent: 0px;\n}\n\np.note {\n\ttext-indent: 0px;\n}\n\n/*\nTEXT EXERGUE\n*/\n[data-wb-text] div.text-exergue {\n\ttext-align: right;\n\tpadding-top: 10em;\n\tpadding-left: 1.5em\n}\n\n[data-wb-text] div.text-exergue p.text-exergue {\n\tpadding-top: 0em;\n}\n\n[data-wb-text] p.sign-exergue {\n\tpadding-top: 1em;\n\tpadding-right: 1.5em\n}\n\n/*\nNO-BREAK\n*/\n[data-wb-text] .no-break-inside {\n\tpage-break-inside: avoid;\n}\n\n/*\nVERSES\n*/\n[data-wb-text] .verses {\n\tmargin: 1.5em 0 1.5em 2.5em;\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .verses p {\n\ttext-indent: -1em;\n}\n\n[data-wb-text] p.verses-signature {\n\ttext-align: right;\n\tfont-size: 0.9em;\n\tpadding-bottom: 1.5em;\n\tpadding-right: 1.5em;\n}\n\n/*\nSIGNATURE\n*/\n[data-wb-text] .signature {\n\ttext-align: right;\n\tpadding-bottom: 1.5em;\n\tpadding-right: 1.5em\n}\n\n/*\nPADDING\n*/\n[data-wb-text] .padding-top-35 {\n\tpadding-top: 3.5em;\n}\n\n\n/*\nLINES BEFORE/AFTER\n*/\n[data-wb-text] p.p_half_line_before {\n\tmargin-top: 0.75em;\n}\n\n[data-wb-text] p.p_line_before {\n\tmargin-top: 1.5em;\n}\n\n[data-wb-text] p.p_2line_before {\n\tmargin-top: 3em;\n}\n\n[data-wb-text] p.p_line_after {\n\tmargin-bottom: 1.5em;\n}\n\n/*\nLINE-HEIGHT\n*/\n[data-wb-text] p.line_height_one {\n\tline-height: 1em;\n\tpadding-top: 0.5em;\n}\n\n/*\nSEPARATION\n*/\n[data-wb-text] p.separation {\n\ttext-indent: 0px;\n\ttext-align: center;\n\tmargin-top: 1.5em;\n\tmargin-bottom: 1.5em;\n\tline-height: 1em;\n\tfont-size: 0.8em;\n}\n\n/*\nPOINTS DE SUSPENSION\n*/\n\n[data-wb-text] p.points {\n\ttext-indent: 0px;\n\twidth: 100%;\n\toverflow: hidden;\n\tpadding-left: 0em;\n}\n\n[data-wb-text] p.points span {\n\tpadding-right: 1.5em;\n}\n\n/*\nNEGATIVE MARGIN\n*/\n\n[data-wb-text] p.negative_margin {\n\tmargin-top:-1.5em;\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.negative_margin span {\n\tbackground-color: #fafafa;\n\tpadding-left:0.5em;\n\tpadding-right: 0.5em;\n\tfont-size: 0.9em;\n}\n\n/*\nNOTES\n*/\n[data-wb-text] .note a.wb-link {\n\tcolor: #006dcc;\n}\n\n[data-wb-text] .note-section p {\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .note-section p.note {\n\tmargin-top: 1.5em;\n}\n\n[data-wb-text] .note-section p.notes-title {\n\tfont-size: 1.25em;\n}\n\n/*\nDIVERS\n*/\n\n[data-wb-text] .font-small-9 {\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .font-small-8 {\n\tfont-size: 0.8em;\n}\n\n[data-wb-text] p.no-indent {\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.indent-3 {\n\ttext-indent: 3em;\n}\n\n[data-wb-text] p.indent-6 {\n\ttext-indent: 6em;\n}\n\n/*\nHYPHENATION\n*/\n[data-wb-text] p, .hyphenate {\n  hyphens: auto;\n  -webkit-hyphens: auto;\n  -ms-hyphens: auto;\n  -moz-hyphens: auto;\n  -o-hyphens: auto;\n}\n[data-wb-text] p.section-title, [data-wb-text] #cover p, .no-hyphenate {\n  hyphens: none;\n  -webkit-hyphens: none;\n  -ms-hyphens: none;\n  -moz-hyphens: none;\n  -o-hyphens: none;\n}\n\n\n\n",""])},function(t,n,e){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s,r,l){function c(t,n,e){return setTimeout(b(t,e),n)}function u(t,n,e){return!!Array.isArray(t)&&(p(t,e[n],e),!0)}function p(t,n,e){var o;if(t)if(t.forEach)t.forEach(n,e);else if(t.length!==l)for(o=0;o<t.length;)n.call(e,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&n.call(e,t[o],o,t)}function d(t,n,e){var o="DEPRECATED METHOD: "+n+"\n"+e+" AT \n";return function(){var n=new Error("get-stack-trace"),e=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=a.console&&(a.console.warn||a.console.log);return i&&i.call(a.console,o,e),t.apply(this,arguments)}}function h(t,n,e){var o,i=n.prototype;(o=t.prototype=Object.create(i)).constructor=t,o._super=i,e&&et(o,e)}function b(t,n){return function(){return t.apply(n,arguments)}}function f(t,n){return(void 0===t?"undefined":i(t))==at?t.apply(n?n[0]||l:l,n):t}function m(t,n){return t===l?n:t}function g(t,n,e){p(_(n),function(n){t.addEventListener(n,e,!1)})}function v(t,n,e){p(_(n),function(n){t.removeEventListener(n,e,!1)})}function y(t,n){for(;t;){if(t==n)return!0;t=t.parentNode}return!1}function k(t,n){return t.indexOf(n)>-1}function _(t){return t.trim().split(/\s+/g)}function x(t,n,e){if(t.indexOf&&!e)return t.indexOf(n);for(var o=0;o<t.length;){if(e&&t[o][e]==n||!e&&t[o]===n)return o;o++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function S(t,n,e){for(var o=[],i=[],a=0;a<t.length;){var s=n?t[a][n]:t[a];x(i,s)<0&&o.push(t[a]),i[a]=s,a++}return e&&(o=n?o.sort(function(t,e){return t[n]>e[n]}):o.sort()),o}function T(t,n){for(var e,o,i=n[0].toUpperCase()+n.slice(1),a=0;a<ot.length;){if(e=ot[a],(o=e?e+i:n)in t)return o;a++}return l}function E(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||a}function C(t,n){var e=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(n){f(t.options.enable,[t])&&e.handler(n)},this.init()}function q(t,n,e){var o=e.pointers.length,i=e.changedPointers.length,a=n&mt&&o-i==0,s=n&(vt|yt)&&o-i==0;e.isFirst=!!a,e.isFinal=!!s,a&&(t.session={}),e.eventType=n,function(t,n){var e=t.session,o=n.pointers,i=o.length;e.firstInput||(e.firstInput=A(n));i>1&&!e.firstMultiple?e.firstMultiple=A(n):1===i&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,r=s?s.center:a.center,c=n.center=L(o);n.timeStamp=lt(),n.deltaTime=n.timeStamp-a.timeStamp,n.angle=j(r,c),n.distance=O(r,c),function(t,n){var e=n.center,o=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};n.eventType!==mt&&a.eventType!==vt||(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},o=t.offsetDelta={x:e.x,y:e.y});n.deltaX=i.x+(e.x-o.x),n.deltaY=i.y+(e.y-o.y)}(e,n),n.offsetDirection=N(n.deltaX,n.deltaY);var u=M(n.deltaTime,n.deltaX,n.deltaY);n.overallVelocityX=u.x,n.overallVelocityY=u.y,n.overallVelocity=rt(u.x)>rt(u.y)?u.x:u.y,n.scale=s?function(t,n){return O(n[0],n[1],At)/O(t[0],t[1],At)}(s.pointers,o):1,n.rotation=s?function(t,n){return j(n[1],n[0],At)+j(t[1],t[0],At)}(s.pointers,o):0,n.maxPointers=e.prevInput?n.pointers.length>e.prevInput.maxPointers?n.pointers.length:e.prevInput.maxPointers:n.pointers.length,function(t,n){var e,o,i,a,s=t.lastInterval||n,r=n.timeStamp-s.timeStamp;if(n.eventType!=yt&&(r>ft||s.velocity===l)){var c=n.deltaX-s.deltaX,u=n.deltaY-s.deltaY,p=M(r,c,u);o=p.x,i=p.y,e=rt(p.x)>rt(p.y)?p.x:p.y,a=N(c,u),t.lastInterval=n}else e=s.velocity,o=s.velocityX,i=s.velocityY,a=s.direction;n.velocity=e,n.velocityX=o,n.velocityY=i,n.direction=a}(e,n);var p=t.element;y(n.srcEvent.target,p)&&(p=n.srcEvent.target);n.target=p}(t,e),t.emit("hammer.input",e),t.recognize(e),t.session.prevInput=e}function A(t){for(var n=[],e=0;e<t.pointers.length;)n[e]={clientX:st(t.pointers[e].clientX),clientY:st(t.pointers[e].clientY)},e++;return{timeStamp:lt(),pointers:n,center:L(n),deltaX:t.deltaX,deltaY:t.deltaY}}function L(t){var n=t.length;if(1===n)return{x:st(t[0].clientX),y:st(t[0].clientY)};for(var e=0,o=0,i=0;i<n;)e+=t[i].clientX,o+=t[i].clientY,i++;return{x:st(e/n),y:st(o/n)}}function M(t,n,e){return{x:n/t||0,y:e/t||0}}function N(t,n){return t===n?kt:rt(t)>=rt(n)?t<0?_t:xt:n<0?wt:St}function O(t,n,e){e||(e=qt);var o=n[e[0]]-t[e[0]],i=n[e[1]]-t[e[1]];return Math.sqrt(o*o+i*i)}function j(t,n,e){e||(e=qt);var o=n[e[0]]-t[e[0]],i=n[e[1]]-t[e[1]];return 180*Math.atan2(i,o)/Math.PI}function D(){this.evEl=Mt,this.evWin=Nt,this.pressed=!1,C.apply(this,arguments)}function I(){this.evEl=Dt,this.evWin=It,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Pt,this.evWin=Ht,this.started=!1,C.apply(this,arguments)}function P(){this.evTarget=Ft,this.targetIds={},C.apply(this,arguments)}function H(){C.apply(this,arguments);var t=b(this.handler,this);this.touch=new P(this.manager,t),this.mouse=new D(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function R(t){var n=t.changedPointers[0];if(n.identifier===this.primaryTouch){var e={x:n.clientX,y:n.clientY};this.lastTouches.push(e);var o=this.lastTouches,i=function(){var t=o.indexOf(e);t>-1&&o.splice(t,1)};setTimeout(i,Bt)}}function F(t,n){this.manager=t,this.set(n)}function B(t){this.options=et({},this.defaults,t||{}),this.id=pt++,this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=Zt,this.simultaneous={},this.requireFail=[]}function W(t){return t&on?"cancel":t&nn?"end":t&tn?"move":t&Qt?"start":""}function V(t){return t==St?"down":t==wt?"up":t==_t?"left":t==xt?"right":""}function G(t,n){var e=n.manager;return e?e.get(t):t}function U(){B.apply(this,arguments)}function X(){U.apply(this,arguments),this.pX=null,this.pY=null}function Y(){U.apply(this,arguments)}function J(){B.apply(this,arguments),this._timer=null,this._input=null}function $(){U.apply(this,arguments)}function K(){U.apply(this,arguments)}function Z(){B.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(t,n){return n=n||{},n.recognizers=m(n.recognizers,Q.defaults.preset),new tt(t,n)}function tt(t,n){this.options=et({},Q.defaults,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var n=t.options.inputClass;return new(n||(ht?I:bt?P:dt?H:D))(t,q)}(this),this.touchAction=new F(this,this.options.touchAction),nt(this,!0),p(this.options.recognizers,function(t){var n=this.add(new t[0](t[1]));t[2]&&n.recognizeWith(t[2]),t[3]&&n.requireFailure(t[3])},this)}function nt(t,n){var e=t.element;if(e.style){var o;p(t.options.cssProps,function(i,a){o=T(e.style,a),n?(t.oldCssProps[o]=e.style[o],e.style[o]=i):e.style[o]=t.oldCssProps[o]||""}),n||(t.oldCssProps={})}}var et,ot=["","webkit","Moz","MS","ms","o"],it=s.createElement("div"),at="function",st=Math.round,rt=Math.abs,lt=Date.now;et="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1;e<arguments.length;e++){var o=arguments[e];if(o!==l&&null!==o)for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])}return n}:Object.assign;var ct=d(function(t,n,e){for(var o=Object.keys(n),i=0;i<o.length;)(!e||e&&t[o[i]]===l)&&(t[o[i]]=n[o[i]]),i++;return t},"extend","Use `assign`."),ut=d(function(t,n){return ct(t,n,!0)},"merge","Use `assign`."),pt=1,dt="ontouchstart"in a,ht=T(a,"PointerEvent")!==l,bt=dt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ft=25,mt=1,gt=2,vt=4,yt=8,kt=1,_t=2,xt=4,wt=8,St=16,Tt=_t|xt,Et=wt|St,Ct=Tt|Et,qt=["x","y"],At=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(E(this.element),this.evWin,this.domHandler)}};var Lt={mousedown:mt,mousemove:gt,mouseup:vt},Mt="mousedown",Nt="mousemove mouseup";h(D,C,{handler:function(t){var n=Lt[t.type];n&mt&&0===t.button&&(this.pressed=!0),n&gt&&1!==t.which&&(n=vt),this.pressed&&(n&vt&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Ot={pointerdown:mt,pointermove:gt,pointerup:vt,pointercancel:yt,pointerout:yt},jt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Dt="pointerdown",It="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Dt="MSPointerDown",It="MSPointerMove MSPointerUp MSPointerCancel"),h(I,C,{handler:function(t){var n=this.store,e=!1,o=t.type.toLowerCase().replace("ms",""),i=Ot[o],a=jt[t.pointerType]||t.pointerType,s="touch"==a,r=x(n,t.pointerId,"pointerId");i&mt&&(0===t.button||s)?r<0&&(n.push(t),r=n.length-1):i&(vt|yt)&&(e=!0),r<0||(n[r]=t,this.callback(this.manager,i,{pointers:n,changedPointers:[t],pointerType:a,srcEvent:t}),e&&n.splice(r,1))}});var zt={touchstart:mt,touchmove:gt,touchend:vt,touchcancel:yt},Pt="touchstart",Ht="touchstart touchmove touchend touchcancel";h(z,C,{handler:function(t){var n=zt[t.type];if(n===mt&&(this.started=!0),this.started){var e=function(t,n){var e=w(t.touches),o=w(t.changedTouches);return n&(vt|yt)&&(e=S(e.concat(o),"identifier",!0)),[e,o]}.call(this,t,n);n&(vt|yt)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t})}}});var Rt={touchstart:mt,touchmove:gt,touchend:vt,touchcancel:yt},Ft="touchstart touchmove touchend touchcancel";h(P,C,{handler:function(t){var n=Rt[t.type],e=function(t,n){var e=w(t.touches),o=this.targetIds;if(n&(mt|gt)&&1===e.length)return o[e[0].identifier]=!0,[e,e];var i,a,s=w(t.changedTouches),r=[],l=this.target;if(a=e.filter(function(t){return y(t.target,l)}),n===mt)for(i=0;i<a.length;)o[a[i].identifier]=!0,i++;for(i=0;i<s.length;)o[s[i].identifier]&&r.push(s[i]),n&(vt|yt)&&delete o[s[i].identifier],i++;return r.length?[S(a.concat(r),"identifier",!0),r]:void 0}.call(this,t,n);e&&this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t})}});var Bt=2500,Wt=25;h(H,C,{handler:function(t,n,e){var o="touch"==e.pointerType,i="mouse"==e.pointerType;if(!(i&&e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents)){if(o)(function(t,n){t&mt?(this.primaryTouch=n.changedPointers[0].identifier,R.call(this,n)):t&(vt|yt)&&R.call(this,n)}).call(this,n,e);else if(i&&function(t){for(var n=t.srcEvent.clientX,e=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],a=Math.abs(n-i.x),s=Math.abs(e-i.y);if(a<=Wt&&s<=Wt)return!0}return!1}.call(this,e))return;this.callback(t,n,e)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Vt=T(it.style,"touchAction"),Gt=Vt!==l,Ut="auto",Xt="manipulation",Yt="none",Jt="pan-x",$t="pan-y",Kt=function(){if(!Gt)return!1;var t={},n=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!n||a.CSS.supports("touch-action",e)}),t}();F.prototype={set:function(t){"compute"==t&&(t=this.compute()),Gt&&this.manager.element.style&&Kt[t]&&(this.manager.element.style[Vt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,function(n){f(n.options.enable,[n])&&(t=t.concat(n.getTouchAction()))}),function(t){if(k(t,Yt))return Yt;var n=k(t,Jt),e=k(t,$t);return n&&e?Yt:n||e?n?Jt:$t:k(t,Xt)?Xt:Ut}(t.join(" "))},preventDefaults:function(t){var n=t.srcEvent,e=t.offsetDirection;if(this.manager.session.prevented)n.preventDefault();else{var o=this.actions,i=k(o,Yt)&&!Kt[Yt],a=k(o,$t)&&!Kt[$t],s=k(o,Jt)&&!Kt[Jt];if(i){var r=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(r&&l&&c)return}if(!s||!a)return i||a&&e&Tt||s&&e&Et?this.preventSrc(n):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Zt=1,Qt=2,tn=4,nn=8,en=nn,on=16;B.prototype={defaults:{},set:function(t){return et(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var n=this.simultaneous;return t=G(t,this),n[t.id]||(n[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=G(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var n=this.requireFail;return t=G(t,this),-1===x(n,t)&&(n.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=G(t,this);var n=x(this.requireFail,t);return n>-1&&this.requireFail.splice(n,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function n(n){e.manager.emit(n,t)}var e=this,o=this.state;o<nn&&n(e.options.event+W(o)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),o>=nn&&n(e.options.event+W(o))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Zt)))return!1;t++}return!0},recognize:function(t){var n=et({},t);if(!f(this.options.enable,[this,n]))return this.reset(),void(this.state=32);this.state&(en|on|32)&&(this.state=Zt),this.state=this.process(n),this.state&(Qt|tn|nn|on)&&this.tryEmit(n)},process:function(t){},getTouchAction:function(){},reset:function(){}},h(U,B,{defaults:{pointers:1},attrTest:function(t){var n=this.options.pointers;return 0===n||t.pointers.length===n},process:function(t){var n=this.state,e=t.eventType,o=n&(Qt|tn),i=this.attrTest(t);return o&&(e&yt||!i)?n|on:o||i?e&vt?n|nn:n&Qt?n|tn:Qt:32}}),h(X,U,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ct},getTouchAction:function(){var t=this.options.direction,n=[];return t&Tt&&n.push($t),t&Et&&n.push(Jt),n},directionTest:function(t){var n=this.options,e=!0,o=t.distance,i=t.direction,a=t.deltaX,s=t.deltaY;return i&n.direction||(n.direction&Tt?(i=0===a?kt:a<0?_t:xt,e=a!=this.pX,o=Math.abs(t.deltaX)):(i=0===s?kt:s<0?wt:St,e=s!=this.pY,o=Math.abs(t.deltaY))),t.direction=i,e&&o>n.threshold&&i&n.direction},attrTest:function(t){return U.prototype.attrTest.call(this,t)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=V(t.direction);n&&(t.additionalEvent=this.options.event+n),this._super.emit.call(this,t)}}),h(Y,U,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Yt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Qt)},emit:function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}this._super.emit.call(this,t)}}),h(J,B,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ut]},process:function(t){var n=this.options,e=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime>n.time;if(this._input=t,!o||!e||t.eventType&(vt|yt)&&!i)this.reset();else if(t.eventType&mt)this.reset(),this._timer=c(function(){this.state=en,this.tryEmit()},n.time,this);else if(t.eventType&vt)return en;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===en&&(t&&t.eventType&vt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=lt(),this.manager.emit(this.options.event,this._input)))}}),h($,U,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Yt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Qt)}}),h(K,U,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Tt|Et,pointers:1},getTouchAction:function(){return X.prototype.getTouchAction.call(this)},attrTest:function(t){var n,e=this.options.direction;return e&(Tt|Et)?n=t.overallVelocity:e&Tt?n=t.overallVelocityX:e&Et&&(n=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&rt(n)>this.options.velocity&&t.eventType&vt},emit:function(t){var n=V(t.offsetDirection);n&&this.manager.emit(this.options.event+n,t),this.manager.emit(this.options.event,t)}}),h(Z,B,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xt]},process:function(t){var n=this.options,e=t.pointers.length===n.pointers,o=t.distance<n.threshold,i=t.deltaTime<n.time;if(this.reset(),t.eventType&mt&&0===this.count)return this.failTimeout();if(o&&i&&e){if(t.eventType!=vt)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||O(this.pCenter,t.center)<n.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;if(0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=en,this.tryEmit()},n.interval,this),Qt):en}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==en&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.7",Q.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$,{enable:!1}],[Y,{enable:!1},["rotate"]],[K,{direction:Tt}],[X,{direction:Tt},["swipe"]],[Z],[Z,{event:"doubletap",taps:2},["tap"]],[J]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};tt.prototype={set:function(t){return et(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(t);var e,o=this.recognizers,i=n.curRecognizer;(!i||i&&i.state&en)&&(i=n.curRecognizer=null);for(var a=0;a<o.length;)e=o[a],2===n.stopped||i&&e!=i&&!e.canRecognizeWith(i)?e.reset():e.recognize(t),!i&&e.state&(Qt|tn|nn)&&(i=n.curRecognizer=e),a++}},get:function(t){if(t instanceof B)return t;for(var n=this.recognizers,e=0;e<n.length;e++)if(n[e].options.event==t)return n[e];return null},add:function(t){if(u(t,"add",this))return this;var n=this.get(t.options.event);return n&&this.remove(n),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var n=this.recognizers,e=x(n,t);-1!==e&&(n.splice(e,1),this.touchAction.update())}return this},on:function(t,n){if(t!==l&&n!==l){var e=this.handlers;return p(_(t),function(t){e[t]=e[t]||[],e[t].push(n)}),this}},off:function(t,n){if(t!==l){var e=this.handlers;return p(_(t),function(t){n?e[t]&&e[t].splice(x(e[t],n),1):delete e[t]}),this}},emit:function(t,n){this.options.domEvents&&function(t,n){var e=s.createEvent("Event");e.initEvent(t,!0,!0),e.gesture=n,n.target.dispatchEvent(e)}(t,n);var e=this.handlers[t]&&this.handlers[t].slice();if(e&&e.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<e.length;)e[o](n),o++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},et(Q,{INPUT_START:mt,INPUT_MOVE:gt,INPUT_END:vt,INPUT_CANCEL:yt,STATE_POSSIBLE:Zt,STATE_BEGAN:Qt,STATE_CHANGED:tn,STATE_ENDED:nn,STATE_RECOGNIZED:en,STATE_CANCELLED:on,STATE_FAILED:32,DIRECTION_NONE:kt,DIRECTION_LEFT:_t,DIRECTION_RIGHT:xt,DIRECTION_UP:wt,DIRECTION_DOWN:St,DIRECTION_HORIZONTAL:Tt,DIRECTION_VERTICAL:Et,DIRECTION_ALL:Ct,Manager:tt,Input:C,TouchAction:F,TouchInput:P,MouseInput:D,PointerEventInput:I,TouchMouseInput:H,SingleTouchInput:z,Recognizer:B,AttrRecognizer:U,Tap:Z,Pan:X,Swipe:K,Pinch:Y,Rotate:$,Press:J,on:g,off:v,each:p,merge:ut,extend:ct,assign:et,inherit:h,bindFn:b,prefixed:T});(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=Q,(o=function(){return Q}.call(n,e,n,t))===l||(t.exports=o)}(window,document)},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="book">\n\t\x3c!--\n\t\tSTARTBOOK-CONTAINER\n\t--\x3e\n\t<div id="bookContainer">\n\t\t\x3c!--\n\t\t\tTOC-LARGE-DEVICE (outside textContainer) : width >= 1366\n\t\t--\x3e\n\t\t<%- include src/components/book-read/tabs-large-device.ejs -%>\n\t\t\x3c!--\n\t\t\tSTART SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t<div id="swing-container">\n\t\t\t\x3c!--\n\t\t\t\tSTART TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t<div data-wb-text-container class="card-4">\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOOKMARK\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bookmark">\n\t\t\t\t\t<p><i class="material-icons">&#xE867;</i></p>\n\t\t\t\t</div>\n\t\t\t\t<div id="text-loader-container" class="hidden">\n\t\t\t\t\t<div id="text-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOC (inside textContainer) : width < 1366\n\t\t\t\t--\x3e\n\t\t\t\t<div id="toc">\n\t\t\t\t\t<div data-wb-toc >\n\t\t\t\t\t\t<button id="close-toc" type="button" class="btn">&times;</button>\n\t\t\t\t\t\t<div id="toc-header">\n\t\t\t\t\t\t\t<p><%- book.authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="text-uppercase"><%- book.title %></p>\n\t\t\t\t\t\t\t<% if(book.subtitle1) {%>\n\t\t\t\t\t\t\t\t<p><%- book.subtitle1 %></p>\n\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t<% if(book.subtitle2) {%>\n\t\t\t\t\t\t\t\t<p class="text-small-caps"><%- book.subtitle2 %></p>\n\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tOPTIONS-MODAL (inside textContainer) : width >= 1366\n\t\t\t\t--\x3e\n\t\t\t\t<%- include src/components/book-read/options-modal.ejs -%>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOP (inside textContainer)\n\t\t\t\t--\x3e\n\t\t\t\t<div id="top">\n\t\t\t\t\t<span id="current-section-title" class="wb-current-section-title"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTEXT\n\t\t\t\t--\x3e\n\t\t\t\t<div data-wb-text ></div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOTTOM (inside textContainer) : pagination\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bottom">\n\t\t\t\t\t<span id="currentByTotal" class="wb-currentByTotal-pages"></span>\n\t\t\t\t</div>\n\t\t\t\x3c!--\n\t\t\t\tEND TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t</div>\n\t\t\x3c!--\n\t\t\tEND SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM-SMALL (outside textContainer) : width < 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom-small">\n\t\t\t<button id="home" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t<button id="add-bookmark" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t<button id="open-options" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t<button id="open-toc" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM (outside textContainer) : width >= 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom">\n\t\t\t<div id="swing-bar">\n\t\t\t\t<div id="book-nav-bar-bottom-controls">\n\t\t\t\t\t<button id="home-large" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t\t\t<button id="add-bookmark-large" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t\t\t<div id="center">\n\t\t\t\t\t\t<button id="backward-large" class="btn">&lt;</button>\n\t\t\t\t\t\t<button id="forward-large" class="btn">&gt;</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button id="open-options-medium" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t\t\t<button id="open-toc-large" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--\n\t\tEND BOOK-CONTAINER\n\t--\x3e\n\t</div>\n\t<div id="book-loader-container" class="hidden">\n\t\t<div id="book-loader" style="border-top: 8px solid <%= book.styles.color %>; border-bottom: 8px solid <%= book.styles.color %>"></div>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="book">\n\t\x3c!--\n\t\tSTARTBOOK-CONTAINER\n\t--\x3e\n\t<div id="bookContainer">\n\t\t\x3c!--\n\t\t\tTOC-LARGE-DEVICE (outside textContainer) : width >= 1366\n\t\t--\x3e\n\t\t'+function(){var t=[];if(t.push('\n<div id="toc-large-device" class="tab card-4" >\n\t<button id="close-toc-large-device" type="button" class="btn card-4" >&times;</button>\n\t<div id="toc-large-device-container">\n\t\t<div class="header">\n\t\t\t<p>',(__stack.lineno=6,book.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=7,book.title),"</p>\n\t\t\t  "),__stack.lineno=8,book.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=9,book.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=10),t.push("\n\t\t\t  "),__stack.lineno=11,book.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=12,book.subtitle2),"</p>\n\t\t\t "),__stack.lineno=13),t.push('\n\t\t</div>\n\t\t<div data-wb-toc ></div>\n\t</div>\n</div>\n\n<div id="tab-options" class="card-4">\n\t<button id="close-tab-options" type="button" class="btn card-4" >&times;</button>\n\t<div id="tab-options-container">\n\t\t<div class="header">\n\t\t\t<p class="options-title">Options</p>\n\t\t</div>\n\t\t<div id="font-family-container-large">\n\t\t\t<p><b>Police de&nbsp;caractère</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="',(__stack.lineno=29,book.styles.font),'">&ensp;',(__stack.lineno=29,book.styles.font),"</label></p>\n\t\t\t\t\t"),__stack.lineno=30,"Noto Serif"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="Noto Serif">&ensp;Noto Serif</label></p>\n\t\t\t\t\t'),__stack.lineno=32),t.push('\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t'),__stack.lineno=35,"Vollkorn"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="VollKorn">&ensp;Vollkorn</label></p>\n\t\t\t\t\t'),__stack.lineno=37),t.push('\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="font-size-container-large">\n\t\t\t<p><b>Taille de la police</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="18">&ensp;18 px</label></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="17">&ensp;17 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="19">&ensp;19 px</label></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\t\n\n<div id="tab-infos" class="card-4">\n\t<button id="close-tab-infos" type="button" class="btn card-4" >&times;</button>\n\t<div id="tab-infos-container">\n\t\t<div class="header">\n\t\t\t<p>',(__stack.lineno=64,book.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=65,book.title),"</p>\n\t\t\t  "),__stack.lineno=66,book.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=67,book.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=68),t.push("\n\t\t\t  "),__stack.lineno=69,book.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=70,book.subtitle2),"</p>\n\t\t\t "),__stack.lineno=71),t.push('\n\t\t</div>\n\t\t<div class="content">\n\t\t  <p><b>Titre : </b>',(__stack.lineno=74,book.title),"\n\t\t\t  "),__stack.lineno=75,book.subtitle1&&(t.push("\n\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=76,book.subtitle1),"</span>\n\t\t\t  "),__stack.lineno=77),t.push("\n\t\t\t  "),__stack.lineno=78,book.subtitle2&&(t.push("\n\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=79,book.subtitle2),"</span>\n\t\t\t  "),__stack.lineno=80),t.push("\n\t\t  </p>\n\t\t  <p><b>Année de parution : </b>",(__stack.lineno=82,book.year),"</p>\n\t\t  "),__stack.lineno=83,book.authors.length>1){t.push("\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=88;for(var n=0;n<book.authors.length;n++)t.push("\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t",(__stack.lineno=90,book.authors[n].name)," (",(__stack.lineno=90,book.authors[n].birth),"&nbsp;&ndash; ",(__stack.lineno=90,book.authors[n].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),__stack.lineno=92;t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=95}else 1===book.authors.length&&(t.push("\n\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=96,book.authors[0].name)," (",(__stack.lineno=96,book.authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=96,book.authors[0].death),")</p>\n\t\t  "),__stack.lineno=97);if(t.push("\n\t\t  "),__stack.lineno=98,book.contribs.length>1){t.push("\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=103;for(n=0;n<book.contribs.length;n++)t.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=105,book.contribs[n].role)," : </span>\n\t\t\t\t\t\t\t",(__stack.lineno=106,book.contribs[n].name)," (",(__stack.lineno=106,book.contribs[n].birth),"&nbsp;&ndash; ",(__stack.lineno=106,book.contribs[n].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),__stack.lineno=108;t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=111}else 1===book.contribs.length&&(t.push('\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=117,book.contribs[0].role)," : </span>\n\t\t\t\t\t\t\t",(__stack.lineno=118,book.contribs[0].name)," (",(__stack.lineno=118,book.contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=118,book.contribs[0].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=122);t.push('\n\t\t  <p class="book-source">\n\t\t\t  '),__stack.lineno=124,book.sources.length>1?(t.push("\n\t\t\t\t<b>Sources :</b>\n\t\t\t  "),__stack.lineno=126):(t.push("\n\t\t\t\t<b>Source :</b>\n\t\t\t  "),__stack.lineno=128),t.push("\n\t\t\t\t<ul>\n\t\t\t\t"),__stack.lineno=130;for(n=0;n<book.sources.length;n++)t.push("\n\t\t\t\t\t<li><span>",(__stack.lineno=131,book.sources[n]),"</span></li>\n\t\t\t\t"),__stack.lineno=132;return t.push("\n\t\t\t\t</ul>\n\t\t\t  </p>\n\t\t  "),__stack.lineno=135,book.description&&(t.push("\n\t\t  <div>",(__stack.lineno=136,book.description),"</div>\n\t\t  "),__stack.lineno=137),t.push('\n\t\t</div>\n\t</div>\n</div>\n\n<div id="book-commands">\n\t<button id="toggle-toc-large-device" type="button" class="btn card-2" >Table</button>\n\t<button id="toggle-tab-options" type="button" class="btn card-2" >Options</button>\n\t<button id="toggle-tab-infos" type="button" class="btn card-2" >Fiche</button>\n\t<button id="tab-add-bookmark" type="button" class="add-bookmark btn card-2" >Signet</button>\n\t<button id="tab-home-link" type="button" class="home btn card-2" >Retour</button>\n</div>\n\t\n\n'),t.join("")}()+'\t\t\x3c!--\n\t\t\tSTART SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t<div id="swing-container">\n\t\t\t\x3c!--\n\t\t\t\tSTART TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t<div data-wb-text-container class="card-4">\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOOKMARK\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bookmark">\n\t\t\t\t\t<p><i class="material-icons">&#xE867;</i></p>\n\t\t\t\t</div>\n\t\t\t\t<div id="text-loader-container" class="hidden">\n\t\t\t\t\t<div id="text-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOC (inside textContainer) : width < 1366\n\t\t\t\t--\x3e\n\t\t\t\t<div id="toc">\n\t\t\t\t\t<div data-wb-toc >\n\t\t\t\t\t\t<button id="close-toc" type="button" class="btn">&times;</button>\n\t\t\t\t\t\t<div id="toc-header">\n\t\t\t\t\t\t\t<p>',(__stack.lineno=33,book.authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="text-uppercase">',(__stack.lineno=34,book.title),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=35,book.subtitle1&&(buf.push("\n\t\t\t\t\t\t\t\t<p>",(__stack.lineno=36,book.subtitle1),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=37),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=38,book.subtitle2&&(buf.push('\n\t\t\t\t\t\t\t\t<p class="text-small-caps">',(__stack.lineno=39,book.subtitle2),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=40),buf.push("\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tOPTIONS-MODAL (inside textContainer) : width >= 1366\n\t\t\t\t--\x3e\n\t\t\t\t"+function(){var t=[];return t.push('<div id="options">\n\t<div>\n\t\t<button id="close-options" type="button" class="btn">&times;</button>\n\t\t<div class="options-header">\n\t\t\t<p>Options</p>\n\t\t</div>\n\t\t<div id="font-family-container">\n\t\t\t<p><b>Police de&nbsp;caractère</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="',(__stack.lineno=11,book.styles.font),'">&ensp;',(__stack.lineno=11,book.styles.font),"</label></p>\n\t\t\t\t\t"),__stack.lineno=12,"Noto Serif"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="Noto Serif">&ensp;Noto Serif</label></p>\n\t\t\t\t\t'),__stack.lineno=14),t.push('\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t'),__stack.lineno=17,"Vollkorn"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="VollKorn">&ensp;Vollkorn</label></p>\n\t\t\t\t\t'),__stack.lineno=19),t.push('\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="font-size-container">\n\t\t\t<p><b>Taille de la police</b></p>\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="col-left">\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="13">&ensp;13 px</label></p>\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-right">\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="options-medium">\n\t<div>\n\t\t<button id="close-options-medium" type="button" class="btn">&times;</button>\n\t\t<div class="options-header">\n\t\t\t<p>Options</p>\n\t\t</div>\n\t\t<div id="font-family-container">\n\t\t\t<p><b>Police de&nbsp;caractère</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="',(__stack.lineno=51,book.styles.font),'">&ensp;',(__stack.lineno=51,book.styles.font),"</label></p>\n\t\t\t\t\t"),__stack.lineno=52,"Noto Serif"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="Noto Serif">&ensp;Noto Serif</label></p>\n\t\t\t\t\t'),__stack.lineno=54),t.push('\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t'),__stack.lineno=57,"Vollkorn"!==book.styles.font&&(t.push('\n\t\t\t\t\t\t<p><label><input type="radio" name="fontFamily" value="VollKorn">&ensp;Vollkorn</label></p>\n\t\t\t\t\t'),__stack.lineno=59),t.push('\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="font-size-container">\n\t\t\t<p><b>Taille de la police</b></p>\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="18">&ensp;18 px</label></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="17">&ensp;17 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="19">&ensp;19 px</label></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),t.join("")}()+'\t\t\t\t\x3c!--\n\t\t\t\t\tTOP (inside textContainer)\n\t\t\t\t--\x3e\n\t\t\t\t<div id="top">\n\t\t\t\t\t<span id="current-section-title" class="wb-current-section-title"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTEXT\n\t\t\t\t--\x3e\n\t\t\t\t<div data-wb-text ></div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOTTOM (inside textContainer) : pagination\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bottom">\n\t\t\t\t\t<span id="currentByTotal" class="wb-currentByTotal-pages"></span>\n\t\t\t\t</div>\n\t\t\t\x3c!--\n\t\t\t\tEND TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t</div>\n\t\t\x3c!--\n\t\t\tEND SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM-SMALL (outside textContainer) : width < 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom-small">\n\t\t\t<button id="home" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t<button id="add-bookmark" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t<button id="open-options" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t<button id="open-toc" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM (outside textContainer) : width >= 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom">\n\t\t\t<div id="swing-bar">\n\t\t\t\t<div id="book-nav-bar-bottom-controls">\n\t\t\t\t\t<button id="home-large" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t\t\t<button id="add-bookmark-large" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t\t\t<div id="center">\n\t\t\t\t\t\t<button id="backward-large" class="btn">&lt;</button>\n\t\t\t\t\t\t<button id="forward-large" class="btn">&gt;</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button id="open-options-medium" class="btn"><i class="material-icons">&#xE8B8;</i></button>\n\t\t\t\t\t<button id="open-toc-large" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--\n\t\tEND BOOK-CONTAINER\n\t--\x3e\n\t</div>\n\t<div id="book-loader-container" class="hidden">\n\t\t<div id="book-loader" style="border-top: 8px solid ',escape((__stack.lineno=102,book.styles.color)),"; border-bottom: 8px solid ",escape((__stack.lineno=102,book.styles.color)),'"></div>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(2)),a=o(e(0)),s=(o(e(81)),e(83));n.default=function(t){for(var n=t,e=location.hash.replace(/#\/authors\?q\=/,""),o=i.default.getData("authors").filter(function(t){return t.nameAlpha.split("")[0].toUpperCase()===e}),r=i.default.getData("books"),l=[],c=void 0,u=void 0,p=function(t){var n=o[t];c=r.filter(function(t){for(var e=0;e<t.authors.length;e++)return t.authors[e].id===n.id}),l=l.concat(c),u=r.filter(function(t){for(var e=0;e<t.contribs.length;e++)return t.contribs[e].id===n.id}),l=l.concat(u),n.works=l,l=[]},d=0;d<o.length;d++)p(d);n.innerHTML=s({authors:o}),a.default.setHTML("title","&Eacute;quivoques - Auteurs");var h=document.querySelector("#authors-container"),b=h.querySelectorAll(".auth"),f=void 0,m=void 0,g=function(t){var n=t.target.parentElement.parentElement;f=n.querySelectorAll(".slide");for(var e=0;e<f.length;e++)if("block"===f[e].style.display){f[m=e].style.display="none";break}0===m?m=f.length-1:m-=1,f[m].style.display="block"},v=function(t){var n=t.target.parentElement.parentElement;f=n.querySelectorAll(".slide");for(var e=0;e<f.length;e++)if("block"===f[e].style.display){f[m=e].style.display="none";break}m===f.length-1?m=0:m+=1,f[m].style.display="block"},y=h.querySelectorAll(".previous");for(d=0;d<y.length;d++)y[d].addEventListener("click",g,!1);for(var k=h.querySelectorAll(".next"),_=0;_<k.length;_++)k[_].addEventListener("click",v,!1);if(window.innerWidth>=750)for(var x=0;x<b.length;x++)(f=b[x].querySelectorAll(".slide")).length<2?(b[x].querySelectorAll(".previous")[0].style.display="none",b[x].querySelectorAll(".next")[0].style.display="none"):(b[x].querySelectorAll(".previous")[0].style.display="block",b[x].querySelectorAll(".next")[0].style.display="block"),void 0!==i.default.getData("location").prevLocation&&i.default.getData("location").prevLocation.match(/\/read$/)?function(){var t=i.default.getData("book"),n=[].slice.call(f),e=n.filter(function(n){return n.id.replace(/slide_/,"")===t})[0];m=e?n.indexOf(e):0,f[m].style.display="block"}():f[m=0].style.display="block";window.addEventListener("resize",function(){if(window.innerWidth<750){f=h.querySelectorAll(".slide");for(var t=0;t<f.length;t++)f[t].style.display="block",b[t].querySelectorAll(".previous")[0].style.display="none",b[t].querySelectorAll(".next")[0].style.display="none"}else{f=h.querySelectorAll(".slide");for(var n=0;n<f.length;n++)f[n].style.display="none";for(var e=0;e<b.length;e++)(f=b[e].querySelectorAll(".slide")).length<2?(b[e].querySelectorAll(".previous")[0].style.display="none",b[e].querySelectorAll(".next")[0].style.display="none"):(b[e].querySelectorAll(".previous")[0].style.display="block",b[e].querySelectorAll(".next")[0].style.display="block"),f[m=0].style.display="block"}});var w=document.querySelectorAll(".accordion"),S=document.querySelectorAll(".books-list");1===o.length&&(S[0].style.maxHeight=S[0].scrollHeight+"px");for(var T=0;T<w.length;T++)w[T].addEventListener("click",function(t){for(var n=0;n<S.length;n++)if(S[n]===t.target.nextElementSibling?S[n].style.maxHeight=S[n].style.maxHeight?null:S[n].scrollHeight+"px":S[n].style.maxHeight&&(S[n].style.maxHeight=null),t.target.nextElementSibling.style.maxHeight){t.target.nextElementSibling.scrollIntoView(!0);var e=document.getElementsByTagName("html")[0];e.scrollTop=e.scrollTop-48}});if(void 0!==i.default.getData("location").prevLocation&&i.default.getData("location").prevLocation.match(/\/read$/)){var E=i.default.getData("book"),C=document.getElementById("slide_"+E);C.parentElement.style.maxHeight=C.parentElement.scrollHeight+"px",C.scrollIntoView(!0);var q=document.getElementsByTagName("html")[0];q.scrollTop=q.scrollTop-48}for(var A=h.querySelectorAll("#letters a"),L=0;L<A.length;L++)A[L].innerHTML===e?a.default.addClass("#"+A[L].id,"active"):a.default.removeClass("#"+A[L].id,"active");for(var M=function(t){var n=i.default.getData("books",t.currentTarget.id);if(n.visible){var e=n.path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+e+"/read"}},N=h.querySelectorAll(".book"),O=0;O<N.length;O++)N[O].addEventListener("click",M,!1);for(var j=function(t){var n=t.target.id.replace("open-","");document.getElementById(n).style.display="block"},D=h.querySelectorAll(".open-infos-btn"),I=0;I<D.length;I++)D[I].addEventListener("click",j,!1);for(var z=function(t){var n=t.target.id.replace("close-","");document.getElementById(n).style.display="none"},P=h.querySelectorAll(".close-infos-btn"),H=0;H<P.length;H++)P[H].addEventListener("click",z,!1);window.addEventListener("scroll",function(){document.body.scrollTop>40||document.documentElement.scrollTop>40?window.innerWidth<750&&(h.querySelector("#toTop").style.display="block"):h.querySelector("#toTop").style.display="none"},!1);h.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(t,n,e){var o=e(82);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0};i.transform=void 0;e(6)(o,i);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(5)(void 0)).push([t.i,'#authors-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#authors-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px 32px 0px;\n\t}\n}\n\n#authors-container #letters {\n\ttext-align: center;\n\tline-height: 37px;\n\twidth: 320px;\n\tmargin: 0px auto;\n\tpadding-bottom: 16px;\n}\n\n@media only screen and (min-width: 410px) {\n\t#authors-container #letters {\n\t\twidth: 410px;\n\t}\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container #letters {\n\t\twidth: 585px;\n\t}\n}\n\n#authors-container #letters a {\n\tpadding: 8px;\n}\n\n#authors-container #noresult {\n\twidth: 100%;\n\ttext-align: center;\n\tpadding-top: 48px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.1em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n}\n\n#authors-container #authors-list {\n\tmin-height: 476px;\n\tmax-width: 750px;\n\tmargin: auto;\n\tpadding-bottom: 16px;\n}\n\n.auth {\n\tposition: relative;\n}\n\n#authors-container .previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: 0px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#authors-container .next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: 0px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container .previous {\n\t\tdisplay: block;\n\t}\n\n\t#authors-container .next {\n\t\tdisplay: block;\n\t}\n}\n\n#authors-container .accordion {\n    cursor: pointer;\n    text-align: center;\n    font-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n\tpadding: 16px;\n    width: 100%;\n    border: none;\n    outline: none;\n    background-color: transparent;\n}\n\n#authors-container #authors-list .books-list {\n\tposition: relative;\n\tmax-width: 450px;\n\tmargin: auto;\n\tmax-height: 0;\n\toverflow-y: hidden;\n}\n\n#authors-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#authors-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#authors-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#authors-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#authors-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#authors-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#authors-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#authors-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n#authors-container .tobepublished {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tleft: 0px;\n\tbottom: 0px;\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#authors-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#authors-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#authors-container .modal-content div {\n\tpadding: 8px;\n}\n\n#authors-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#authors-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 37px;\n\theight: 37px;\n\tfont-size: 1.5em;\n}\n\n#authors-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#authors-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#authors-container .modal ul li {\n\tpadding: 4px;\n}\n\n#authors-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#authors-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="authors-container" class="fade">\n\t<div id="top-page-header">auteurs</div>\n\t<div id="authors-list">\n\t\t<div id="letters">\n\t\t\t<%- include src/components/authors/authors-letters.ejs -%>\n\t\t</div>\n\t\t<div>\n\t\t\t\n\t\t\t<% if(authors.length===0) {%>\n\t\t\t\t<p id="noresult">aucun résultat.</p>\n\t\t\t<%}%>\n\t\t\t\n\t\t\t<% for(var i=0; i<authors.length; i++) {%>\n\t\t\t\t<% if(authors[i].visible) { %>\n\t\t\t\t<div class="auth" id="auth_<%= i %>">\n\t\t\t\t\t<button id="<%= authors[i].id %>" class="accordion"><%- authors[i].name %>&ensp;(<%- authors[i].works.length %>)</button>\n\t\t\t\t\t<div class="books-list">\n\t\t\t\t\t\t<button class="previous btn" type="button">&lt;</button>\n\t\t\t\t\t\t<button class="next btn" type="button">&gt;</button>\n\t\t\t\t\t<% for(var j=0; j<authors[i].works.length; j++) {%>\n\t\t\t\t\t\t<% var work = authors[i].works[j] %>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t\t\t<%- include src/components/authors/infos-modal.ejs -%>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="slide fade slides_<%= i %>" id="slide_<%= work.id %>">\n\t\t\t\t\t\t\t<div id="paper" style="background-color: <%- work.styles.color %>; background-image: url(<%- work.styles.image %>)">\n\t\t\t\t\t\t\t\t<div id="<%= work.id %>" class="book" style="<%= work.styles.cover %>">\n\t\t\t\t\t\t\t\t\t<p class="author" style="<%=work.styles.author %>"><%- work.authorDisplay %></p>\n\t\t\t\t\t\t\t\t\t<p class="title" style="<%-work.styles.title %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.title %>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% if(work.subtitle1) {%>\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="<%= work.styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.subtitle1 %></a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<% if(work.subtitle2) {%>\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="<%= work.styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.subtitle2 %></a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<div class="logo" style="<%=work.styles.logo %>">\n\t\t\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t\t\t<% if(!work.visible) {%>\n\t\t\t\t\t\t\t\t\t<button class="tobepublished btn">&Agrave; paraître</button>\n\t\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t\t<button id="open-infos-<%= work.id %>" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<%}%>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t\t\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="authors-container" class="fade">\n\t<div id="top-page-header">auteurs</div>\n\t<div id="authors-list">\n\t\t<div id="letters">\n\t\t\t'+function(){var t=[];return t.push('<a id="a" href="#/authors?q=A" >A</a>&emsp;\n<a id="b" href="#/authors?q=B" >B</a>&emsp;\n<a id="c" href="#/authors?q=C" >C</a>&emsp;\n<a id="d" href="#/authors?q=D" >D</a>&emsp;\n<a id="e" href="#/authors?q=E" >E</a>&emsp;\n<a id="f" href="#/authors?q=F" >F</a>&emsp;\n<a id="g" href="#/authors?q=G" >G</a>&emsp;\n<a id="h" href="#/authors?q=H" >H</a>&emsp;\n<a id="i" href="#/authors?q=I" >I</a>&emsp;\n<a id="j" href="#/authors?q=J" >J</a>&emsp;\n<a id="k" href="#/authors?q=K" >K</a>&emsp;\n<a id="l" href="#/authors?q=L" >L</a>&emsp;\n<a id="m" href="#/authors?q=M" >M</a>&emsp;\n<a id="n" href="#/authors?q=N" >N</a>&emsp;\n<a id="o" href="#/authors?q=O" >O</a>&emsp;\n<a id="p" href="#/authors?q=P" >P</a>&emsp;\n<a id="q" href="#/authors?q=Q" >Q</a>&emsp;\n<a id="r" href="#/authors?q=R" >R</a>&emsp;\n<a id="s" href="#/authors?q=S" >S</a>&emsp;\n<a id="t" href="#/authors?q=T" >T</a>&emsp;\n<a id="u" href="#/authors?q=U" >U</a>&emsp;\n<a id="v" href="#/authors?q=V" >V</a>&emsp;\n<a id="w" href="#/authors?q=W" >W</a>&emsp;\n<a id="x" href="#/authors?q=X" >X</a>&emsp;\n<a id="y" href="#/authors?q=Y" >Y</a>&emsp;\n<a id="z" href="#/authors?q=Z" >Z</a>&emsp;\n'),t.join("")}()+"\t\t</div>\n\t\t<div>\n\t\t\t\n\t\t\t"),__stack.lineno=8,0===authors.length&&(buf.push('\n\t\t\t\t<p id="noresult">aucun résultat.</p>\n\t\t\t'),__stack.lineno=10),buf.push("\n\t\t\t\n\t\t\t"),__stack.lineno=12;for(var t=0;t<authors.length;t++){if(buf.push("\n\t\t\t\t"),__stack.lineno=13,authors[t].visible){buf.push('\n\t\t\t\t<div class="auth" id="auth_',escape((__stack.lineno=14,t)),'">\n\t\t\t\t\t<button id="',escape((__stack.lineno=15,authors[t].id)),'" class="accordion">',(__stack.lineno=15,authors[t].name),"&ensp;(",(__stack.lineno=15,authors[t].works.length),')</button>\n\t\t\t\t\t<div class="books-list">\n\t\t\t\t\t\t<button class="previous btn" type="button">&lt;</button>\n\t\t\t\t\t\t<button class="next btn" type="button">&gt;</button>\n\t\t\t\t\t'),__stack.lineno=19;for(var n=0;n<authors[t].works.length;n++){buf.push("\n\t\t\t\t\t\t"),__stack.lineno=20;var e=authors[t].works[n];buf.push("\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t\t\t"+function(){var t=[];if(t.push('<div id="infos-',escape((__stack.lineno=1,e.id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,e.id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,e.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,e.title),"</p>\n\t\t\t  "),__stack.lineno=7,e.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=8,e.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),t.push("\n\t\t\t  "),__stack.lineno=10,e.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,e.subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),t.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  <p><b>Titre : </b>',(__stack.lineno=15,e.title),"\n\t\t\t\t  "),__stack.lineno=16,e.subtitle1&&(t.push("\n\t\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=17,e.subtitle1),"</span>\n\t\t\t\t  "),__stack.lineno=18),t.push("\n\t\t\t\t  "),__stack.lineno=19,e.subtitle2&&(t.push("\n\t\t\t\t\t<span> &mdash;&nbsp;",(__stack.lineno=20,e.subtitle2),"</span>\n\t\t\t\t  "),__stack.lineno=21),t.push("\n\t\t\t  </p>\n\t\t\t  <p><b>Année de parution : </b>",(__stack.lineno=23,e.year),"</p>\n\t\t\t  "),__stack.lineno=24,e.authors.length>1){t.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=29;for(var n=0;n<e.authors.length;n++)t.push("\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t",(__stack.lineno=31,e.authors[n].name)," (",(__stack.lineno=31,e.authors[n].birth),"&nbsp;&ndash; ",(__stack.lineno=31,e.authors[n].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=33;t.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=36}else 1===e.authors.length&&(t.push("\n\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=37,e.authors[0].name)," (",(__stack.lineno=37,e.authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=37,e.authors[0].death),")</p>\n\t\t\t  "),__stack.lineno=38);if(t.push("\n\t\t\t  "),__stack.lineno=39,e.contribs.length>1){t.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=44;for(n=0;n<e.contribs.length;n++)t.push('\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=46,e.contribs[n].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=47,e.contribs[n].name)," (",(__stack.lineno=47,e.contribs[n].birth),"&nbsp;&ndash; ",(__stack.lineno=47,e.contribs[n].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=49;t.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=52}else 1===e.contribs.length&&(t.push('\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=58,e.contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=59,e.contribs[0].name)," (",(__stack.lineno=59,e.contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=59,e.contribs[0].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=63);t.push('\n\t\t\t  <p class="book-source">\n\t\t\t  '),__stack.lineno=65,e.sources.length>1?(t.push("\n\t\t\t\t<b>Sources :</b>\n\t\t\t  "),__stack.lineno=67):(t.push("\n\t\t\t\t<b>Source :</b>\n\t\t\t  "),__stack.lineno=69),t.push("\n\t\t\t\t<ul>\n\t\t\t\t"),__stack.lineno=71;for(var o=0;o<e.sources.length;o++)t.push("\n\t\t\t\t\t<li><span>",(__stack.lineno=72,e.sources[o]),"</span></li>\n\t\t\t\t"),__stack.lineno=73;return t.push("\n\t\t\t\t</ul>\n\t\t\t  </p>\n\t\t\t  "),__stack.lineno=76,e.description&&(t.push("\n\t\t\t  <div>",(__stack.lineno=77,e.description),"</div>\n\t\t\t  "),__stack.lineno=78),t.push("\n\t\t</div>\n\t</div>\n</div>\n"),t.join("")}()+'\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="slide fade slides_',escape((__stack.lineno=24,t)),'" id="slide_',escape((__stack.lineno=24,e.id)),'">\n\t\t\t\t\t\t\t<div id="paper" style="background-color: ',(__stack.lineno=25,e.styles.color),"; background-image: url(",(__stack.lineno=25,e.styles.image),')">\n\t\t\t\t\t\t\t\t<div id="',escape((__stack.lineno=26,e.id)),'" class="book" style="',escape((__stack.lineno=26,e.styles.cover)),'">\n\t\t\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=27,e.styles.author)),'">',(__stack.lineno=27,e.authorDisplay),'</p>\n\t\t\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=28,e.styles.title),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=29,e.title),"\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=31,e.subtitle1&&(buf.push('\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=32,e.styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=33,e.subtitle1),"</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=35),buf.push("\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=36,e.subtitle2&&(buf.push('\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=37,e.styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=38,e.subtitle2),"</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=40),buf.push('\n\t\t\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=41,e.styles.logo)),'">\n\t\t\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t\t\t'),__stack.lineno=48,e.visible||(buf.push('\n\t\t\t\t\t\t\t\t\t<button class="tobepublished btn">&Agrave; paraître</button>\n\t\t\t\t\t\t\t\t'),__stack.lineno=50),buf.push('\n\t\t\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=51,e.id)),'" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t'),__stack.lineno=55}buf.push("\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t"),__stack.lineno=58}buf.push("\n\t\t\t"),__stack.lineno=59}buf.push("\n\t\t\t\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t"+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=o(e(2)),s=e(85);n.default=function(t){function n(t){i.default.setHTML("#form-error",""),"email"===t.target.name?i.default.setHTML("#email .error",""):"password"===t.target.name&&i.default.setHTML("#password .error","")}t.innerHTML=s();for(var e=document.querySelector("#adminLogin").querySelector("#adminLoginForm"),o=e.querySelectorAll("input"),r=0;r<o.length;r++)o[r].addEventListener("input",n,!1);e.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(e,{});var n={};n.email=e.querySelector("[name=email]").value,n.password=e.querySelector("[name=password]").value;var o={method:"POST",url:"/users/login",data:JSON.stringify(n)};i.default.ajax(o).then(function(t){var n=JSON.parse(t);n.errors?i.default.bind(e,n.errors):(a.default.setData("currentUser",n.user),!0===n.user.admin?(i.default.removeClass("#admin-item","hidden"),i.default.removeClass("#menu-admin-item","hidden"),location.hash="#/admin/"):i.default.setHTML("#form-error","Vous n'avez pas le droit d'accéder à l'espace administration."))})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminLogin" class="content" style="min-height: 500px;">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration&ensp;&ndash;&ensp;connexion</h3>\n\t\t<form id="adminLoginForm" class="container">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="email">\n\t\t\t\t<label>Identifiant : </label>\n\t\t\t\t<input type="text" name="email" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="password">\n\t\t\t\t<label>Mot de passe : </label>\n\t\t\t\t<input type="password" name="password" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" id="loginButton" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminLogin" class="content" style="min-height: 500px;">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration&ensp;&ndash;&ensp;connexion</h3>\n\t\t<form id="adminLoginForm" class="container">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="email">\n\t\t\t\t<label>Identifiant : </label>\n\t\t\t\t<input type="text" name="email" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="password">\n\t\t\t\t<label>Mot de passe : </label>\n\t\t\t\t<input type="password" name="password" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" id="loginButton" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});o(e(0));var i=o(e(87)),a=o(e(89)),s=o(e(91)),r=o(e(93)),l=o(e(95)),c=o(e(97)),u=o(e(99)),p=o(e(101)),d=o(e(103)),h=o(e(111)),b=o(e(119)),f=o(e(121)),m=o(e(123)),g=o(e(125));n.default=function(t,n,e){var o=e,v=document.querySelector("#admin-container");return function(t){"#/admin/"===n?(0,i.default)(t,o):"#/admin/new"===n?(0,r.default)(t):"#/admin/edit/"===n?(0,l.default)(t,o):"#/admin/edit/password"===n?(0,c.default)(t,o):"#/admin/users/"===n?(0,a.default)(t):n.match(/#\/admin\/users\/[^\/]+$/)?(0,s.default)(t):"#/admin/books/"===n?(0,u.default)(t):"#/admin/books/new"===n?(0,d.default)(t):n.match(/#\/admin\/books\/[^\/]+\/edit$/)?(0,h.default)(t):n.match(/#\/admin\/books\/[^\/]+$/)?(0,p.default)(t):"#/admin/authors/"===n?(0,b.default)(t):"#/admin/authors/new"===n?(0,m.default)(t):n.match(/#\/admin\/authors\/[^\/]+\/edit$/)?(0,g.default)(t):n.match(/#\/admin\/authors\/[^\/]+$/)?(0,f.default)(v):location.hash="#/admin/"}(v)}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=o(e(2)),s=e(88);n.default=function(t,n){if(n){var e=n;t.innerHTML=s({user:e}),document.querySelector("#adminHome").querySelector("#logout-btn").addEventListener("click",function(){i.default.ajax({method:"GET",url:"/users/logout"}).then(function(t){a.default.setData("currentUser",JSON.parse(t).user),i.default.addClass("#admin-item","hidden"),i.default.addClass("#menu-admin-item","hidden"),location.hash="#/"})},!1)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminHome" class="content">\n\t<p class="padding-16"><b>Accueil</b></p>\n\t<div class="border-bottom">\n\t\t<p><%= user.name %></p>\n\t\t<p><%= user.email %></p></p>\n\t</div>\n\t<div  class="border-bottom">\n\t\t<p><a id="update-user-btn" href="/#/admin/edit/">Modifier profil</a></p>\n\t\t<p><a id="update-password-btn" href="/#/admin/edit/password">Modifier mot de passe</a></p>\n\t\t<p><a id="new-btn" href="/#/admin/new" >Nouveau compte administrateur</a></p>\n\t</div>\n\t<p class="padding-16"><button id="logout-btn" type="button" class="button">Déconnexion</button></p>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminHome" class="content">\n\t<p class="padding-16"><b>Accueil</b></p>\n\t<div class="border-bottom">\n\t\t<p>',escape((__stack.lineno=4,user.name)),"</p>\n\t\t<p>",escape((__stack.lineno=5,user.email)),'</p></p>\n\t</div>\n\t<div  class="border-bottom">\n\t\t<p><a id="update-user-btn" href="/#/admin/edit/">Modifier profil</a></p>\n\t\t<p><a id="update-password-btn" href="/#/admin/edit/password">Modifier mot de passe</a></p>\n\t\t<p><a id="new-btn" href="/#/admin/new" >Nouveau compte administrateur</a></p>\n\t</div>\n\t<p class="padding-16"><button id="logout-btn" type="button" class="button">Déconnexion</button></p>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(90);n.default=function(t){var n=t;o.default.ajax({method:"GET",url:"/users/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=i({users:[],error:e.error}):n.innerHTML=i({users:e.users,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminUsers" class="content">\n\t<p style="padding-top: 16px; margin-bottom: 0px"><b>Utilisateurs</b></p>\n\t<span class="error"><%= error %></span>\n\t<ul id="users-list" class=\'ul\' style="padding: 0px;">\n\t\t<% for(var i=0; i<users.length; i++) {%>\n\t\t<li>\n\t\t\t<p id=\'<%= users[i].id %>\'>\n\t\t\t\t<a href=\'/#/admin/users/<%= users[i].id %>\'><%= users[i].email %></a>\n\t\t\t</p>\n\t\t</li>\n\t\t<% } %>\n\t</ul>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminUsers" class="content">\n\t<p style="padding-top: 16px; margin-bottom: 0px"><b>Utilisateurs</b></p>\n\t<span class="error">',escape((__stack.lineno=3,error)),'</span>\n\t<ul id="users-list" class=\'ul\' style="padding: 0px;">\n\t\t'),__stack.lineno=5;for(var t=0;t<users.length;t++)buf.push("\n\t\t<li>\n\t\t\t<p id='",escape((__stack.lineno=7,users[t].id)),"'>\n\t\t\t\t<a href='/#/admin/users/",escape((__stack.lineno=8,users[t].id)),"'>",escape((__stack.lineno=8,users[t].email)),"</a>\n\t\t\t</p>\n\t\t</li>\n\t\t"),__stack.lineno=11;buf.push("\n\t</ul>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(92);n.default=function(t){var n=t,e=location.hash.replace(/^#\/admin\/users\//,""),a={method:"GET",url:"/users/"+e};o.default.ajax(a).then(function(t){var a=JSON.parse(t);if(a.error)n.innerHTML=i({user:{},error:a.error});else{n.innerHTML=i({user:a.user,error:""});var s=document.querySelector("#adminUser"),r=s.querySelector("#modal"),l=s.querySelector("#user");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1);var c=function(t){var n={method:"DELETE",url:"/users/"+e};o.default.ajax(n).then(function(t){var n=JSON.parse(t);n.error?(o.default.bind(l,n),r.style.display="none"):location.hash="#/admin/users/"})};r.querySelector("#delete-btn").addEventListener("click",c,!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminUser" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un utilisateur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet utilisateur&nbsp;?</p>\n\t\t\t\t<p><%= user.email %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Utilisateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/users/">Retour</a></p>\n\t<div id="user" style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><%= user.name %></p>\n\t\t\t<p><b>Email : </b><%= user.email %></p>\n\t\t\t<p><b>Admin : </b><%= user.admin %></p>\n\t\t\t<p><b>Créé le : </b><%= user.created_at %></p>\n\t\t\t<p><b>Mis à jour le : </b><%= user.updated_at %></p>\n\t\t</div>\n\t\t<p class="padding-16"><button type="button" id="open-modal-btn" class="button">Supprimer</button></p>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminUser" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un utilisateur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet utilisateur&nbsp;?</p>\n\t\t\t\t<p>',escape((__stack.lineno=13,user.email)),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Utilisateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/users/">Retour</a></p>\n\t<div id="user" style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=25,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b>',escape((__stack.lineno=28,user.name)),"</p>\n\t\t\t<p><b>Email : </b>",escape((__stack.lineno=29,user.email)),"</p>\n\t\t\t<p><b>Admin : </b>",escape((__stack.lineno=30,user.admin)),"</p>\n\t\t\t<p><b>Créé le : </b>",escape((__stack.lineno=31,user.created_at)),"</p>\n\t\t\t<p><b>Mis à jour le : </b>",escape((__stack.lineno=32,user.updated_at)),'</p>\n\t\t</div>\n\t\t<p class="padding-16"><button type="button" id="open-modal-btn" class="button">Supprimer</button></p>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(94);n.default=function(t){function n(t){o.default.setHTML("#form-error",""),"name"===t.target.name?o.default.setHTML("#name .error",""):"email"===t.target.name?o.default.setHTML("#email .error",""):"password"===t.target.name?o.default.setHTML("#password .error",""):"password_confirm"===t.target.name&&o.default.setHTML("#password_confirm .error","")}t.innerHTML=i();for(var e=document.querySelector("#adminNew").querySelector("#adminRegisterForm"),a=e.querySelectorAll("input"),s=0;s<a.length;s++)a[s].addEventListener("input",n,!1);e.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(e,{});var n={};n.name=e.querySelector("[name=name]").value,n.email=e.querySelector("[name=email]").value,n.password=e.querySelector("[name=password]").value,n.password_confirm=e.querySelector("[name=password_confirm]").value;var i={method:"POST",url:"/users/admin/new",data:JSON.stringify(n)};o.default.ajax(i).then(function(t){var n=JSON.parse(t);n.errors?o.default.bind(e,n.errors):location.hash="#/admin/users/"})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminNew" class="content">\n\t<p class="align-left padding-16"><b>Nouveau compte administrateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminRegisterForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminNew" class="content">\n\t<p class="align-left padding-16"><b>Nouveau compte administrateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminRegisterForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(96);n.default=function(t,n){function e(t){o.default.setHTML("#form-error",""),"name"===t.target.name?o.default.setHTML("#name .error",""):"email"===t.target.name?o.default.setHTML("#email .error",""):"password"===t.target.name&&o.default.setHTML("#password .error","")}t.innerHTML=i();var a=document.querySelector("#adminEdit").querySelector("#adminEditForm"),s=a.querySelectorAll("input"),r=n;a.querySelector("[name=name]").value=r.name,a.querySelector("[name=email]").value=r.email;for(var l=0;l<s.length;l++)s[l].addEventListener("input",e,!1);a.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(a,{});var n={};n.name=a.querySelector("[name=name]").value,n.email=a.querySelector("[name=email]").value,n.password=a.querySelector("[name=password]").value;var e={method:"PUT",url:"/users/"+r.id,data:JSON.stringify(n)};o.default.ajax(e).then(function(t){var n=JSON.parse(t);n.errors?o.default.bind(a,n.errors):location.hash="#/admin/"})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre profil</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre profil</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(98);n.default=function(t,n){function e(t){o.default.setHTML("#form-error",""),"password"===t.target.name?o.default.setHTML("#password .error",""):"password_new"===t.target.name?o.default.setHTML("#password_new .error",""):"password_new_confirm"===t.target.name&&o.default.setHTML("#password_new_confirm .error","")}var a=n;t.innerHTML=i();for(var s=document.querySelector("#adminEditPassword").querySelector("#adminEditPasswordForm"),r=s.querySelectorAll("input"),l=0;l<r.length;l++)r[l].addEventListener("input",e,!1);s.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(s,{});var n={};n.password=s.querySelector("[name=password]").value,n.password_new=s.querySelector("[name=password_new]").value,n.password_new_confirm=s.querySelector("[name=password_new_confirm]").value;var e={method:"PUT",url:"/users/password/"+a.id,data:JSON.stringify(n)};o.default.ajax(e).then(function(t){var n=JSON.parse(t);n.errors?o.default.bind(s,n.errors):(s.querySelector("[name=password]").value="",s.querySelector("[name=password_new]").value="",s.querySelector("[name=password_new_confirm]").value="",o.default.bind(s,{message:"Votre mot de passe a été changé."}),o.default.addClass("#form-error","hidden"),o.default.removeClass("#form-succes","hidden"))})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminEditPassword" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre mot de passe</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditPasswordForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t<span class="success hidden" id="form-success" data-utils-bind="{{ message }}"></span>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe actuel : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new">\n\t\t\t<label>Nouveau mot de passe : </label>\n\t\t\t<input type="password" name="password_new" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_new_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminEditPassword" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre mot de passe</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditPasswordForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t<span class="success hidden" id="form-success" data-utils-bind="{{ message }}"></span>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe actuel : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new">\n\t\t\t<label>Nouveau mot de passe : </label>\n\t\t\t<input type="password" name="password_new" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_new_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(100);n.default=function(t){var n=t;o.default.ajax({method:"GET",url:"/books/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=i({books:[],error:e.error}):n.innerHTML=i({books:e.books,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBooks" class="content">\n\t<p class="padding-16 align-left"><b>Ouvrages</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/books/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<ul id="books-list" class=\'ul\' style="padding: 0px">\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= books[i].id %>\'>\n\t\t\t\t\t\t<%- books[i].title %>&ensp;\n\t\t\t\t\t\t(<%- books[i].authorDisplay %>)\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBooks" class="content">\n\t<p class="padding-16 align-left"><b>Ouvrages</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/books/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=5,error)),'</span>\n\t\t<ul id="books-list" class=\'ul\' style="padding: 0px">\n\t\t\t'),__stack.lineno=7;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=10,books[t].id)),"'>\n\t\t\t\t\t\t",(__stack.lineno=11,books[t].title),"&ensp;\n\t\t\t\t\t\t(",(__stack.lineno=12,books[t].authorDisplay),")\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t"),__stack.lineno=16;buf.push("\n\t\t</ul>\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(102);n.default=function(t){var n=location.hash.replace(/^#\/admin\/books\//,""),e=t,a={method:"GET",url:"/books/"+n};o.default.ajax(a).then(function(t){var a=JSON.parse(t);if(a.error)e.innerHTML=i({book:{},error:a.error});else{e.innerHTML=i({book:a.book,error:""});var s=document.querySelector("#adminBook"),r=s.querySelector("#modal"),l=s.querySelector("#book");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1);var c=function(t){var e={method:"DELETE",url:"/books/"+n};o.default.ajax(e).then(function(t){var n=JSON.parse(t);n.error?(o.default.bind(l,n,"error"),r.style.display="none"):location.hash="#/admin/books/"})};r.querySelector("#delete-btn").addEventListener("click",c,!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBook" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un ouvrage</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet ouvrage ?</p>\n\t\t\t\t<p><%- book.title %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div id="book" style="clear: both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Titre : </b><span><%- book.title %></span></p>\n\t\t\t<p><b>Sous-titre1 : </b><span><%- book.subtitle1 %></span></p>\n\t\t\t<p><b>Sous-titre2 : </b><span><%- book.subtitle2 %></span></p>\n\t\t\t<p><b>Auteur (libellé) : </b><span><%- book.authorDisplay %></span></p>\n\t\t\t<p>\n\t\t\t\t<% if (book.authors.length===1) { %>\n\t\t\t\t\t<span><b>Auteur :</b></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t<% } %>\n\t\t\t</p>\n\t\t\t<ul id="authors-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<book.authors.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/authors/<%= book.authors[i].id %>\'>\n\t\t\t\t\t\t<%= book.authors[i].name %>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t<% if (book.contribs.length===1) { %>\n\t\t\t\t\t<span><b>Contributeur :</b></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span><b>Contributeurs :</b></span>\n\t\t\t\t<% } %>\n\t\t\t</p>\n\t\t\t<ul id="contribs-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<book.contribs.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/authors/<%= book.contribs[i].id %>\'>\n\t\t\t\t\t\t<%= book.contribs[i].name %> (<%= book.contribs[i].role %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p><b>Année de publication : </b><span><%= book.year %></span></p>\n\t\t\t<p><b>Langue : </b><span><%= book.language %></span></p>\n\t\t\t<p><b>Sources :</b></p>\n\t\t\t<ul class=\'ul\'>\n\t\t\t<% for(var i=0; i<book.sources.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<p id="<%= i %>" >\n\t\t\t\t\t\t<span><%- book.sources[i] %></span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p><b>Styles :</b></p>\n\t\t\t<ul class=\'ul\'>\n\t\t\t\t<li><b>Couleur : </b><span><%= book.styles.color %></span></li>\n\t\t\t\t<li><b>Image : </b><span><%= book.styles.image %></span></li>\n\t\t\t\t<li><b>Police : </b><span><%= book.styles.font %></span></li>\n\t\t\t\t<li><b>Couverture : </b><span><%= book.styles.cover %></span></li>\n\t\t\t\t<li><b>Auteur : </b><span><%= book.styles.author %></span></li>\n\t\t\t\t<li><b>Titre : </b><span><%= book.styles.title %></span></li>\n\t\t\t\t<li><b>Sous-titre1 : </b><span><%= book.styles.subtitle1 %></span></li>\n\t\t\t\t<li><b>Sous-titre2 : </b><span><%= book.styles.subtitle2 %></span></li>\n\t\t\t\t<li><b>Logo : </b><span><%= book.styles.logo %></span></li>\n\t\t\t</ul>\n\t\t\t<p><b>Collection : </b><span><%= book.collection %></span></p>\n\t\t\t<p><b>Description :</b></p>\n\t\t\t<div><%= book.description %></div>\n\t\t\t<p><b>Path : </b><span><%= book.path %></span></p>\n\t\t\t<p><b>Visible : </b><span><% if(book.visible===true) {%>oui<%} else {%>non<%}%></span></p>\n\t\t\t<p><b>Créé le : </b><span><%= book.created_at %></span></p>\n\t\t\t<p><b>Mis à jour le : </b><span><%= book.updated_at %></span></p>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/books/<%= book.id %>/edit" class="button">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBook" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un ouvrage</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet ouvrage ?</p>\n\t\t\t\t<p>',(__stack.lineno=13,book.title),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div id="book" style="clear: both">\n\t\t<span class="error">',escape((__stack.lineno=26,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Titre : </b><span>',(__stack.lineno=29,book.title),"</span></p>\n\t\t\t<p><b>Sous-titre1 : </b><span>",(__stack.lineno=30,book.subtitle1),"</span></p>\n\t\t\t<p><b>Sous-titre2 : </b><span>",(__stack.lineno=31,book.subtitle2),"</span></p>\n\t\t\t<p><b>Auteur (libellé) : </b><span>",(__stack.lineno=32,book.authorDisplay),"</span></p>\n\t\t\t<p>\n\t\t\t\t"),__stack.lineno=34,1===book.authors.length?(buf.push("\n\t\t\t\t\t<span><b>Auteur :</b></span>\n\t\t\t\t"),__stack.lineno=36):(buf.push("\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t"),__stack.lineno=38),buf.push("\n\t\t\t</p>\n\t\t\t<ul id=\"authors-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=41;for(var t=0;t<book.authors.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/authors/",escape((__stack.lineno=43,book.authors[t].id)),"'>\n\t\t\t\t\t\t",escape((__stack.lineno=44,book.authors[t].name)),"\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=47;buf.push("\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t"),__stack.lineno=50,1===book.contribs.length?(buf.push("\n\t\t\t\t\t<span><b>Contributeur :</b></span>\n\t\t\t\t"),__stack.lineno=52):(buf.push("\n\t\t\t\t\t<span><b>Contributeurs :</b></span>\n\t\t\t\t"),__stack.lineno=54),buf.push("\n\t\t\t</p>\n\t\t\t<ul id=\"contribs-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=57;for(t=0;t<book.contribs.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/authors/",escape((__stack.lineno=59,book.contribs[t].id)),"'>\n\t\t\t\t\t\t",escape((__stack.lineno=60,book.contribs[t].name))," (",escape((__stack.lineno=60,book.contribs[t].role)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=63;buf.push("\n\t\t\t</ul>\n\t\t\t<p><b>Année de publication : </b><span>",escape((__stack.lineno=65,book.year)),"</span></p>\n\t\t\t<p><b>Langue : </b><span>",escape((__stack.lineno=66,book.language)),"</span></p>\n\t\t\t<p><b>Sources :</b></p>\n\t\t\t<ul class='ul'>\n\t\t\t"),__stack.lineno=69;for(t=0;t<book.sources.length;t++)buf.push('\n\t\t\t\t<li>\n\t\t\t\t\t<p id="',escape((__stack.lineno=71,t)),'" >\n\t\t\t\t\t\t<span>',(__stack.lineno=72,book.sources[t]),"</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t"),__stack.lineno=75;buf.push("\n\t\t\t</ul>\n\t\t\t<p><b>Styles :</b></p>\n\t\t\t<ul class='ul'>\n\t\t\t\t<li><b>Couleur : </b><span>",escape((__stack.lineno=79,book.styles.color)),"</span></li>\n\t\t\t\t<li><b>Image : </b><span>",escape((__stack.lineno=80,book.styles.image)),"</span></li>\n\t\t\t\t<li><b>Police : </b><span>",escape((__stack.lineno=81,book.styles.font)),"</span></li>\n\t\t\t\t<li><b>Couverture : </b><span>",escape((__stack.lineno=82,book.styles.cover)),"</span></li>\n\t\t\t\t<li><b>Auteur : </b><span>",escape((__stack.lineno=83,book.styles.author)),"</span></li>\n\t\t\t\t<li><b>Titre : </b><span>",escape((__stack.lineno=84,book.styles.title)),"</span></li>\n\t\t\t\t<li><b>Sous-titre1 : </b><span>",escape((__stack.lineno=85,book.styles.subtitle1)),"</span></li>\n\t\t\t\t<li><b>Sous-titre2 : </b><span>",escape((__stack.lineno=86,book.styles.subtitle2)),"</span></li>\n\t\t\t\t<li><b>Logo : </b><span>",escape((__stack.lineno=87,book.styles.logo)),"</span></li>\n\t\t\t</ul>\n\t\t\t<p><b>Collection : </b><span>",escape((__stack.lineno=89,book.collection)),"</span></p>\n\t\t\t<p><b>Description :</b></p>\n\t\t\t<div>",escape((__stack.lineno=91,book.description)),"</div>\n\t\t\t<p><b>Path : </b><span>",escape((__stack.lineno=92,book.path)),"</span></p>\n\t\t\t<p><b>Visible : </b><span>"),__stack.lineno=93,!0===book.visible?(buf.push("oui"),__stack.lineno=93):(buf.push("non"),__stack.lineno=93),buf.push("</span></p>\n\t\t\t<p><b>Créé le : </b><span>",escape((__stack.lineno=94,book.created_at)),"</span></p>\n\t\t\t<p><b>Mis à jour le : </b><span>",escape((__stack.lineno=95,book.updated_at)),'</span></p>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/books/',escape((__stack.lineno=98,book.id)),'/edit" class="button">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=(o(e(2)),e(104)),s=e(105),r=e(106),l=e(107),c=e(108),u=e(109),p=e(110);n.default=function(t){function n(t){i.default.setHTML("#form-error",""),"title"===t.target.name?i.default.setHTML("#title .error",""):"authorDisplay"===t.target.name?i.default.setHTML("#authorDisplay .error",""):"year"===t.target.name?i.default.setHTML("#year .error",""):"language"===t.target.name?i.default.setHTML("#language .error",""):"path"===t.target.name&&i.default.setHTML("#path .error","")}function e(t){var n=t.target.parentElement.id,e=t.target.parentElement.firstElementChild.innerHTML;if("auteur"===x){S.push(n),w.push({id:n,name:e}),i.default.setHTML("#authors .error",""),k.innerHTML=l({selectedAuthors:w}),O();for(var a=k.querySelectorAll(".delete-btn"),s=0;s<a.length;s++)a[s].addEventListener("click",o,!1)}else"contributeur"===x&&(i.default.addClass("#search","hidden"),v.innerHTML=u({selectedContrib:{id:n,name:e}}),v.querySelector("#add-contrib-role-btn").addEventListener("click",function(t){var i=v.querySelector("[name=contrib-role]").value;E.push({id:n,role:i}),T.push({id:n,name:e,role:i}),_.innerHTML=c({selectedContribs:T}),O();for(var a=_.querySelectorAll(".delete-btn"),s=0;s<a.length;s++)a[s].addEventListener("click",o,!1)},!1))}function o(t){var n=t.target.parentElement.id;if("auteur"===(x=t.target.id)){S.splice(n,1),w.splice(n,1),k.innerHTML=l({selectedAuthors:w});for(var e=k.querySelectorAll(".delete-btn"),i=0;i<e.length;i++)e[i].addEventListener("click",o,!1)}else if("contributeur"===x){E.splice(n,1),T.splice(n,1),_.innerHTML=c({selectedContribs:T});for(var a=_.querySelectorAll(".delete-btn"),s=0;s<a.length;s++)a[s].addEventListener("click",o,!1)}}function d(t){var n=t.target.parentElement.id;C.splice(n,1),sourcesContainer.innerHTML=p({sources:C});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",d,!1)}t.innerHTML=a();for(var h=document.querySelector("#adminBooksNew"),b=h.querySelector("#adminBooksNewForm"),f=b.querySelectorAll("input"),m=h.querySelector("#modal"),g=m.querySelector("input"),v=m.querySelector("#results"),y=h.querySelector("#source_modal"),k=h.querySelector("#authorsContainer"),_=h.querySelector("#contribsContainer"),x="",w=[],S=[],T=[],E=[],C=[],q="",A=0;A<f.length;A++)f[A].addEventListener("input",n,!1);b.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(b,{});var n={};n.source={},n.styles={},n.title=b.querySelector("[name=title]").value,n.subtitle1=b.querySelector("[name=subtitle1]").value,n.subtitle2=b.querySelector("[name=subtitle2]").value,n.authorDisplay=b.querySelector("[name=authorDisplay]").value,n.year=b.querySelector("[name=year]").value,n.language=b.querySelector("[name=language]").value,n.categories=b.querySelector("[name=categories]").value,n.collection=b.querySelector("[name=collection]").value,n.sources=C,n.styles.color=b.querySelector("[name=styles-color").value,n.styles.image=b.querySelector("[name=styles-image").value,n.styles.font=b.querySelector("[name=styles-font").value,n.styles.cover=b.querySelector("[name=styles-cover").value,n.styles.author=b.querySelector("[name=styles-author").value,n.styles.title=b.querySelector("[name=styles-title").value,n.styles.subtitle1=b.querySelector("[name=styles-subtitle1").value,n.styles.subtitle2=b.querySelector("[name=styles-subtitle2").value,n.styles.logo=b.querySelector("[name=styles-logo").value,n.description=b.querySelector("[name=description]").value,n.path=b.querySelector("[name=path]").value,n.visible=!!b.querySelector("[name=visible]").checked,n.authors=S,n.contribs=E;var e={method:"POST",url:"/books/",data:JSON.stringify(n)};i.default.ajax(e).then(function(t){var n=JSON.parse(t);n.errors?i.default.bind(b,n.errors):location.hash="#/admin/books/"})},!1);for(var L=function(t){t.preventDefault(),x=t.target.id,document.querySelector("#modal h4").innerHTML=s({authType:x}),i.default.removeClass("#search","hidden"),m.style.display="block"},M=h.querySelectorAll(".open-modal-btn"),N=0;N<M.length;N++)M[N].addEventListener("click",L,!1);var O=function(){m.style.display="none",g.value="",v.innerHTML=""};m.querySelector("#close-modal-btn").addEventListener("click",O,!1),g.addEventListener("keyup",function(t){var n={method:"GET",url:"/authors/search?q="+t.target.value};i.default.ajax(n).then(function(t){var n=JSON.parse(t);if(n.error)i.default.bind(m,n,"error");else{t!==q&&(q=t,v.innerHTML=r({authors:n.authors}));for(var o=m.querySelectorAll(".add-btn"),a=0;a<o.length;a++)o[a].addEventListener("click",e,!1)}}).catch(function(t){console.log(t)})},!1);document.querySelector("#open-source-modal-btn").addEventListener("click",function(t){t.preventDefault(),y.style.display="block"},!1);document.querySelector("#close-source-modal-btn").addEventListener("click",function(t){y.style.display="none"},!1);document.querySelector("#add-source-btn").addEventListener("click",function(t){var n=y.querySelector("[name=source]").value;C.push(n),sourcesContainer.innerHTML=p({sources:C});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",d,!1)},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBooksNew" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ajouter un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBooksNewForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<a href="/#/authors" id="auteur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32"></ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<a href="/#/contribs" id="contributeur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" class="input" style="display: block; width: 100%"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminBooksNew" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ajouter un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBooksNewForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<a href="/#/authors" id="auteur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32"></ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<a href="/#/contribs" id="contributeur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" class="input" style="display: block; width: 100%"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<span>Rechercher un <%= authType %></span>\n",filename:"."};try{var buf=[];with(locals||{})buf.push("<span>Rechercher un ",escape((__stack.lineno=1,authType)),"</span>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<ul class="ul">\n<% for(var i=0; i<authors.length; i++) {%>\n<li>\n\t<p id="<%= authors[i].id %>" >\n\t\t<span><%- authors[i].name %></span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n<% } %>\n</ul>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<ul class="ul">\n'),__stack.lineno=2;for(var t=0;t<authors.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=4,authors[t].id)),'" >\n\t\t<span>',(__stack.lineno=5,authors[t].name),'</span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n</ul>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedAuthors.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t<span><%- selectedAuthors[i].name %></span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,selectedAuthors[t].name),'</span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedContribs.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t<span><%- selectedContribs[i].name %> </span>\n\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedContribs.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedContribs[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,selectedContribs[t].name)," </span>\n\t\t<span>(",escape((__stack.lineno=5,selectedContribs[t].role)),')</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<p id="<%= selectedContrib.id %>"><%= selectedContrib.name %></p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<p id="',escape((__stack.lineno=1,selectedContrib.id)),'">',escape((__stack.lineno=1,selectedContrib.name)),'</p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<sources.length; i++) {%>\n<li>\n\t<p id="<%= i %>" >\n\t\t<span><%- sources[i] %></span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<sources.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,sources[t]),'</span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=(o(e(2)),e(112)),s=e(113),r=e(114),l=e(115),c=e(116),u=e(117),p=e(118);n.default=function(t){var n=location.hash.replace(/(#\/admin\/books\/|\/edit)/g,""),e=t,o={method:"GET",url:"/books/"+n};i.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)console.log(o.error);else{for(var d=function(t){i.default.setHTML("#form-error",""),"title"===t.target.name?i.default.setHTML("#title .error",""):"authorDisplay"===t.target.name?i.default.setHTML("#authorDisplay .error",""):"year"===t.target.name?i.default.setHTML("#year .error",""):"language"===t.target.name?i.default.setHTML("#language .error",""):"path"===t.target.name&&i.default.setHTML("#path .error","")},h=function(t){t.preventDefault(),i.default.bind(M,{});var e={};e.source={},e.styles={},e.title=M.querySelector("[name=title]").value,e.subtitle1=M.querySelector("[name=subtitle1]").value,e.subtitle2=M.querySelector("[name=subtitle2]").value,e.authorDisplay=M.querySelector("[name=authorDisplay]").value,e.year=M.querySelector("[name=year]").value,e.language=M.querySelector("[name=language]").value,e.categories=M.querySelector("[name=categories]").value,e.collection=M.querySelector("[name=collection]").value,e.sources=E,e.styles.color=M.querySelector("[name=styles-color").value,e.styles.image=M.querySelector("[name=styles-image").value,e.styles.font=M.querySelector("[name=styles-font").value,e.styles.cover=M.querySelector("[name=styles-cover").value,e.styles.author=M.querySelector("[name=styles-author").value,e.styles.title=M.querySelector("[name=styles-title").value,e.styles.subtitle1=M.querySelector("[name=styles-subtitle1").value,e.styles.subtitle2=M.querySelector("[name=styles-subtitle2").value,e.styles.logo=M.querySelector("[name=styles-logo").value,e.description=M.querySelector("[name=description]").value,e.path=M.querySelector("[name=path]").value,e.visible=!!M.querySelector("[name=visible]").checked,e.authors=w,e.contribs=T;var o={method:"PUT",url:"/books/"+n,data:JSON.stringify(e)};i.default.ajax(o).then(function(t){var e=JSON.parse(t);e.errors?i.default.bind(M,e.errors):location.hash="#/admin/books/"+n})},b=function(t){var n={method:"GET",url:"/authors/search?q="+t.target.value};i.default.ajax(n).then(function(t){var n=JSON.parse(t);if(n.error)i.default.bind(O,n,"error");else{t!==_&&(_=t,D.innerHTML=r({authors:n.authors}));for(var e=O.querySelectorAll(".add-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",f,!1)}}).catch(function(t){console.log(t)})},f=function(t){var n=t.target.parentElement.id,e=t.target.parentElement.firstElementChild.innerHTML;if("auteur"===k){w.push(n),x.push({id:n,name:e}),i.default.setHTML("#authors .error",""),z.innerHTML=l({selectedAuthors:x}),G();for(var o=z.querySelectorAll(".delete-btn"),a=0;a<o.length;a++)o[a].addEventListener("click",m,!1)}else"contributeur"===k&&(i.default.addClass("#search","hidden"),D.innerHTML=u({selectedContrib:{id:n,name:e}}),D.querySelector("#add-contrib-role-btn").addEventListener("click",function(t){var o=D.querySelector("[name=contrib-role]").value;T.push({id:n,role:o}),S.push({id:n,name:e,role:o}),P.innerHTML=c({selectedContribs:S}),G();for(var i=P.querySelectorAll(".delete-btn"),a=0;a<i.length;a++)i[a].addEventListener("click",m,!1)},!1))},m=function t(n){var e=n.target.parentElement.id;if(console.log(e),"auteur"===(k=n.target.id)){w.splice(e,1),x.splice(e,1),z.innerHTML=l({selectedAuthors:x});for(var o=z.querySelectorAll(".delete-btn"),i=0;i<o.length;i++)o[i].addEventListener("click",t,!1)}else if("contributeur"===k){T.splice(e,1),S.splice(e,1),P.innerHTML=c({selectedContribs:S});for(var a=P.querySelectorAll(".delete-btn"),s=0;s<a.length;s++)a[s].addEventListener("click",t,!1)}},g=function(t){var n=I.querySelector("[name=source]").value;E.push(n),sourcesContainer.innerHTML=p({sources:E});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",v,!1)},v=function t(n){var e=n.target.parentElement.id;E.splice(e,1),sourcesContainer.innerHTML=p({sources:E});for(var o=sourcesContainer.querySelectorAll(".delete-source-btn"),i=0;i<o.length;i++)o[i].addEventListener("click",t,!1)},y=o.book,k="",_="",x=[],w=[],S=[],T=[],E=[],C=0;C<y.authors.length;C++)w.push(y.authors[C].id),x.push(y.authors[C]);for(var q=0;q<y.contribs.length;q++)T.push(y.contribs[q]),S.push(y.contribs[q]);for(var A=0;A<y.sources.length;A++)E.push(y.sources[A]);e.innerHTML=a({book:y,selectedAuthors:x,selectedContribs:S,sources:E});for(var L=document.querySelector("#adminBookEdit"),M=L.querySelector("#adminBookEditForm"),N=M.querySelectorAll("input"),O=L.querySelector("#modal"),j=O.querySelector("input"),D=O.querySelector("#results"),I=L.querySelector("#source_modal"),z=L.querySelector("#authorsContainer"),P=L.querySelector("#contribsContainer"),H=M.querySelectorAll(".delete-btn"),R=0;R<H.length;R++)H[R].addEventListener("click",m,!1);for(var F=0;F<N.length;F++)N[F].addEventListener("input",d,!1);M.addEventListener("submit",h,!1);for(var B=function(t){t.preventDefault(),k=t.target.id,document.querySelector("#modal h4").innerHTML=s({authType:k}),i.default.removeClass("#search","hidden"),O.style.display="block"},W=L.querySelectorAll(".open-modal-btn"),V=0;V<W.length;V++)W[V].addEventListener("click",B,!1);var G=function(){O.style.display="none",j.value="",D.innerHTML=""};O.querySelector("#close-modal-btn").addEventListener("click",G,!1),j.addEventListener("keyup",b,!1);var U=function(t){t.preventDefault(),I.style.display="block"};document.querySelector("#open-source-modal-btn").addEventListener("click",U,!1);var X=function(t){I.style.display="none"};document.querySelector("#close-source-modal-btn").addEventListener("click",X,!1),document.querySelector("#add-source-btn").addEventListener("click",g,!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBookEdit" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Modifier un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/<%= book.id %>">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBookEditForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input" value="<%= book.title %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input" value="<%= book.subtitle1 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input" value="<%= book.subtitle2 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input" value="<%= book.authorDisplay %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<button type="button" id="auteur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32">\n\t\t\t\t\t\t<% for(var i=0; i<selectedAuthors.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%= selectedAuthors[i].name %></span>\n\t\t\t\t\t\t\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<button type="button" id="contributeur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32">\n\t\t\t\t\t\t<% for(var i=0; i<selectedContribs.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%= selectedContribs[i].name %> </span>\n\t\t\t\t\t\t\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t\t\t\t\t\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input" value="<%= book.year %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input" value="<%= book.language %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input" value="<%= book.categories %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input" value="<%= book.collection %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32">\n\t\t\t\t\t<% for(var i=0; i<sources.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%- sources[i] %></span>\n\t\t\t\t\t\t\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" value="<%= book.styles.color %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" value="<%= book.styles.image %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" value="<%= book.styles.font %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" value="<%= book.styles.cover %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" value="<%= book.styles.author %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" value="<%= book.styles.title %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" value="<%= book.styles.subtitle1 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" value="<%= book.styles.subtitle2 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" value="<%= book.styles.logo %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" value="<%= book.description %>" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input" value="<%= book.path %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" <% if(book.visible) {%> checked <%}%> > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBookEdit" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Modifier un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/',escape((__stack.lineno=44,book.id)),'">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBookEditForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input" value="',escape((__stack.lineno=52,book.title)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input" value="',escape((__stack.lineno=58,book.subtitle1)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input" value="',escape((__stack.lineno=63,book.subtitle2)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input" value="',escape((__stack.lineno=68,book.authorDisplay)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<button type="button" id="auteur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32">\n\t\t\t\t\t\t'),__stack.lineno=80;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="',escape((__stack.lineno=82,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=82,t)),'" >\n\t\t\t\t\t\t\t\t<span>',escape((__stack.lineno=83,selectedAuthors[t].name)),'</span>\n\t\t\t\t\t\t\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t'),__stack.lineno=88;buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<button type="button" id="contributeur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32">\n\t\t\t\t\t\t'),__stack.lineno=103;for(t=0;t<selectedContribs.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="',escape((__stack.lineno=105,selectedContribs[t].id)),'" id="',escape((__stack.lineno=105,t)),'" >\n\t\t\t\t\t\t\t\t<span>',escape((__stack.lineno=106,selectedContribs[t].name))," </span>\n\t\t\t\t\t\t\t\t<span>(",escape((__stack.lineno=107,selectedContribs[t].role)),')</span>\n\t\t\t\t\t\t\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t'),__stack.lineno=112;buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input" value="',escape((__stack.lineno=120,book.year)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input" value="',escape((__stack.lineno=126,book.language)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input" value="',escape((__stack.lineno=132,book.categories)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input" value="',escape((__stack.lineno=138,book.collection)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32">\n\t\t\t\t\t'),__stack.lineno=150;for(t=0;t<sources.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p id="',escape((__stack.lineno=152,t)),'" >\n\t\t\t\t\t\t\t\t<span>',(__stack.lineno=153,sources[t]),'</span>\n\t\t\t\t\t\t\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t'),__stack.lineno=157;buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" value="',escape((__stack.lineno=164,book.styles.color)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" value="',escape((__stack.lineno=169,book.styles.image)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" value="',escape((__stack.lineno=174,book.styles.font)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" value="',escape((__stack.lineno=179,book.styles.cover)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" value="',escape((__stack.lineno=184,book.styles.author)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" value="',escape((__stack.lineno=189,book.styles.title)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" value="',escape((__stack.lineno=194,book.styles.subtitle1)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" value="',escape((__stack.lineno=199,book.styles.subtitle2)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" value="',escape((__stack.lineno=204,book.styles.logo)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" value="',escape((__stack.lineno=209,book.description)),'" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input" value="',escape((__stack.lineno=214,book.path)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" '),__stack.lineno=219,book.visible&&(buf.push(" checked "),__stack.lineno=219),buf.push(' > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<span>Rechercher un <%= authType %></span>\n",filename:"."};try{var buf=[];with(locals||{})buf.push("<span>Rechercher un ",escape((__stack.lineno=1,authType)),"</span>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<ul class="ul">\n<% for(var i=0; i<authors.length; i++) {%>\n<li>\n\t<p id="<%= authors[i].id %>" >\n\t\t<span><%= authors[i].name %></span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n<% } %>\n</ul>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<ul class="ul">\n'),__stack.lineno=2;for(var t=0;t<authors.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=4,authors[t].id)),'" >\n\t\t<span>',escape((__stack.lineno=5,authors[t].name)),'</span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n</ul>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedAuthors.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t<span><%= selectedAuthors[i].name %></span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',escape((__stack.lineno=4,selectedAuthors[t].name)),'</span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedContribs.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t<span><%= selectedContribs[i].name %> </span>\n\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedContribs.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedContribs[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',escape((__stack.lineno=4,selectedContribs[t].name))," </span>\n\t\t<span>(",escape((__stack.lineno=5,selectedContribs[t].role)),')</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<p id="<%= selectedContrib.id %>"><%= selectedContrib.name %></p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<p id="',escape((__stack.lineno=1,selectedContrib.id)),'">',escape((__stack.lineno=1,selectedContrib.name)),'</p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<sources.length; i++) {%>\n<li>\n\t<p id="<%= i %>" >\n\t\t<span><%- sources[i] %></span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<sources.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,sources[t]),'</span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(120);n.default=function(t){var n=t;o.default.ajax({method:"GET",url:"/authors/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=i({authors:[],error:e.error}):n.innerHTML=i({authors:e.authors,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthors" class="content">\n\t<p class="padding-16 align-left"><b>Auteurs</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/authors/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<ul id="authors-list" class="ul" style="padding: 0px;">\n\t\t\t<% for(var i=0; i<authors.length; i++) {%>\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="/#/admin/authors/<%= authors[i].id %>">\n\t\t\t\t\t\t<%- authors[i].name %> (<%= authors[i].birth %>&thinsp;&ndash;&thinsp;<%= authors[i].death %>)\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminAuthors" class="content">\n\t<p class="padding-16 align-left"><b>Auteurs</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/authors/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=5,error)),'</span>\n\t\t<ul id="authors-list" class="ul" style="padding: 0px;">\n\t\t\t'),__stack.lineno=7;for(var t=0;t<authors.length;t++)buf.push('\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="/#/admin/authors/',escape((__stack.lineno=10,authors[t].id)),'">\n\t\t\t\t\t\t',(__stack.lineno=11,authors[t].name)," (",escape((__stack.lineno=11,authors[t].birth)),"&thinsp;&ndash;&thinsp;",escape((__stack.lineno=11,authors[t].death)),")\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t"),__stack.lineno=15;buf.push("\n\t\t</ul>\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(122);n.default=function(t){var n=location.hash.replace(/^#\/admin\/authors\//,""),e=t,a={method:"GET",url:"/authors/"+n};o.default.ajax(a).then(function(t){var a=JSON.parse(t);if(a.error)e.innerHTML=i({author:{},error:a.error});else{e.innerHTML=i({author:a.author,error:""});var s=document.querySelector("#adminAuthor"),r=s.querySelector("#modal"),l=s.querySelector("#author");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1);var c=function(t){var e={method:"DELETE",url:"/authors/"+n};o.default.ajax(e).then(function(t){var n=JSON.parse(t);n.error?(o.default.bind(l,n,"error"),r.style.display="none"):location.hash="#/admin/authors/"})};r.querySelector("#delete-btn").addEventListener("click",c,!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthor" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet auteur ?</p>\n\t\t\t\t<p><%= author.name %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t\n\t<p class="align-left padding-16"><b>Auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t<div id="author" style="clear: both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><span><%- author.name %></span></p>\n\t\t\t<p><b>Nom alphabétique : </b><span><%= author.nameAlpha %></p>\n\t\t\t<p><b>Date de naissance : </b><span><%= author.birth %></p>\n\t\t\t<p><b>Date de décès : </b><span><%= author.death %></p>\n\t\t\t<p><b>Description : </b></p>\n\t\t\t<div><%= author.description %></div>\n\t\t\t<p><b>Visible : </b><span><% if(author.visible===true) {%>oui<%} else {%>non<%}%></span></p>\n\t\t\t<p><b>Créé le : </b><span></span><%= author.created_at %></p>\n\t\t\t<p><b>Mis à jour le : </b><span><%= author.updated_at %></p>\n\t\t\t<% if(author.books.length > 0) { %>\n\t\t\t<p>\n\t\t\t\t<span><b>Œuvres :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<author.books.length; i++) { %>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= author.books[i].id %>\'>\n\t\t\t\t\t\t<%- author.books[i].title %> (<%= author.books[i].year %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<% } %>\n\t\t\t<% if(author.contribs.length > 0) { %>\n\t\t\t<p>\n\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul margin-bottom\' style="padding: 0px">\n\t\t\t\t<% for(var i=0; i<author.contribs.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= author.contribs[i].book.id %>\' class="w3-text-gray w3-hover-none w3-hover-text-black">\n\t\t\t\t\t\t<%- author.contribs[i].book.title %> (<%= author.contribs[i].role %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<% } %>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/authors/<%= author.id %>/edit">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})!function(){if(buf.push('<div id="adminAuthor" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet auteur ?</p>\n\t\t\t\t<p>',escape((__stack.lineno=13,author.name)),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t\n\t<p class="align-left padding-16"><b>Auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t<div id="author" style="clear: both">\n\t\t<span class="error">',escape((__stack.lineno=27,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><span>',(__stack.lineno=30,author.name),"</span></p>\n\t\t\t<p><b>Nom alphabétique : </b><span>",escape((__stack.lineno=31,author.nameAlpha)),"</p>\n\t\t\t<p><b>Date de naissance : </b><span>",escape((__stack.lineno=32,author.birth)),"</p>\n\t\t\t<p><b>Date de décès : </b><span>",escape((__stack.lineno=33,author.death)),"</p>\n\t\t\t<p><b>Description : </b></p>\n\t\t\t<div>",escape((__stack.lineno=35,author.description)),"</div>\n\t\t\t<p><b>Visible : </b><span>"),__stack.lineno=36,!0===author.visible?(buf.push("oui"),__stack.lineno=36):(buf.push("non"),__stack.lineno=36),buf.push("</span></p>\n\t\t\t<p><b>Créé le : </b><span></span>",escape((__stack.lineno=37,author.created_at)),"</p>\n\t\t\t<p><b>Mis à jour le : </b><span>",escape((__stack.lineno=38,author.updated_at)),"</p>\n\t\t\t"),__stack.lineno=39,author.books.length>0){buf.push("\n\t\t\t<p>\n\t\t\t\t<span><b>Œuvres :</b></span>\n\t\t\t</p>\n\t\t\t<ul id=\"books-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=44;for(var t=0;t<author.books.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=46,author.books[t].id)),"'>\n\t\t\t\t\t\t",(__stack.lineno=47,author.books[t].title)," (",escape((__stack.lineno=47,author.books[t].year)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=50;buf.push("\n\t\t\t</ul>\n\t\t\t"),__stack.lineno=52}if(buf.push("\n\t\t\t"),__stack.lineno=53,author.contribs.length>0){buf.push('\n\t\t\t<p>\n\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul margin-bottom\' style="padding: 0px">\n\t\t\t\t'),__stack.lineno=58;for(t=0;t<author.contribs.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=60,author.contribs[t].book.id)),'\' class="w3-text-gray w3-hover-none w3-hover-text-black">\n\t\t\t\t\t\t',(__stack.lineno=61,author.contribs[t].book.title)," (",escape((__stack.lineno=61,author.contribs[t].role)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=64;buf.push("\n\t\t\t</ul>\n\t\t\t"),__stack.lineno=66}buf.push('\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/authors/',escape((__stack.lineno=69,author.id)),'/edit">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(e(0)),a=o(e(2)),s=e(124);n.default=function(t){function n(t){i.default.setHTML("#form-error",""),"name"===t.target.name?i.default.setHTML("#name .error",""):"nameAlpha"===t.target.name?i.default.setHTML("#nameAlpha .error",""):"birth"===t.target.name?i.default.setHTML("#birth .error",""):"death"===t.target.name&&i.default.setHTML("#death .error","")}t.innerHTML=s();for(var e=document.querySelector("#adminAuthorsNew").querySelector("#adminAuthorsNewForm"),o=e.querySelectorAll("input"),r=0;r<o.length;r++)o[r].addEventListener("input",n,!1);e.addEventListener("submit",function(t){t.preventDefault(),i.default.bind(e,{});var n={};n.name=e.querySelector("[name=name]").value,n.nameAlpha=e.querySelector("[name=nameAlpha]").value,n.birth=e.querySelector("[name=birth]").value,n.death=e.querySelector("[name=death]").value,n.description=e.querySelector("[name=description]").value,n.visible=!!e.querySelector("[name=visible]").checked;var o={method:"POST",url:"/authors/",data:JSON.stringify(n)};i.default.ajax(o).then(function(t){var n=JSON.parse(t);n.errors?i.default.bind(e,n.errors):(a.default.pushData("authors",n.author),location.hash="#/admin/authors/")})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthorsNew" class="content">\n\t<p class="align-left padding-16"><b>Ajouter un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t\t<form id="adminAuthorsNewForm" style="clear: both">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="name">\n\t\t\t\t<label>Nom * : </label>\n\t\t\t\t<input type="text" name="name" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="nameAlpha">\n\t\t\t\t<label>Nom alphabétique * : </label>\n\t\t\t\t<input type="text" name="nameAlpha" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="birth">\n\t\t\t\t<label>Année naissance * : </label>\n\t\t\t\t<input type="text" name="birth" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="death">\n\t\t\t\t<label>Année décès : </label>\n\t\t\t\t<input type="text" name="death" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminAuthorsNew" class="content">\n\t<p class="align-left padding-16"><b>Ajouter un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t\t<form id="adminAuthorsNewForm" style="clear: both">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="name">\n\t\t\t\t<label>Nom * : </label>\n\t\t\t\t<input type="text" name="name" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="nameAlpha">\n\t\t\t\t<label>Nom alphabétique * : </label>\n\t\t\t\t<input type="text" name="nameAlpha" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="birth">\n\t\t\t\t<label>Année naissance * : </label>\n\t\t\t\t<input type="text" name="birth" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="death">\n\t\t\t\t<label>Année décès : </label>\n\t\t\t\t<input type="text" name="death" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(0)),i=e(126);n.default=function(t){var n=location.hash.replace(/(#\/admin\/authors\/|\/edit)/g,""),e=t,a={method:"GET",url:"/authors/"+n};o.default.ajax(a).then(function(t){var a=JSON.parse(t);if(a.error)console.log(error);else{var s=function(t){o.default.setHTML("#form-error",""),"name"===t.target.name?o.default.setHTML("#name .error",""):"nameAlpha"===t.target.name?o.default.setHTML("#nameAlpha .error",""):"birth"===t.target.name?o.default.setHTML("#birth .error",""):"death"===t.target.name&&o.default.setHTML("#death .error","")},r=function(t){t.preventDefault(),o.default.bind(l,{},"error");var e={};e.name=l.querySelector("[name=name]").value,e.nameAlpha=l.querySelector("[name=nameAlpha]").value,e.birth=l.querySelector("[name=birth]").value,e.death=l.querySelector("[name=death]").value,e.description=l.querySelector("[name=description]").value,e.visible=!!l.querySelector("[name=visible]").checked;var i={method:"PUT",url:"/authors/"+n,data:JSON.stringify(e)};o.default.ajax(i).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(l,e.errors,"error"):location.hash="#/admin/authors/"+n})};e.innerHTML=i({author:a.author});for(var l=document.querySelector("#adminAuthorEdit").querySelector("#adminAuthorEditForm"),c=l.querySelectorAll("input"),u=0;u<c.length;u++)c[u].addEventListener("input",s,!1);l.addEventListener("submit",r,!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthorEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/<%= author.id %>">Retour</a></p>\n\t<form id="adminAuthorEditForm" style="clear: both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input author" value="<%= author.name %>" >\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="nameAlpha">\n\t\t\t<label>Nom alphabétique : </label>\n\t\t\t<input type="text" name="nameAlpha" class="input author" value="<%= author.nameAlpha %>" >\n\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="birth">\n\t\t\t<label>Date de naissance : </label>\n\t\t\t<input type="text" name="birth" class="input author" value="<%= author.birth %>" >\n\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="death">\n\t\t\t<label>Date de décès : </label>\n\t\t\t<input type="text" name="death" class="input author" value="<%= author.death %>" >\n\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="description">\n\t\t\t<label>Description : </label>\n\t\t\t<textarea type="text" name="description" class="author" value="<%= author.description %>" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="visible">\n\t\t\t<label><input type="checkbox" name="visible" <% if(author.visible) {%> checked <%}%> > Visible</label>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="adminAuthorEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/',escape((__stack.lineno=3,author.id)),'">Retour</a></p>\n\t<form id="adminAuthorEditForm" style="clear: both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input author" value="',escape((__stack.lineno=10,author.name)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="nameAlpha">\n\t\t\t<label>Nom alphabétique : </label>\n\t\t\t<input type="text" name="nameAlpha" class="input author" value="',escape((__stack.lineno=16,author.nameAlpha)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="birth">\n\t\t\t<label>Date de naissance : </label>\n\t\t\t<input type="text" name="birth" class="input author" value="',escape((__stack.lineno=22,author.birth)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="death">\n\t\t\t<label>Date de décès : </label>\n\t\t\t<input type="text" name="death" class="input author" value="',escape((__stack.lineno=28,author.death)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="description">\n\t\t\t<label>Description : </label>\n\t\t\t<textarea type="text" name="description" class="author" value="',escape((__stack.lineno=34,author.description)),'" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="visible">\n\t\t\t<label><input type="checkbox" name="visible" '),__stack.lineno=39,author.visible&&(buf.push(" checked "),__stack.lineno=39),buf.push(' > Visible</label>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){function rethrow(t,n,e,o){var i=n.split("\n"),a=Math.max(o-3,0),s=Math.min(i.length,o+3),r=i.slice(a,s).map(function(t,n){var e=n+a+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="admin" class="content">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration</h3>\n\t\t<nav id="admin-nav-bar-top" class="bar">\n\t\t\t<a id="admin-home" href="/#/admin/" class="bar-item">Accueil</a>\n\t\t\t<a id="admin-users" href="/#/admin/users/" class="bar-item">Utilisateurs</a>\n\t\t\t<a id="admin-books" href="/#/admin/books/" class="bar-item">Ouvrages</a>\n\t\t\t<a id="admin-authors" href="/#/admin/authors/" class="bar-item">Auteurs</a>\n\t\t</nav>\n\t\t<div id="admin-container"></div>\n\t</div>\n</div>\n',filename:"."};try{var buf=[];with(locals||{})buf.push('<div id="admin" class="content">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration</h3>\n\t\t<nav id="admin-nav-bar-top" class="bar">\n\t\t\t<a id="admin-home" href="/#/admin/" class="bar-item">Accueil</a>\n\t\t\t<a id="admin-users" href="/#/admin/users/" class="bar-item">Utilisateurs</a>\n\t\t\t<a id="admin-books" href="/#/admin/books/" class="bar-item">Ouvrages</a>\n\t\t\t<a id="admin-authors" href="/#/admin/authors/" class="bar-item">Auteurs</a>\n\t\t</nav>\n\t\t<div id="admin-container"></div>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}}]);