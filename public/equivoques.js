!function(t){var n={};function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=132)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(32))&&o.__esModule?o:{default:o},i={ajax:function(t){return new a.default(function(n,e){var o=t.method,a=t.url,i=t.data,s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&(200===s.status?n(s.responseText):e(Error(s.statusText)))},s.open(o,a,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","text/json, text/html"),s.setRequestHeader("Cache-Control","public, max-age=86400, must-revalidate"),i?(s.setRequestHeader("Content-type","application/json"),s.send(i)):s.send()})},checkRole:function(){return i.ajax({method:"GET",url:"/users/currentuser"}).then(function(t){var n=JSON.parse(t).user;return new a.default(function(t,e){n&&!0===n.admin?t(n):e(Error("error"))})})},activeLink:function(){for(var t=document.querySelector("#navigation").querySelectorAll("a"),n=0;n<t.length;n++)"header-home-link"===t[n].id||"menu-home-link"===t[n].id?i.addClass("#"+t[n].id,"active"):"last-link"===t[n].id||"menu-last-link"===t[n].id?""===location.hash||"#/"===location.hash?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active"):"authors-link"===t[n].id||"menu-authors-link"===t[n].id?location.hash.match(/#\/authors/)?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active"):(location.href===t[n].href?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active"),location.hash.match(/#\/admin/)&&(t[n].href.match(/#\/admin/)?i.addClass("#"+t[n].id,"active"):i.removeClass("#"+t[n].id,"active")));if(document.querySelector("#admin-nav-bar-top"))for(var e=document.querySelector("#admin-nav-bar-top").querySelectorAll("a"),o=0;o<e.length;o++)location.href===e[o].href?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"),location.hash.match(/#\/admin\/books\//)?e[o].href.match(/#\/admin\/books\//)?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/authors\//)?e[o].href.match(/#\/admin\/authors\//)?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/users\//)?e[o].href.match(/#\/admin\/users\//)?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"):location.hash.match(/#\/admin\/.+/)&&("#/admin/"===e[o].hash?i.addClass("#"+e[o].id,"active"):i.removeClass("#"+e[o].id,"active"))},setHTML:function(t,n){var e=document.querySelectorAll(t);if(e)for(var o=0;o<e.length;o++)e[o].innerHTML=n||""},setAttributeContent:function(t,n,e){var o=document.querySelector(t);o.hasAttribute(n)&&o.setAttribute(n,e)},bind:function(t,n,e){var o=void 0;o=e?t.querySelectorAll("[data-utils-bind]."+e):t.querySelectorAll("[data-utils-bind]");for(var a=0;a<o.length;a++){var i=[],s=[],r=o[a].getAttribute("data-utils-bind");r.match(/{{[^{]+}}/g)&&(i=r.match(/{{[^{]+}}/g));for(var l=0;l<i.length;l++){var u=i[l].replace(/({|})/g,"").trim();s.push(u);var c=new RegExp(i[l],"g");r=n[u]?r.replace(c,n[u]):r.replace(c,"")}"INPUT"===o[a].nodeName||"TEXTAREA"===o[a].nodeName?o[a].value=r:o[a].innerHTML=r}},addClass:function(t,n){var e=[];t.nodeName?e.push(t):e=document.querySelectorAll(t);for(var o=void 0,a=0;a<e.length;a++)o=n,-1==e[a].className.split(" ").indexOf(o)&&(e[a].className+=" "+n)},removeClass:function(t,n){var e=[];t.nodeName?e.push(t):e=document.querySelectorAll(t);for(var o=void 0,a=void 0,i=0;i<e.length;i++)o=" "+n,a=new RegExp(o,"g"),e[i].className=e[i].className.replace(a,""),o=n,a=new RegExp(o,"g"),e[i].className=e[i].className.replace(a,"")},replaceLines:function(t){return t.replace(/\n/g,"<br>")}};n.default=i},function(t,n,e){var o,a;o=[e(7),e(3),e(107),e(28),e(106),e(105),e(27),e(10),e(26),e(29),e(25),e(104),e(24),e(4),e(23),e(103),e(14)],void 0===(a=function(t,n,e,o,a,i,s,r,l,u,c,p,d,b,f,h,m){"use strict";var g=function(t,n){return new g.fn.init(t,n)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function y(t){var n=!!t&&"length"in t&&t.length,e=m(t);return!b(t)&&!f(t)&&("array"===e||0===n||"number"==typeof n&&n>0&&n-1 in t)}return g.fn=g.prototype={jquery:"3.3.1",constructor:g,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=g.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return g.each(this,t)},map:function(t){return this.pushStack(g.map(this,function(n,e){return t.call(n,e,n)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var n=this.length,e=+t+(t<0?n:0);return this.pushStack(e>=0&&e<n?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:t.sort,splice:t.splice},g.extend=g.fn.extend=function(){var t,n,e,o,a,i,s=arguments[0]||{},r=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[r]||{},r++),"object"==typeof s||b(s)||(s={}),r===l&&(s=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(n in t)e=s[n],s!==(o=t[n])&&(u&&o&&(g.isPlainObject(o)||(a=Array.isArray(o)))?(a?(a=!1,i=e&&Array.isArray(e)?e:[]):i=e&&g.isPlainObject(e)?e:{},s[n]=g.extend(u,i,o)):void 0!==o&&(s[n]=o));return s},g.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,o;return!(!t||"[object Object]"!==l.call(t)||(n=e(t))&&("function"!=typeof(o=u.call(n,"constructor")&&n.constructor)||c.call(o)!==p))},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t){h(t)},each:function(t,n){var e,o=0;if(y(t))for(e=t.length;o<e&&!1!==n.call(t[o],o,t[o]);o++);else for(o in t)if(!1===n.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(v,"")},makeArray:function(t,n){var e=n||[];return null!=t&&(y(Object(t))?g.merge(e,"string"==typeof t?[t]:t):i.call(e,t)),e},inArray:function(t,n,e){return null==n?-1:s.call(n,t,e)},merge:function(t,n){for(var e=+n.length,o=0,a=t.length;o<e;o++)t[a++]=n[o];return t.length=a,t},grep:function(t,n,e){for(var o=[],a=0,i=t.length,s=!e;a<i;a++)!n(t[a],a)!==s&&o.push(t[a]);return o},map:function(t,n,e){var o,i,s=0,r=[];if(y(t))for(o=t.length;s<o;s++)null!=(i=n(t[s],s,e))&&r.push(i);else for(s in t)null!=(i=n(t[s],s,e))&&r.push(i);return a.apply([],r)},guid:1,support:d}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=t[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){r["[object "+n+"]"]=n.toLowerCase()}),g}.apply(n,o))||(t.exports=a)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={store:{},setData:function(t,n){o.store[t]=n},pushData:function(t,n){o[t]?o[t].push(n):o.store[t]=n},getData:function(t,n){if(t&&n){for(var e=o.store[t],a=n,i=void 0,s=0;s<e.length;s++)if(e[s].id===a){i=e[s];break}return i}return t&&!n?o.store[t]:t||n?void 0:o.store}};n.default=o},function(t,n,e){var o;void 0===(o=function(){"use strict";return window.document}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o;void 0===(o=function(){"use strict";return function(t){return"function"==typeof t&&"number"!=typeof t.nodeType}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";var o=e(31);function a(){}var i=null,s={};function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==a&&b(t,this)}function l(t,n){for(;3===t._83;)t=t._18;if(r._47&&r._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=n)):1===t._75?(t._75=2,void(t._38=[t._38,n])):void t._38.push(n);!function(t,n){o(function(){var e=1===t._83?n.onFulfilled:n.onRejected;if(null!==e){var o=function(t,n){try{return t(n)}catch(t){return i=t,s}}(e,t._18);o===s?c(n.promise,i):u(n.promise,o)}else 1===t._83?u(n.promise,t._18):c(n.promise,t._18)})}(t,n)}function u(t,n){if(n===t)return c(t,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"==typeof n||"function"==typeof n)){var e=function(t){try{return t.then}catch(t){return i=t,s}}(n);if(e===s)return c(t,i);if(e===t.then&&n instanceof r)return t._83=3,t._18=n,void p(t);if("function"==typeof e)return void b(e.bind(n),t)}t._83=1,t._18=n,p(t)}function c(t,n){t._83=2,t._18=n,r._71&&r._71(t,n),p(t)}function p(t){if(1===t._75&&(l(t,t._38),t._38=null),2===t._75){for(var n=0;n<t._38.length;n++)l(t,t._38[n]);t._38=null}}function d(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function b(t,n){var e=!1,o=function(t,n,e){try{t(n,e)}catch(t){return i=t,s}}(t,function(t){e||(e=!0,u(n,t))},function(t){e||(e=!0,c(n,t))});e||o!==s||(e=!0,c(n,i))}t.exports=r,r._47=null,r._71=null,r._44=a,r.prototype.then=function(t,n){if(this.constructor!==r)return function(t,n,e){return new t.constructor(function(o,i){var s=new r(a);s.then(o,i),l(t,new d(n,e,s))})}(this,t,n);var e=new r(a);return l(this,new d(t,n,e)),e}},function(t,n,e){var o,a;o=[e(100)],void 0===(a=function(){"use strict"}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";return[]}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a,i={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=o.apply(this,arguments)),a}),r=function(t){var n={};return function(t){if("function"==typeof t)return t();if(void 0===n[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),l=null,u=0,c=[],p=e(119);function d(t,n){for(var e=0;e<t.length;e++){var o=t[e],a=i[o.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](o.parts[s]);for(;s<o.parts.length;s++)a.parts.push(v(o.parts[s],n))}else{var r=[];for(s=0;s<o.parts.length;s++)r.push(v(o.parts[s],n));i[o.id]={id:o.id,refs:1,parts:r}}}}function b(t,n){for(var e=[],o={},a=0;a<t.length;a++){var i=t[a],s=n.base?i[0]+n.base:i[0],r={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(r):e.push(o[s]={id:s,parts:[r]})}return e}function f(t,n){var e=r(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===t.insertAt)o?o.nextSibling?e.insertBefore(n,o.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),c.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=r(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,a)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=c.indexOf(t);n>=0&&c.splice(n,1)}function m(t){var n=document.createElement("style");return t.attrs.type="text/css",g(n,t.attrs),f(t,n),n}function g(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function v(t,n){var e,o,a,i;if(n.transform&&t.css){if(!(i=n.transform(t.css)))return function(){};t.css=i}if(n.singleton){var s=u++;e=l||(l=m(n)),o=_.bind(null,e,s,!1),a=_.bind(null,e,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(n,t.attrs),f(t,n),n}(n),o=function(t,n,e){var o=e.css,a=e.sourceMap,i=void 0===n.convertToAbsoluteUrls&&a;(n.convertToAbsoluteUrls||i)&&(o=p(o)),a&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([o],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,e,n),a=function(){h(e),e.href&&URL.revokeObjectURL(e.href)}):(e=m(n),o=function(t,n){var e=n.css,o=n.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),a=function(){h(e)});return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else a()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=b(t,n);return d(e,n),function(t){for(var o=[],a=0;a<e.length;a++){var s=e[a];(r=i[s.id]).refs--,o.push(r)}for(t&&d(b(t,n),n),a=0;a<o.length;a++){var r;if(0===(r=o[a]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete i[r.id]}}}};var y,k=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function _(t,n,e,o){var a=e?"":o.css;if(t.styleSheet)t.styleSheet.cssText=k(n,a);else{var i=document.createTextNode(a),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(i,s[n]):t.appendChild(i)}}},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e,o=t[1]||"",a=t[3];if(!a)return o;if(n&&"function"==typeof btoa){var i=(e=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),s=a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"});return[o].concat(s).concat([i]).join("\n")}return[o].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(o[i]=!0)}for(a=0;a<t.length;a++){var s=t[a];"number"==typeof s[0]&&o[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),n.push(s))}},n}},function(t,n,e){var o;void 0===(o=function(){"use strict";return{}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a;o=[e(1),e(3),e(21),e(24)],void 0===(a=function(t,n,e,o){"use strict";return function(){function a(){if(d){p.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",e.appendChild(p).appendChild(d);var t=window.getComputedStyle(d);s="1%"!==t.top,c=12===i(t.marginLeft),d.style.right="60%",u=36===i(t.right),r=36===i(t.width),d.style.position="absolute",l=36===d.offsetWidth||"absolute",e.removeChild(p),d=null}}function i(t){return Math.round(parseFloat(t))}var s,r,l,u,c,p=n.createElement("div"),d=n.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===d.style.backgroundClip,t.extend(o,{boxSizingReliable:function(){return a(),r},pixelBoxStyles:function(){return a(),u},pixelPosition:function(){return a(),s},reliableMarginLeft:function(){return a(),c},scrollboxSize:function(){return a(),l}}))}(),o}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a;o=[e(12)],void 0===(a=function(t){"use strict";return new RegExp("^("+t+")(?!px)[a-z%]+$","i")}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(10),e(26)],void 0===(a=function(t,n){"use strict";return function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?t[n.call(e)]||"object":typeof e}}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(12)],void 0===(a=function(t){"use strict";return new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i")}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(3),e(4),e(98),e(97)],void 0===(a=function(t,n,e,o){"use strict";var a,i=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,s=t.fn.init=function(s,r,l){var u,c;if(!s)return this;if(l=l||a,"string"==typeof s){if(!(u="<"===s[0]&&">"===s[s.length-1]&&s.length>=3?[null,s,null]:i.exec(s))||!u[1]&&r)return!r||r.jquery?(r||l).find(s):this.constructor(r).find(s);if(u[1]){if(r=r instanceof t?r[0]:r,t.merge(this,t.parseHTML(u[1],r&&r.nodeType?r.ownerDocument||r:n,!0)),o.test(u[1])&&t.isPlainObject(r))for(u in r)e(this[u])?this[u](r[u]):this.attr(u,r[u]);return this}return(c=n.getElementById(u[2]))&&(this[0]=c,this.length=1),this}return s.nodeType?(this[0]=s,this.length=1,this):e(s)?void 0!==l.ready?l.ready(s):s(t):t.makeArray(s,this)};return s.prototype=t.fn,a=t(n),s}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(14),e(4)],void 0===(a=function(t,n,e){"use strict";var o=function(a,i,s,r,l,u,c){var p=0,d=a.length,b=null==s;if("object"===n(s))for(p in l=!0,s)o(a,i,p,s[p],!0,u,c);else if(void 0!==r&&(l=!0,e(r)||(c=!0),b&&(c?(i.call(a,r),i=null):(b=i,i=function(n,e,o){return b.call(t(n),o)})),i))for(;p<d;p++)i(a[p],s,c?r:r.call(a[p],p,i(a[p],s)));return l?a:b?i.call(a):d?i(a[0],s):u};return o}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";return function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=window),n.getComputedStyle(t)}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o;void 0===(o=function(){"use strict";return["Top","Right","Bottom","Left"]}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a;o=[e(1),e(101),e(13),e(18),e(11),e(6)],void 0===(a=function(t,n,e,o,a){"use strict";return function(i,s,r){var l,u,c,p,d=i.style;return(r=r||o(i))&&(""!==(p=r.getPropertyValue(s)||r[s])||t.contains(i.ownerDocument,i)||(p=t.style(i,s)),!a.pixelBoxStyles()&&e.test(p)&&n.test(s)&&(l=d.width,u=d.minWidth,c=d.maxWidth,d.minWidth=d.maxWidth=d.width=p,p=r.width,d.width=l,d.minWidth=u,d.maxWidth=c)),void 0!==p?p+"":p}}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(3)],void 0===(a=function(t){"use strict";return t.documentElement}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";return function(t,n){return{get:function(){if(!t())return(this.get=n).apply(this,arguments);delete this.get}}}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o;void 0===(o=function(){"use strict";return function(t){return null!=t&&t===t.window}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o;void 0===(o=function(){"use strict";return{}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a;o=[e(29)],void 0===(a=function(t){"use strict";return t.toString}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(10)],void 0===(a=function(t){"use strict";return t.toString}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(7)],void 0===(a=function(t){"use strict";return t.indexOf}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(7)],void 0===(a=function(t){"use strict";return t.slice}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(10)],void 0===(a=function(t){"use strict";return t.hasOwnProperty}.apply(n,o))||(t.exports=a)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={setBkmrk:function(t,n){var e=[];if("undefined"!=typeof Storage){if(localStorage.getItem("bkmrks")){e=JSON.parse(localStorage.getItem("bkmrks"));for(var o=void 0,a=void 0,i=0;i<e.length;i++)if(e[i].bkId===t){o=e[i],a=i;break}o?"cover"===n.sectionId?e.splice(a,1):o.bkmrk=n:e.push({bkId:t,bkmrk:n})}else"cover"!==n.sectionId&&e.push({bkId:t,bkmrk:n});localStorage.setItem("bkmrks",JSON.stringify(e))}},removeBkmrk:function(t){var n=[];if("undefined"!=typeof Storage&&localStorage.getItem("bkmrks")){n=JSON.parse(localStorage.getItem("bkmrks"));for(var e=void 0,o=0;o<n.length;o++)if(n[o].bkId===t){e=o;break}void 0!==e&&(n.splice(e,1),localStorage.setItem("bkmrks",JSON.stringify(n)))}},getBkmrk:function(t){if("undefined"!=typeof Storage&&localStorage.getItem("bkmrks")){var n=JSON.parse(localStorage.getItem("bkmrks")).filter(function(n){return n.bkId===t})[0];if(n)return n.bkmrk}},setFontSize:function(t,n){var e=[];if("undefined"!=typeof Storage){if(localStorage.getItem("fSizes")){e=JSON.parse(localStorage.getItem("fSizes"));for(var o=void 0,a=0;a<e.length;a++)if(e[a].device===t){o=e[a];break}o?o.size=n:e.push({device:t,size:n})}else e.push({device:t,size:n});localStorage.setItem("fSizes",JSON.stringify(e))}},getFontSize:function(t){if("undefined"!=typeof Storage&&localStorage.getItem("fSizes")){var n=JSON.parse(localStorage.getItem("fSizes")).filter(function(n){return n.device===t})[0];if(n)return n.size}},setUserAgent:function(t){var n="";"undefined"!=typeof Storage&&(localStorage.getItem("userAgent")?(n=JSON.parse(localStorage.getItem("userAgent")),n=t):n=t,localStorage.setItem("userAgent",JSON.stringify(n)))},getUserAgent:function(){if("undefined"!=typeof Storage&&localStorage.getItem("userAgent"))return JSON.parse(localStorage.getItem("userAgent"))},setTableInfos:function(t){if(!isNaN(t.tableInfos.totalPages)&&0!==t.tableInfos.totalPages){var n=[];"undefined"!=typeof Storage&&(localStorage.getItem("tables")&&localStorage.removeItem("tables"),localStorage.getItem("tableInfos")?(n=JSON.parse(localStorage.getItem("tableInfos"))).filter(function(n){return n.id===t.id&&n.dim===t.dim&&n.font===t.font&&n.fontSize===t.fontSize})[0]||(51===n.length&&n.shift(),n.push(t)):n.push(t),localStorage.setItem("tableInfos",JSON.stringify(n)))}},getTableInfos:function(t){if("undefined"!=typeof Storage&&(localStorage.getItem("tables")&&localStorage.removeItem("tables"),localStorage.getItem("tableInfos"))){var n=JSON.parse(localStorage.getItem("tableInfos")).filter(function(n){return n.id===t.id&&n.dim===t.dim&&n.font===t.font&&n.fontSize===t.fontSize})[0];if(n)return n.tableInfos}},removeTableInfos:function(){"undefined"!=typeof Storage&&localStorage.getItem("tableInfos")&&localStorage.removeItem("tableInfos")}};n.default=o},function(t,n,e){"use strict";(function(n){function e(t){a.length||o(),a[a.length]=t}t.exports=e;var o,a=[],i=0,s=1024;function r(){for(;i<a.length;){var t=i;if(i+=1,a[t].call(),i>s){for(var n=0,e=a.length-i;n<e;n++)a[n]=a[n+i];a.length-=i,i=0}}a.length=0,i=0}var l,u,c,p=void 0!==n?n:self,d=p.MutationObserver||p.WebKitMutationObserver;function b(t){return function(){var n=setTimeout(o,0),e=setInterval(o,50);function o(){clearTimeout(n),clearInterval(e),t()}}}"function"==typeof d?(l=1,u=new d(r),c=document.createTextNode(""),u.observe(c,{characterData:!0}),o=function(){l=-l,c.data=l}):o=b(r),e.requestFlush=o,e.makeRequestCallFromTimer=b}).call(this,e(129))},function(t,n,e){"use strict";t.exports=e(130)},function(t,n){!function(){"use strict";var n="undefined"!=typeof window&&void 0!==window.document?window.document:{},e=void 0!==t&&t.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,a=e.length,i={};o<a;o++)if((t=e[o])&&t[1]in n){for(o=0;o<t.length;o++)i[e[0][o]]=t[o];return i}return!1}(),i={change:a.fullscreenchange,error:a.fullscreenerror},s={request:function(t){var e=a.requestFullscreen;t=t||n.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[e]():t[e](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){n[a.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){var o=i[t];o&&n.addEventListener(o,e,!1)},off:function(t,e){var o=i[t];o&&n.removeEventListener(o,e,!1)},raw:a};a?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(n[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return n[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(n[a.fullscreenEnabled])}}}),e?t.exports=s:window.screenfull=s):e?t.exports=!1:window.screenfull=!1}()},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="admin" class="content">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration</h3>\n\t\t<nav id="admin-nav-bar-top" class="bar">\n\t\t\t<a id="admin-home" href="/#/admin/" class="bar-item">Accueil</a>\n\t\t\t<a id="admin-users" href="/#/admin/users/" class="bar-item">Utilisateurs</a>\n\t\t\t<a id="admin-books" href="/#/admin/books/" class="bar-item">Ouvrages</a>\n\t\t\t<a id="admin-authors" href="/#/admin/authors/" class="bar-item">Auteurs</a>\n\t\t</nav>\n\t\t<div id="admin-container"></div>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="admin" class="content">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration</h3>\n\t\t<nav id="admin-nav-bar-top" class="bar">\n\t\t\t<a id="admin-home" href="/#/admin/" class="bar-item">Accueil</a>\n\t\t\t<a id="admin-users" href="/#/admin/users/" class="bar-item">Utilisateurs</a>\n\t\t\t<a id="admin-books" href="/#/admin/books/" class="bar-item">Ouvrages</a>\n\t\t\t<a id="admin-authors" href="/#/admin/authors/" class="bar-item">Auteurs</a>\n\t\t</nav>\n\t\t<div id="admin-container"></div>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthorEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/<%= author.id %>">Retour</a></p>\n\t<form id="adminAuthorEditForm" style="clear: both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input author" value="<%= author.name %>" >\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="nameAlpha">\n\t\t\t<label>Nom alphabétique : </label>\n\t\t\t<input type="text" name="nameAlpha" class="input author" value="<%= author.nameAlpha %>" >\n\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="birth">\n\t\t\t<label>Date de naissance : </label>\n\t\t\t<input type="text" name="birth" class="input author" value="<%= author.birth %>" >\n\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="death">\n\t\t\t<label>Date de décès : </label>\n\t\t\t<input type="text" name="death" class="input author" value="<%= author.death %>" >\n\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="description">\n\t\t\t<label>Description : </label>\n\t\t\t<textarea type="text" name="description" class="author" value="<%= author.description %>" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="visible">\n\t\t\t<label><input type="checkbox" name="visible" <% if(author.visible) {%> checked <%}%> > Visible</label>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminAuthorEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/',escape((__stack.lineno=3,author.id)),'">Retour</a></p>\n\t<form id="adminAuthorEditForm" style="clear: both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input author" value="',escape((__stack.lineno=10,author.name)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="nameAlpha">\n\t\t\t<label>Nom alphabétique : </label>\n\t\t\t<input type="text" name="nameAlpha" class="input author" value="',escape((__stack.lineno=16,author.nameAlpha)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="birth">\n\t\t\t<label>Date de naissance : </label>\n\t\t\t<input type="text" name="birth" class="input author" value="',escape((__stack.lineno=22,author.birth)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="death">\n\t\t\t<label>Date de décès : </label>\n\t\t\t<input type="text" name="death" class="input author" value="',escape((__stack.lineno=28,author.death)),'" >\n\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="description">\n\t\t\t<label>Description : </label>\n\t\t\t<textarea type="text" name="description" class="author" value="',escape((__stack.lineno=34,author.description)),'" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="visible">\n\t\t\t<label><input type="checkbox" name="visible" '),__stack.lineno=39,author.visible&&(buf.push(" checked "),__stack.lineno=39),buf.push(' > Visible</label>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(35);n.default=function(t){var n=location.hash.replace(/(#\/admin\/authors\/|\/edit)/g,""),e=t,o={method:"GET",url:"/authors/"+n};a.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)console.log(error);else{var s=function(t){a.default.setHTML("#form-error",""),"name"===t.target.name?a.default.setHTML("#name .error",""):"nameAlpha"===t.target.name?a.default.setHTML("#nameAlpha .error",""):"birth"===t.target.name?a.default.setHTML("#birth .error",""):"death"===t.target.name&&a.default.setHTML("#death .error","")};e.innerHTML=i({author:o.author});for(var r=document.querySelector("#adminAuthorEdit").querySelector("#adminAuthorEditForm"),l=r.querySelectorAll("input"),u=0;u<l.length;u++)l[u].addEventListener("input",s,!1);r.addEventListener("submit",function(t){t.preventDefault(),a.default.bind(r,{},"error");var e={};e.name=r.querySelector("[name=name]").value,e.nameAlpha=r.querySelector("[name=nameAlpha]").value,e.birth=r.querySelector("[name=birth]").value,e.death=r.querySelector("[name=death]").value,e.description=r.querySelector("[name=description]").value,e.visible=!!r.querySelector("[name=visible]").checked;var o={method:"PUT",url:"/authors/"+n,data:JSON.stringify(e)};a.default.ajax(o).then(function(t){var e=JSON.parse(t);e.errors?a.default.bind(r,e.errors,"error"):location.hash="#/admin/authors/"+n})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthorsNew" class="content">\n\t<p class="align-left padding-16"><b>Ajouter un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t\t<form id="adminAuthorsNewForm" style="clear: both">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="name">\n\t\t\t\t<label>Nom * : </label>\n\t\t\t\t<input type="text" name="name" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="nameAlpha">\n\t\t\t\t<label>Nom alphabétique * : </label>\n\t\t\t\t<input type="text" name="nameAlpha" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="birth">\n\t\t\t\t<label>Année naissance * : </label>\n\t\t\t\t<input type="text" name="birth" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="death">\n\t\t\t\t<label>Année décès : </label>\n\t\t\t\t<input type="text" name="death" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminAuthorsNew" class="content">\n\t<p class="align-left padding-16"><b>Ajouter un auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t\t<form id="adminAuthorsNewForm" style="clear: both">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="name">\n\t\t\t\t<label>Nom * : </label>\n\t\t\t\t<input type="text" name="name" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="nameAlpha">\n\t\t\t\t<label>Nom alphabétique * : </label>\n\t\t\t\t<input type="text" name="nameAlpha" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ nameAlpha }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="birth">\n\t\t\t\t<label>Année naissance * : </label>\n\t\t\t\t<input type="text" name="birth" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ birth }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="death">\n\t\t\t\t<label>Année décès : </label>\n\t\t\t\t<input type="text" name="death" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ death }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" style="display: block; width: 100%; margin-top: 4px"></textarea>\n\t\t\t\t<span class="error" data-utils-bind="{{ description }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(0)),a=i(e(2));function i(t){return t&&t.__esModule?t:{default:t}}var s=e(37);n.default=function(t){t.innerHTML=s();var n=document.querySelector("#adminAuthorsNew").querySelector("#adminAuthorsNewForm"),e=n.querySelectorAll("input");function i(t){o.default.setHTML("#form-error",""),"name"===t.target.name?o.default.setHTML("#name .error",""):"nameAlpha"===t.target.name?o.default.setHTML("#nameAlpha .error",""):"birth"===t.target.name?o.default.setHTML("#birth .error",""):"death"===t.target.name&&o.default.setHTML("#death .error","")}for(var r=0;r<e.length;r++)e[r].addEventListener("input",i,!1);n.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(n,{});var e={};e.name=n.querySelector("[name=name]").value,e.nameAlpha=n.querySelector("[name=nameAlpha]").value,e.birth=n.querySelector("[name=birth]").value,e.death=n.querySelector("[name=death]").value,e.description=n.querySelector("[name=description]").value,e.visible=!!n.querySelector("[name=visible]").checked;var i={method:"POST",url:"/authors/",data:JSON.stringify(e)};o.default.ajax(i).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(n,e.errors):(a.default.pushData("authors",e.author),location.hash="#/admin/authors/")})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthor" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet auteur ?</p>\n\t\t\t\t<p><%= author.name %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t\n\t<p class="align-left padding-16"><b>Auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t<div id="author" style="clear: both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><span><%- author.name %></span></p>\n\t\t\t<p><b>Nom alphabétique : </b><span><%= author.nameAlpha %></p>\n\t\t\t<p><b>Date de naissance : </b><span><%= author.birth %></p>\n\t\t\t<p><b>Date de décès : </b><span><%= author.death %></p>\n\t\t\t<p><b>Description : </b></p>\n\t\t\t<div><%= author.description %></div>\n\t\t\t<p><b>Visible : </b><span><% if(author.visible===true) {%>oui<%} else {%>non<%}%></span></p>\n\t\t\t<p><b>Créé le : </b><span></span><%= author.created_at %></p>\n\t\t\t<p><b>Mis à jour le : </b><span><%= author.updated_at %></p>\n\t\t\t<% if(author.books.length > 0) { %>\n\t\t\t<p>\n\t\t\t\t<span><b>Œuvres :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<author.books.length; i++) { %>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= author.books[i].id %>\'>\n\t\t\t\t\t\t<%- author.books[i].title %> (<%= author.books[i].year %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<% } %>\n\t\t\t<% if(author.contribs.length > 0) { %>\n\t\t\t<p>\n\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul margin-bottom\' style="padding: 0px">\n\t\t\t\t<% for(var i=0; i<author.contribs.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= author.contribs[i].book.id %>\' class="w3-text-gray w3-hover-none w3-hover-text-black">\n\t\t\t\t\t\t<%- author.contribs[i].book.title %> (<%= author.contribs[i].role %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<% } %>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/authors/<%= author.id %>/edit">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){if(buf.push('<div id="adminAuthor" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet auteur ?</p>\n\t\t\t\t<p>',escape((__stack.lineno=13,author.name)),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t\n\t<p class="align-left padding-16"><b>Auteur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/authors/">Retour</a></p>\n\t<div id="author" style="clear: both">\n\t\t<span class="error">',escape((__stack.lineno=27,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><span>',(__stack.lineno=30,author.name),"</span></p>\n\t\t\t<p><b>Nom alphabétique : </b><span>",escape((__stack.lineno=31,author.nameAlpha)),"</p>\n\t\t\t<p><b>Date de naissance : </b><span>",escape((__stack.lineno=32,author.birth)),"</p>\n\t\t\t<p><b>Date de décès : </b><span>",escape((__stack.lineno=33,author.death)),"</p>\n\t\t\t<p><b>Description : </b></p>\n\t\t\t<div>",escape((__stack.lineno=35,author.description)),"</div>\n\t\t\t<p><b>Visible : </b><span>"),__stack.lineno=36,!0===author.visible?(buf.push("oui"),__stack.lineno=36):(buf.push("non"),__stack.lineno=36),buf.push("</span></p>\n\t\t\t<p><b>Créé le : </b><span></span>",escape((__stack.lineno=37,author.created_at)),"</p>\n\t\t\t<p><b>Mis à jour le : </b><span>",escape((__stack.lineno=38,author.updated_at)),"</p>\n\t\t\t"),__stack.lineno=39,author.books.length>0){buf.push("\n\t\t\t<p>\n\t\t\t\t<span><b>Œuvres :</b></span>\n\t\t\t</p>\n\t\t\t<ul id=\"books-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=44;for(var t=0;t<author.books.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=46,author.books[t].id)),"'>\n\t\t\t\t\t\t",(__stack.lineno=47,author.books[t].title)," (",escape((__stack.lineno=47,author.books[t].year)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=50;buf.push("\n\t\t\t</ul>\n\t\t\t"),__stack.lineno=52}if(buf.push("\n\t\t\t"),__stack.lineno=53,author.contribs.length>0){for(buf.push('\n\t\t\t<p>\n\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t</p>\n\t\t\t<ul id="books-list" class=\'ul margin-bottom\' style="padding: 0px">\n\t\t\t\t'),__stack.lineno=58,t=0;t<author.contribs.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=60,author.contribs[t].book.id)),'\' class="w3-text-gray w3-hover-none w3-hover-text-black">\n\t\t\t\t\t\t',(__stack.lineno=61,author.contribs[t].book.title)," (",escape((__stack.lineno=61,author.contribs[t].role)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=64;buf.push("\n\t\t\t</ul>\n\t\t\t"),__stack.lineno=66}buf.push('\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/authors/',escape((__stack.lineno=69,author.id)),'/edit">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(39);n.default=function(t){var n=location.hash.replace(/^#\/admin\/authors\//,""),e=t,o={method:"GET",url:"/authors/"+n};a.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)e.innerHTML=i({author:{},error:o.error});else{e.innerHTML=i({author:o.author,error:""});var s=document.querySelector("#adminAuthor"),r=s.querySelector("#modal"),l=s.querySelector("#author");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1),r.querySelector("#delete-btn").addEventListener("click",function(t){var e={method:"DELETE",url:"/authors/"+n};a.default.ajax(e).then(function(t){var n=JSON.parse(t);n.error?(a.default.bind(l,n,"error"),r.style.display="none"):location.hash="#/admin/authors/"})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminAuthors" class="content">\n\t<p class="padding-16 align-left"><b>Auteurs</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/authors/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<ul id="authors-list" class="ul" style="padding: 0px;">\n\t\t\t<% for(var i=0; i<authors.length; i++) {%>\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="/#/admin/authors/<%= authors[i].id %>">\n\t\t\t\t\t\t<%- authors[i].name %> (<%= authors[i].birth %>&thinsp;&ndash;&thinsp;<%= authors[i].death %>)\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminAuthors" class="content">\n\t<p class="padding-16 align-left"><b>Auteurs</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/authors/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=5,error)),'</span>\n\t\t<ul id="authors-list" class="ul" style="padding: 0px;">\n\t\t\t'),__stack.lineno=7;for(var t=0;t<authors.length;t++)buf.push('\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="/#/admin/authors/',escape((__stack.lineno=10,authors[t].id)),'">\n\t\t\t\t\t\t',(__stack.lineno=11,authors[t].name)," (",escape((__stack.lineno=11,authors[t].birth)),"&thinsp;&ndash;&thinsp;",escape((__stack.lineno=11,authors[t].death)),")\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t"),__stack.lineno=15;buf.push("\n\t\t</ul>\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(41);n.default=function(t){var n=t;a.default.ajax({method:"GET",url:"/authors/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=i({authors:[],error:e.error}):n.innerHTML=i({authors:e.authors,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<sources.length; i++) {%>\n<li>\n\t<p id="<%= i %>" >\n\t\t<span><%- sources[i] %></span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<sources.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,sources[t]),'</span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<p id="<%= selectedContrib.id %>"><%= selectedContrib.name %></p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<p id="',escape((__stack.lineno=1,selectedContrib.id)),'">',escape((__stack.lineno=1,selectedContrib.name)),'</p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedContribs.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t<span><%= selectedContribs[i].name %> </span>\n\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedContribs.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedContribs[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',escape((__stack.lineno=4,selectedContribs[t].name))," </span>\n\t\t<span>(",escape((__stack.lineno=5,selectedContribs[t].role)),')</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedAuthors.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t<span><%= selectedAuthors[i].name %></span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',escape((__stack.lineno=4,selectedAuthors[t].name)),'</span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<ul class="ul">\n<% for(var i=0; i<authors.length; i++) {%>\n<li>\n\t<p id="<%= authors[i].id %>" >\n\t\t<span><%= authors[i].name %></span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n<% } %>\n</ul>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<ul class="ul">\n'),__stack.lineno=2;for(var t=0;t<authors.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=4,authors[t].id)),'" >\n\t\t<span>',escape((__stack.lineno=5,authors[t].name)),'</span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n</ul>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<span>Rechercher un <%= authType %></span>\n",filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push("<span>Rechercher un ",escape((__stack.lineno=1,authType)),"</span>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBookEdit" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Modifier un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/<%= book.id %>">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBookEditForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input" value="<%= book.title %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input" value="<%= book.subtitle1 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input" value="<%= book.subtitle2 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input" value="<%= book.authorDisplay %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<button type="button" id="auteur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32">\n\t\t\t\t\t\t<% for(var i=0; i<selectedAuthors.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%= selectedAuthors[i].name %></span>\n\t\t\t\t\t\t\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<button type="button" id="contributeur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32">\n\t\t\t\t\t\t<% for(var i=0; i<selectedContribs.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%= selectedContribs[i].name %> </span>\n\t\t\t\t\t\t\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t\t\t\t\t\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input" value="<%= book.year %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input" value="<%= book.language %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input" value="<%= book.categories %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input" value="<%= book.collection %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32">\n\t\t\t\t\t<% for(var i=0; i<sources.length; i++) {%>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p id="<%= i %>" >\n\t\t\t\t\t\t\t\t<span><%- sources[i] %></span>\n\t\t\t\t\t\t\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" value="<%= book.styles.color %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" value="<%= book.styles.image %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" value="<%= book.styles.font %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" value="<%= book.styles.cover %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" value="<%= book.styles.author %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" value="<%= book.styles.title %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" value="<%= book.styles.subtitle1 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" value="<%= book.styles.subtitle2 %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" value="<%= book.styles.logo %>" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" rows="10" style="display: block; width: 100%; margin-top: 4px"><%- book.description %></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input" value="<%= book.path %>" >\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" <% if(book.visible) {%> checked <%}%> > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBookEdit" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Modifier un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/',escape((__stack.lineno=44,book.id)),'">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBookEditForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input" value="',escape((__stack.lineno=52,book.title)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input" value="',escape((__stack.lineno=58,book.subtitle1)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input" value="',escape((__stack.lineno=63,book.subtitle2)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input" value="',escape((__stack.lineno=68,book.authorDisplay)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<button type="button" id="auteur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32">\n\t\t\t\t\t\t'),__stack.lineno=80;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="',escape((__stack.lineno=82,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=82,t)),'" >\n\t\t\t\t\t\t\t\t<span>',escape((__stack.lineno=83,selectedAuthors[t].name)),'</span>\n\t\t\t\t\t\t\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t'),__stack.lineno=88;for(buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<button type="button" id="contributeur" class="button align-right open-modal-btn">Rechercher</button>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32">\n\t\t\t\t\t\t'),__stack.lineno=103,t=0;t<selectedContribs.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p data-key="',escape((__stack.lineno=105,selectedContribs[t].id)),'" id="',escape((__stack.lineno=105,t)),'" >\n\t\t\t\t\t\t\t\t<span>',escape((__stack.lineno=106,selectedContribs[t].name))," </span>\n\t\t\t\t\t\t\t\t<span>(",escape((__stack.lineno=107,selectedContribs[t].role)),')</span>\n\t\t\t\t\t\t\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t\t<span style="clear: both"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t'),__stack.lineno=112;for(buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input" value="',escape((__stack.lineno=120,book.year)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input" value="',escape((__stack.lineno=126,book.language)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input" value="',escape((__stack.lineno=132,book.categories)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input" value="',escape((__stack.lineno=138,book.collection)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32">\n\t\t\t\t\t'),__stack.lineno=150,t=0;t<sources.length;t++)buf.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p id="',escape((__stack.lineno=152,t)),'" >\n\t\t\t\t\t\t\t\t<span>',(__stack.lineno=153,sources[t]),'</span>\n\t\t\t\t\t\t\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t'),__stack.lineno=157;buf.push('\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" value="',escape((__stack.lineno=164,book.styles.color)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" value="',escape((__stack.lineno=169,book.styles.image)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" value="',escape((__stack.lineno=174,book.styles.font)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" value="',escape((__stack.lineno=179,book.styles.cover)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" value="',escape((__stack.lineno=184,book.styles.author)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" value="',escape((__stack.lineno=189,book.styles.title)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" value="',escape((__stack.lineno=194,book.styles.subtitle1)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" value="',escape((__stack.lineno=199,book.styles.subtitle2)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" value="',escape((__stack.lineno=204,book.styles.logo)),'" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" rows="10" style="display: block; width: 100%; margin-top: 4px">',(__stack.lineno=209,book.description),'</textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input" value="',escape((__stack.lineno=214,book.path)),'" >\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" '),__stack.lineno=219,book.visible&&(buf.push(" checked "),__stack.lineno=219),buf.push(' > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(0));function a(t){return t&&t.__esModule?t:{default:t}}a(e(2));var i=e(49),s=e(48),r=e(47),l=e(46),u=e(45),c=e(44),p=e(43);n.default=function(t){var n=location.hash.replace(/(#\/admin\/books\/|\/edit)/g,""),e=t,a={method:"GET",url:"/books/"+n};o.default.ajax(a).then(function(t){var a=JSON.parse(t);if(a.error)console.log(a.error);else{for(var d=function(t){o.default.setHTML("#form-error",""),"title"===t.target.name?o.default.setHTML("#title .error",""):"authorDisplay"===t.target.name?o.default.setHTML("#authorDisplay .error",""):"year"===t.target.name?o.default.setHTML("#year .error",""):"language"===t.target.name?o.default.setHTML("#language .error",""):"path"===t.target.name&&o.default.setHTML("#path .error","")},b=function(t){var n=t.target.parentElement.id,e=t.target.parentElement.firstElementChild.innerHTML;if("auteur"===g){k.push(n),y.push({id:n,name:e}),o.default.setHTML("#authors .error",""),j.innerHTML=l({selectedAuthors:y}),F();for(var a=j.querySelectorAll(".delete-btn"),i=0;i<a.length;i++)a[i].addEventListener("click",f,!1)}else"contributeur"===g&&(o.default.addClass("#search","hidden"),N.innerHTML=c({selectedContrib:{id:n,name:e}}),N.querySelector("#add-contrib-role-btn").addEventListener("click",function(t){var o=N.querySelector("[name=contrib-role]").value;x.push({id:n,role:o}),_.push({id:n,name:e,role:o}),I.innerHTML=u({selectedContribs:_}),F();for(var a=I.querySelectorAll(".delete-btn"),i=0;i<a.length;i++)a[i].addEventListener("click",f,!1)},!1))},f=function t(n){var e=n.target.parentElement.id;if(console.log(e),"auteur"===(g=n.target.id)){k.splice(e,1),y.splice(e,1),j.innerHTML=l({selectedAuthors:y});for(var o=j.querySelectorAll(".delete-btn"),a=0;a<o.length;a++)o[a].addEventListener("click",t,!1)}else if("contributeur"===g){x.splice(e,1),_.splice(e,1),I.innerHTML=u({selectedContribs:_});for(var i=I.querySelectorAll(".delete-btn"),s=0;s<i.length;s++)i[s].addEventListener("click",t,!1)}},h=function t(n){var e=n.target.parentElement.id;w.splice(e,1),sourcesContainer.innerHTML=p({sources:w});for(var o=sourcesContainer.querySelectorAll(".delete-source-btn"),a=0;a<o.length;a++)o[a].addEventListener("click",t,!1)},m=a.book,g="",v="",y=[],k=[],_=[],x=[],w=[],S=0;S<m.authors.length;S++)k.push(m.authors[S].id),y.push(m.authors[S]);for(var E=0;E<m.contribs.length;E++)x.push(m.contribs[E]),_.push(m.contribs[E]);for(var T=0;T<m.sources.length;T++)w.push(m.sources[T]);e.innerHTML=i({book:m,selectedAuthors:y,selectedContribs:_,sources:w});for(var A=document.querySelector("#adminBookEdit"),C=A.querySelector("#adminBookEditForm"),q=C.querySelectorAll("input"),L=A.querySelector("#modal"),M=L.querySelector("input"),N=L.querySelector("#results"),O=A.querySelector("#source_modal"),j=A.querySelector("#authorsContainer"),I=A.querySelector("#contribsContainer"),P=C.querySelectorAll(".delete-btn"),D=0;D<P.length;D++)P[D].addEventListener("click",f,!1);for(var z=0;z<q.length;z++)q[z].addEventListener("input",d,!1);C.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(C,{});var e={source:{},styles:{}};e.title=C.querySelector("[name=title]").value,e.subtitle1=C.querySelector("[name=subtitle1]").value,e.subtitle2=C.querySelector("[name=subtitle2]").value,e.authorDisplay=C.querySelector("[name=authorDisplay]").value,e.year=C.querySelector("[name=year]").value,e.language=C.querySelector("[name=language]").value,e.categories=C.querySelector("[name=categories]").value,e.collection=C.querySelector("[name=collection]").value,e.sources=w,e.styles.color=C.querySelector("[name=styles-color").value,e.styles.image=C.querySelector("[name=styles-image").value,e.styles.font=C.querySelector("[name=styles-font").value,e.styles.cover=C.querySelector("[name=styles-cover").value,e.styles.author=C.querySelector("[name=styles-author").value,e.styles.title=C.querySelector("[name=styles-title").value,e.styles.subtitle1=C.querySelector("[name=styles-subtitle1").value,e.styles.subtitle2=C.querySelector("[name=styles-subtitle2").value,e.styles.logo=C.querySelector("[name=styles-logo").value,e.description=C.querySelector("[name=description]").value,e.path=C.querySelector("[name=path]").value,e.visible=!!C.querySelector("[name=visible]").checked,e.authors=k,e.contribs=x;var a={method:"PUT",url:"/books/"+n,data:JSON.stringify(e)};o.default.ajax(a).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(C,e.errors):location.hash="#/admin/books/"+n})},!1);for(var R=function(t){t.preventDefault(),g=t.target.id,document.querySelector("#modal h4").innerHTML=s({authType:g}),o.default.removeClass("#search","hidden"),L.style.display="block"},H=A.querySelectorAll(".open-modal-btn"),B=0;B<H.length;B++)H[B].addEventListener("click",R,!1);var F=function(){L.style.display="none",M.value="",N.innerHTML=""};L.querySelector("#close-modal-btn").addEventListener("click",F,!1),M.addEventListener("keyup",function(t){var n={method:"GET",url:"/authors/search?q="+t.target.value};o.default.ajax(n).then(function(t){var n=JSON.parse(t);if(n.error)o.default.bind(L,n,"error");else{t!==v&&(v=t,N.innerHTML=r({authors:n.authors}));for(var e=L.querySelectorAll(".add-btn"),a=0;a<e.length;a++)e[a].addEventListener("click",b,!1)}}).catch(function(t){console.log(t)})},!1),document.querySelector("#open-source-modal-btn").addEventListener("click",function(t){t.preventDefault(),O.style.display="block"},!1),document.querySelector("#close-source-modal-btn").addEventListener("click",function(t){O.style.display="none"},!1),document.querySelector("#add-source-btn").addEventListener("click",function(t){var n=O.querySelector("[name=source]").value;w.push(n),sourcesContainer.innerHTML=p({sources:w});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",h,!1)},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<sources.length; i++) {%>\n<li>\n\t<p id="<%= i %>" >\n\t\t<span><%- sources[i] %></span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<sources.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,sources[t]),'</span>\n\t\t<button type="button" class="delete-source-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<p id="<%= selectedContrib.id %>"><%= selectedContrib.name %></p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<p id="',escape((__stack.lineno=1,selectedContrib.id)),'">',escape((__stack.lineno=1,selectedContrib.name)),'</p>\n<p>\n\t<label>function : </label>\n\t<input type="text" name="contrib-role" class="input">\n</p>\n<p class="padding-16">\n\t<button type="button" id="add-contrib-role-btn" class="button align-right">Ajouter</button>\n</p>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedContribs.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedContribs[i].id %>" id="<%= i %>" >\n\t\t<span><%- selectedContribs[i].name %> </span>\n\t\t<span>(<%= selectedContribs[i].role %>)</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedContribs.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedContribs[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,selectedContribs[t].name)," </span>\n\t\t<span>(",escape((__stack.lineno=5,selectedContribs[t].role)),')</span>\n\t\t<button type="button" id="contributeur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% for(var i=0; i<selectedAuthors.length; i++) {%>\n<li>\n\t<p data-key="<%= selectedAuthors[i].id %>" id="<%= i %>" >\n\t\t<span><%- selectedAuthors[i].name %></span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n<% } %>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;for(var t=0;t<selectedAuthors.length;t++)buf.push('\n<li>\n\t<p data-key="',escape((__stack.lineno=3,selectedAuthors[t].id)),'" id="',escape((__stack.lineno=3,t)),'" >\n\t\t<span>',(__stack.lineno=4,selectedAuthors[t].name),'</span>\n\t\t<button type="button" id="auteur" class="delete-btn button align-right">Supprimer</button>\n\t</p>\n</li>\n'),__stack.lineno=8;buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<ul class="ul">\n<% for(var i=0; i<authors.length; i++) {%>\n<li>\n\t<p id="<%= authors[i].id %>" >\n\t\t<span><%- authors[i].name %></span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n<% } %>\n</ul>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<ul class="ul">\n'),__stack.lineno=2;for(var t=0;t<authors.length;t++)buf.push('\n<li>\n\t<p id="',escape((__stack.lineno=4,authors[t].id)),'" >\n\t\t<span>',(__stack.lineno=5,authors[t].name),'</span> \n\t\t<button type="button" class="add-btn button align-right">Ajouter</button>\n\t</p>\n</li>\n'),__stack.lineno=9;buf.push("\n</ul>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<span>Rechercher un <%= authType %></span>\n",filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push("<span>Rechercher un ",escape((__stack.lineno=1,authType)),"</span>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBooksNew" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ajouter un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBooksNewForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<a href="/#/authors" id="auteur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32"></ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<a href="/#/contribs" id="contributeur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" class="input" style="display: block; width: 100%"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminBooksNew" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Rechercher un auteur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p id="search">\n\t\t\t\t<input type="text" name="search" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<div id="results" style="min-height:150px"></div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tSOURCES MODAL\n--\x3e\n\t<div id="source_modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-source-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Ajouter une source</h4>\n\t\t\t</header>\n\t\t\t<div class="padding-32">\n\t\t\t\t<p>\n\t\t\t\t<input type="text" name="source" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ error }}"></span>\n\t\t\t\t</p>\n\t\t\t\t<button type="button" id="add-source-btn" class="button align-right">Ajouter</button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ajouter un ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div style="clear: both">\n\t\t<form id="adminBooksNewForm">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="title">\n\t\t\t\t<label>Titre * : </label>\n\t\t\t\t<input type="text" name="title" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ title }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle1">\n\t\t\t\t<label>Sous-titre 1 : </label>\n\t\t\t\t<input type="text" name="subtitle1" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="subtitle2">\n\t\t\t\t<label>Sous-titre 2 : </label>\n\t\t\t\t<input type="text" name="subtitle2" class="input">\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="authorDisplay">\n\t\t\t\t<label>Auteur (libellé) * : </label>\n\t\t\t\t<input type="text" name="authorDisplay" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ authorDisplay }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="authors" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Auteurs * : </label>\n\t\t\t\t\t\t<a href="/#/authors" id="auteur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="authorsContainer" class="ul padding-32"></ul>\n\t\t\t\t\t<span class="error" data-utils-bind="{{ authors }}"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div id="contribs" class="margin-bottom border-bottom">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Contributeurs : </label>\n\t\t\t\t\t\t<a href="/#/contribs" id="contributeur" class="align-right open-modal-btn">Rechercher</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="contribsContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="year">\n\t\t\t\t<label>Année de publication * : </label>\n\t\t\t\t<input type="text" name="year" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ year }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="language">\n\t\t\t\t<label>Langue * : </label>\n\t\t\t\t<input type="text" name="language" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ language }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="categories">\n\t\t\t\t<label>Catégories : </label>\n\t\t\t\t<input type="text" name="categories" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ categories }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="collection">\n\t\t\t\t<label>Collection : </label>\n\t\t\t\t<input type="text" name="collection" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ collection }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<div id="sources">\n\t\t\t\t<div class="margin-bottom" style="min-height:100px">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class="align-left">Sources : </label>\n\t\t\t\t\t\t<a href="/#/source" id="open-source-modal-btn" class="align-right">Ajouter</a>\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t\t<ul id="sourcesContainer" class="ul padding-32"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p id="styles-color">\n\t\t\t\t<label>Styles - couleur : </label>\n\t\t\t\t<input type="text" name="styles-color" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-image">\n\t\t\t\t<label>Styles - image : </label>\n\t\t\t\t<input type="text" name="styles-image" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-font">\n\t\t\t\t<label>Styles - police : </label>\n\t\t\t\t<input type="text" name="styles-font" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-cover">\n\t\t\t\t<label>Styles - couverture : </label>\n\t\t\t\t<input type="text" name="styles-cover" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-author">\n\t\t\t\t<label>Styles - auteur : </label>\n\t\t\t\t<input type="text" name="styles-author" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-title">\n\t\t\t\t<label>Styles - titre : </label>\n\t\t\t\t<input type="text" name="styles-title" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle1">\n\t\t\t\t<label>Styles - sous-titre1 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle1" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-subtitle2">\n\t\t\t\t<label>Styles - sous-titre2 : </label>\n\t\t\t\t<input type="text" name="styles-subtitle2" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="styles-logo">\n\t\t\t\t<label>Styles - logo : </label>\n\t\t\t\t<input type="text" name="styles-logo" class="input" >\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="description">\n\t\t\t\t<label>Description : </label>\n\t\t\t\t<textarea type="text" name="description" class="input" style="display: block; width: 100%"></textarea>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="path">\n\t\t\t\t<label>Path * : </label>\n\t\t\t\t<input type="text" name="path" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ path }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="visible">\n\t\t\t\t<label><input type="checkbox" name="visible" > Visible</label>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(0));function a(t){return t&&t.__esModule?t:{default:t}}a(e(2));var i=e(57),s=e(56),r=e(55),l=e(54),u=e(53),c=e(52),p=e(51);n.default=function(t){t.innerHTML=i();var n=document.querySelector("#adminBooksNew"),e=n.querySelector("#adminBooksNewForm"),a=e.querySelectorAll("input"),d=n.querySelector("#modal"),b=d.querySelector("input"),f=d.querySelector("#results"),h=n.querySelector("#source_modal"),m=n.querySelector("#authorsContainer"),g=n.querySelector("#contribsContainer"),v="",y=[],k=[],_=[],x=[],w=[],S="";function E(t){o.default.setHTML("#form-error",""),"title"===t.target.name?o.default.setHTML("#title .error",""):"authorDisplay"===t.target.name?o.default.setHTML("#authorDisplay .error",""):"year"===t.target.name?o.default.setHTML("#year .error",""):"language"===t.target.name?o.default.setHTML("#language .error",""):"path"===t.target.name&&o.default.setHTML("#path .error","")}for(var T=0;T<a.length;T++)a[T].addEventListener("input",E,!1);e.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(e,{});var n={source:{},styles:{}};n.title=e.querySelector("[name=title]").value,n.subtitle1=e.querySelector("[name=subtitle1]").value,n.subtitle2=e.querySelector("[name=subtitle2]").value,n.authorDisplay=e.querySelector("[name=authorDisplay]").value,n.year=e.querySelector("[name=year]").value,n.language=e.querySelector("[name=language]").value,n.categories=e.querySelector("[name=categories]").value,n.collection=e.querySelector("[name=collection]").value,n.sources=w,n.styles.color=e.querySelector("[name=styles-color").value,n.styles.image=e.querySelector("[name=styles-image").value,n.styles.font=e.querySelector("[name=styles-font").value,n.styles.cover=e.querySelector("[name=styles-cover").value,n.styles.author=e.querySelector("[name=styles-author").value,n.styles.title=e.querySelector("[name=styles-title").value,n.styles.subtitle1=e.querySelector("[name=styles-subtitle1").value,n.styles.subtitle2=e.querySelector("[name=styles-subtitle2").value,n.styles.logo=e.querySelector("[name=styles-logo").value,n.description=e.querySelector("[name=description]").value,n.path=e.querySelector("[name=path]").value,n.visible=!!e.querySelector("[name=visible]").checked,n.authors=k,n.contribs=x;var a={method:"POST",url:"/books/",data:JSON.stringify(n)};o.default.ajax(a).then(function(t){var n=JSON.parse(t);n.errors?o.default.bind(e,n.errors):location.hash="#/admin/books/"})},!1);for(var A=function(t){t.preventDefault(),v=t.target.id,document.querySelector("#modal h4").innerHTML=s({authType:v}),o.default.removeClass("#search","hidden"),d.style.display="block"},C=n.querySelectorAll(".open-modal-btn"),q=0;q<C.length;q++)C[q].addEventListener("click",A,!1);var L=function(){d.style.display="none",b.value="",f.innerHTML=""};function M(t){var n=t.target.parentElement.id,e=t.target.parentElement.firstElementChild.innerHTML;if("auteur"===v){k.push(n),y.push({id:n,name:e}),o.default.setHTML("#authors .error",""),m.innerHTML=l({selectedAuthors:y}),L();for(var a=m.querySelectorAll(".delete-btn"),i=0;i<a.length;i++)a[i].addEventListener("click",N,!1)}else"contributeur"===v&&(o.default.addClass("#search","hidden"),f.innerHTML=c({selectedContrib:{id:n,name:e}}),f.querySelector("#add-contrib-role-btn").addEventListener("click",function(t){var o=f.querySelector("[name=contrib-role]").value;x.push({id:n,role:o}),_.push({id:n,name:e,role:o}),g.innerHTML=u({selectedContribs:_}),L();for(var a=g.querySelectorAll(".delete-btn"),i=0;i<a.length;i++)a[i].addEventListener("click",N,!1)},!1))}function N(t){var n=t.target.parentElement.id;if("auteur"===(v=t.target.id)){k.splice(n,1),y.splice(n,1),m.innerHTML=l({selectedAuthors:y});for(var e=m.querySelectorAll(".delete-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",N,!1)}else if("contributeur"===v){x.splice(n,1),_.splice(n,1),g.innerHTML=u({selectedContribs:_});for(var a=g.querySelectorAll(".delete-btn"),i=0;i<a.length;i++)a[i].addEventListener("click",N,!1)}}function O(t){var n=t.target.parentElement.id;w.splice(n,1),sourcesContainer.innerHTML=p({sources:w});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",O,!1)}d.querySelector("#close-modal-btn").addEventListener("click",L,!1),b.addEventListener("keyup",function(t){var n={method:"GET",url:"/authors/search?q="+t.target.value};o.default.ajax(n).then(function(t){var n=JSON.parse(t);if(n.error)o.default.bind(d,n,"error");else{t!==S&&(S=t,f.innerHTML=r({authors:n.authors}));for(var e=d.querySelectorAll(".add-btn"),a=0;a<e.length;a++)e[a].addEventListener("click",M,!1)}}).catch(function(t){console.log(t)})},!1),document.querySelector("#open-source-modal-btn").addEventListener("click",function(t){t.preventDefault(),h.style.display="block"},!1),document.querySelector("#close-source-modal-btn").addEventListener("click",function(t){h.style.display="none"},!1),document.querySelector("#add-source-btn").addEventListener("click",function(t){var n=h.querySelector("[name=source]").value;w.push(n),sourcesContainer.innerHTML=p({sources:w});for(var e=sourcesContainer.querySelectorAll(".delete-source-btn"),o=0;o<e.length;o++)e[o].addEventListener("click",O,!1)},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBook" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un ouvrage</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet ouvrage ?</p>\n\t\t\t\t<p><%- book.title %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div id="aBook" style="clear: both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Titre : </b><span><%- book.title %></span></p>\n\t\t\t<p><b>Sous-titre1 : </b><span><%- book.subtitle1 %></span></p>\n\t\t\t<p><b>Sous-titre2 : </b><span><%- book.subtitle2 %></span></p>\n\t\t\t<p><b>Auteur (libellé) : </b><span><%- book.authorDisplay %></span></p>\n\t\t\t<p>\n\t\t\t\t<% if (book.authors.length===1) { %>\n\t\t\t\t\t<span><b>Auteur :</b></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t<% } %>\n\t\t\t</p>\n\t\t\t<ul id="authors-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<book.authors.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/authors/<%= book.authors[i].id %>\'>\n\t\t\t\t\t\t<%= book.authors[i].name %>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t<% if (book.contribs.length===1) { %>\n\t\t\t\t\t<span><b>Contributeur :</b></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span><b>Contributeurs :</b></span>\n\t\t\t\t<% } %>\n\t\t\t</p>\n\t\t\t<ul id="contribs-list" class=\'ul\'>\n\t\t\t\t<% for(var i=0; i<book.contribs.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\'/#/admin/authors/<%= book.contribs[i].id %>\'>\n\t\t\t\t\t\t<%= book.contribs[i].name %> (<%= book.contribs[i].role %>)\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p><b>Année de publication : </b><span><%= book.year %></span></p>\n\t\t\t<p><b>Langue : </b><span><%= book.language %></span></p>\n\t\t\t<p><b>Sources :</b></p>\n\t\t\t<ul class=\'ul\'>\n\t\t\t<% for(var i=0; i<book.sources.length; i++) {%>\n\t\t\t\t<li>\n\t\t\t\t\t<p id="<%= i %>" >\n\t\t\t\t\t\t<span><%- book.sources[i] %></span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<p><b>Styles :</b></p>\n\t\t\t<ul class=\'ul\'>\n\t\t\t\t<li><b>Couleur : </b><span><%= book.styles.color %></span></li>\n\t\t\t\t<li><b>Image : </b><span><%= book.styles.image %></span></li>\n\t\t\t\t<li><b>Police : </b><span><%= book.styles.font %></span></li>\n\t\t\t\t<li><b>Couverture : </b><span><%= book.styles.cover %></span></li>\n\t\t\t\t<li><b>Auteur : </b><span><%= book.styles.author %></span></li>\n\t\t\t\t<li><b>Titre : </b><span><%= book.styles.title %></span></li>\n\t\t\t\t<li><b>Sous-titre1 : </b><span><%= book.styles.subtitle1 %></span></li>\n\t\t\t\t<li><b>Sous-titre2 : </b><span><%= book.styles.subtitle2 %></span></li>\n\t\t\t\t<li><b>Logo : </b><span><%= book.styles.logo %></span></li>\n\t\t\t</ul>\n\t\t\t<p><b>Collection : </b><span><%= book.collection %></span></p>\n\t\t\t<p><b>Description :</b></p>\n\t\t\t<div><%- replaceLines(book.description) %></div>\n\t\t\t<p><b>Path : </b><span><%= book.path %></span></p>\n\t\t\t<p><b>Visible : </b><span><% if(book.visible===true) {%>oui<%} else {%>non<%}%></span></p>\n\t\t\t<p><b>Créé le : </b><span><%= book.created_at %></span></p>\n\t\t\t<p><b>Mis à jour le : </b><span><%= book.updated_at %></span></p>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/books/<%= book.id %>/edit" class="button">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBook" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un ouvrage</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet ouvrage ?</p>\n\t\t\t\t<p>',(__stack.lineno=13,book.title),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Ouvrage</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/books/">Retour</a></p>\n\t<div id="aBook" style="clear: both">\n\t\t<span class="error">',escape((__stack.lineno=26,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Titre : </b><span>',(__stack.lineno=29,book.title),"</span></p>\n\t\t\t<p><b>Sous-titre1 : </b><span>",(__stack.lineno=30,book.subtitle1),"</span></p>\n\t\t\t<p><b>Sous-titre2 : </b><span>",(__stack.lineno=31,book.subtitle2),"</span></p>\n\t\t\t<p><b>Auteur (libellé) : </b><span>",(__stack.lineno=32,book.authorDisplay),"</span></p>\n\t\t\t<p>\n\t\t\t\t"),__stack.lineno=34,1===book.authors.length?(buf.push("\n\t\t\t\t\t<span><b>Auteur :</b></span>\n\t\t\t\t"),__stack.lineno=36):(buf.push("\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t"),__stack.lineno=38),buf.push("\n\t\t\t</p>\n\t\t\t<ul id=\"authors-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=41;for(var t=0;t<book.authors.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/authors/",escape((__stack.lineno=43,book.authors[t].id)),"'>\n\t\t\t\t\t\t",escape((__stack.lineno=44,book.authors[t].name)),"\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=47;for(buf.push("\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t"),__stack.lineno=50,1===book.contribs.length?(buf.push("\n\t\t\t\t\t<span><b>Contributeur :</b></span>\n\t\t\t\t"),__stack.lineno=52):(buf.push("\n\t\t\t\t\t<span><b>Contributeurs :</b></span>\n\t\t\t\t"),__stack.lineno=54),buf.push("\n\t\t\t</p>\n\t\t\t<ul id=\"contribs-list\" class='ul'>\n\t\t\t\t"),__stack.lineno=57,t=0;t<book.contribs.length;t++)buf.push("\n\t\t\t\t<li>\n\t\t\t\t\t<a href='/#/admin/authors/",escape((__stack.lineno=59,book.contribs[t].id)),"'>\n\t\t\t\t\t\t",escape((__stack.lineno=60,book.contribs[t].name))," (",escape((__stack.lineno=60,book.contribs[t].role)),")\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t"),__stack.lineno=63;for(buf.push("\n\t\t\t</ul>\n\t\t\t<p><b>Année de publication : </b><span>",escape((__stack.lineno=65,book.year)),"</span></p>\n\t\t\t<p><b>Langue : </b><span>",escape((__stack.lineno=66,book.language)),"</span></p>\n\t\t\t<p><b>Sources :</b></p>\n\t\t\t<ul class='ul'>\n\t\t\t"),__stack.lineno=69,t=0;t<book.sources.length;t++)buf.push('\n\t\t\t\t<li>\n\t\t\t\t\t<p id="',escape((__stack.lineno=71,t)),'" >\n\t\t\t\t\t\t<span>',(__stack.lineno=72,book.sources[t]),"</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t"),__stack.lineno=75;buf.push("\n\t\t\t</ul>\n\t\t\t<p><b>Styles :</b></p>\n\t\t\t<ul class='ul'>\n\t\t\t\t<li><b>Couleur : </b><span>",escape((__stack.lineno=79,book.styles.color)),"</span></li>\n\t\t\t\t<li><b>Image : </b><span>",escape((__stack.lineno=80,book.styles.image)),"</span></li>\n\t\t\t\t<li><b>Police : </b><span>",escape((__stack.lineno=81,book.styles.font)),"</span></li>\n\t\t\t\t<li><b>Couverture : </b><span>",escape((__stack.lineno=82,book.styles.cover)),"</span></li>\n\t\t\t\t<li><b>Auteur : </b><span>",escape((__stack.lineno=83,book.styles.author)),"</span></li>\n\t\t\t\t<li><b>Titre : </b><span>",escape((__stack.lineno=84,book.styles.title)),"</span></li>\n\t\t\t\t<li><b>Sous-titre1 : </b><span>",escape((__stack.lineno=85,book.styles.subtitle1)),"</span></li>\n\t\t\t\t<li><b>Sous-titre2 : </b><span>",escape((__stack.lineno=86,book.styles.subtitle2)),"</span></li>\n\t\t\t\t<li><b>Logo : </b><span>",escape((__stack.lineno=87,book.styles.logo)),"</span></li>\n\t\t\t</ul>\n\t\t\t<p><b>Collection : </b><span>",escape((__stack.lineno=89,book.collection)),"</span></p>\n\t\t\t<p><b>Description :</b></p>\n\t\t\t<div>",(__stack.lineno=91,replaceLines(book.description)),"</div>\n\t\t\t<p><b>Path : </b><span>",escape((__stack.lineno=92,book.path)),"</span></p>\n\t\t\t<p><b>Visible : </b><span>"),__stack.lineno=93,!0===book.visible?(buf.push("oui"),__stack.lineno=93):(buf.push("non"),__stack.lineno=93),buf.push("</span></p>\n\t\t\t<p><b>Créé le : </b><span>",escape((__stack.lineno=94,book.created_at)),"</span></p>\n\t\t\t<p><b>Mis à jour le : </b><span>",escape((__stack.lineno=95,book.updated_at)),'</span></p>\n\t\t</div>\n\t\t<p>\n\t\t\t<a href="#/admin/books/',escape((__stack.lineno=98,book.id)),'/edit" class="button">Modifier</a>\n\t\t\t<button type="button" id="open-modal-btn" class="button align-right">Supprimer</button>\n\t\t</p>\n\t</div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(59);n.default=function(t){var n=location.hash.replace(/^#\/admin\/books\//,""),e=t,o={method:"GET",url:"/books/"+n};a.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)e.innerHTML=i({book:{},error:o.error});else{e.innerHTML=i({book:o.book,error:"",replaceLines:a.default.replaceLines});var s=document.querySelector("#adminBook"),r=s.querySelector("#modal"),l=s.querySelector("#aBook");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1),r.querySelector("#delete-btn").addEventListener("click",function(t){var e={method:"DELETE",url:"/books/"+n};a.default.ajax(e).then(function(t){var n=JSON.parse(t);n.error?(a.default.bind(l,n,"error"),r.style.display="none"):location.hash="#/admin/books/"})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminBooks" class="content">\n\t<p class="padding-16 align-left"><b>Ouvrages (<%= books.length %>)</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/books/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<ul id="books-list" class=\'ul\' style="padding: 0px">\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href=\'/#/admin/books/<%= books[i].id %>\'>\n\t\t\t\t\t\t<%- books[i].title %>&ensp;\n\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t&ndash;&ensp;<%- books[i].subtitle1 %>&ensp;\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t&ndash;&ensp;<%- books[i].subtitle2 %>&ensp;\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t(<%- books[i].authorDisplay %>)\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminBooks" class="content">\n\t<p class="padding-16 align-left"><b>Ouvrages (',escape((__stack.lineno=2,books.length)),')</b></p>\n\t<p class="padding-16 align-right"><a href="/#/admin/books/new">Ajouter</a></p>\n\t<div style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=5,error)),'</span>\n\t\t<ul id="books-list" class=\'ul\' style="padding: 0px">\n\t\t\t'),__stack.lineno=7;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t<li>\n\t\t\t\t<p>\n\t\t\t\t\t<a href='/#/admin/books/",escape((__stack.lineno=10,books[t].id)),"'>\n\t\t\t\t\t\t",(__stack.lineno=11,books[t].title),"&ensp;\n\t\t\t\t\t\t"),__stack.lineno=12,books[t].subtitle1&&(buf.push("\n\t\t\t\t\t\t\t&ndash;&ensp;",(__stack.lineno=13,books[t].subtitle1),"&ensp;\n\t\t\t\t\t\t"),__stack.lineno=14),buf.push("\n\t\t\t\t\t\t"),__stack.lineno=15,books[t].subtitle2&&(buf.push("\n\t\t\t\t\t\t\t&ndash;&ensp;",(__stack.lineno=16,books[t].subtitle2),"&ensp;\n\t\t\t\t\t\t"),__stack.lineno=17),buf.push("\n\t\t\t\t\t\t(",(__stack.lineno=18,books[t].authorDisplay),")\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t\t"),__stack.lineno=22;buf.push("\n\t\t</ul>\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(61);n.default=function(t){var n=t;a.default.ajax({method:"GET",url:"/books/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=i({books:[],error:e.error}):n.innerHTML=i({books:e.books,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminEditPassword" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre mot de passe</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditPasswordForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t<span class="success hidden" id="form-success" data-utils-bind="{{ message }}"></span>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe actuel : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new">\n\t\t\t<label>Nouveau mot de passe : </label>\n\t\t\t<input type="password" name="password_new" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_new_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminEditPassword" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre mot de passe</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditPasswordForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t<span class="success hidden" id="form-success" data-utils-bind="{{ message }}"></span>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe actuel : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new">\n\t\t\t<label>Nouveau mot de passe : </label>\n\t\t\t<input type="password" name="password_new" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_new_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_new_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_new_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(63);n.default=function(t,n){var e=n;t.innerHTML=i();var o=document.querySelector("#adminEditPassword").querySelector("#adminEditPasswordForm"),s=o.querySelectorAll("input");function r(t){a.default.setHTML("#form-error",""),"password"===t.target.name?a.default.setHTML("#password .error",""):"password_new"===t.target.name?a.default.setHTML("#password_new .error",""):"password_new_confirm"===t.target.name&&a.default.setHTML("#password_new_confirm .error","")}for(var l=0;l<s.length;l++)s[l].addEventListener("input",r,!1);o.addEventListener("submit",function(t){t.preventDefault(),a.default.bind(o,{});var n={};n.password=o.querySelector("[name=password]").value,n.password_new=o.querySelector("[name=password_new]").value,n.password_new_confirm=o.querySelector("[name=password_new_confirm]").value;var i={method:"PUT",url:"/users/password/"+e.id,data:JSON.stringify(n)};a.default.ajax(i).then(function(t){var n=JSON.parse(t);n.errors?a.default.bind(o,n.errors):(o.querySelector("[name=password]").value="",o.querySelector("[name=password_new]").value="",o.querySelector("[name=password_new_confirm]").value="",a.default.bind(o,{message:"Votre mot de passe a été changé."}),a.default.addClass("#form-error","hidden"),a.default.removeClass("#form-succes","hidden"))})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre profil</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminEdit" class="content">\n\t<p class="align-left padding-16"><b>Modifier votre profil</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminEditForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(65);n.default=function(t,n){t.innerHTML=i();var e=document.querySelector("#adminEdit").querySelector("#adminEditForm"),o=e.querySelectorAll("input"),s=n;function r(t){a.default.setHTML("#form-error",""),"name"===t.target.name?a.default.setHTML("#name .error",""):"email"===t.target.name?a.default.setHTML("#email .error",""):"password"===t.target.name&&a.default.setHTML("#password .error","")}e.querySelector("[name=name]").value=s.name,e.querySelector("[name=email]").value=s.email;for(var l=0;l<o.length;l++)o[l].addEventListener("input",r,!1);e.addEventListener("submit",function(t){t.preventDefault(),a.default.bind(e,{});var n={};n.name=e.querySelector("[name=name]").value,n.email=e.querySelector("[name=email]").value,n.password=e.querySelector("[name=password]").value;var o={method:"PUT",url:"/users/"+s.id,data:JSON.stringify(n)};a.default.ajax(o).then(function(t){var n=JSON.parse(t);n.errors?a.default.bind(e,n.errors):location.hash="#/admin/"})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminNew" class="content">\n\t<p class="align-left padding-16"><b>Nouveau compte administrateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminRegisterForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminNew" class="content">\n\t<p class="align-left padding-16"><b>Nouveau compte administrateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/">Retour</a></p>\n\t<form id="adminRegisterForm" style="clear:both">\n\t\t\n\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\n\t\t<p id="name">\n\t\t\t<label>Nom : </label>\n\t\t\t<input type="text" name="name" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ name }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="email">\n\t\t\t<label>Email : </label>\n\t\t\t<input type="text" name="email" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password">\n\t\t\t<label>Mot de passe : </label>\n\t\t\t<input type="password" name="password" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t</p>\n\t\t\n\t\t<p id="password_confirm">\n\t\t\t<label>Confirmation : </label>\n\t\t\t<input type="password" name="password_confirm" class="input">\n\t\t\t<span class="error" data-utils-bind="{{ password_confirm }}"></span>\n\t\t</p>\n\t\t\n\t\t<p class="padding-16">\n\t\t\t<button type="submit" class="button">Valider</button>\n\t\t</p>\n\t</form>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(67);n.default=function(t){t.innerHTML=i();var n=document.querySelector("#adminNew").querySelector("#adminRegisterForm"),e=n.querySelectorAll("input");function o(t){a.default.setHTML("#form-error",""),"name"===t.target.name?a.default.setHTML("#name .error",""):"email"===t.target.name?a.default.setHTML("#email .error",""):"password"===t.target.name?a.default.setHTML("#password .error",""):"password_confirm"===t.target.name&&a.default.setHTML("#password_confirm .error","")}for(var s=0;s<e.length;s++)e[s].addEventListener("input",o,!1);n.addEventListener("submit",function(t){t.preventDefault(),a.default.bind(n,{});var e={};e.name=n.querySelector("[name=name]").value,e.email=n.querySelector("[name=email]").value,e.password=n.querySelector("[name=password]").value,e.password_confirm=n.querySelector("[name=password_confirm]").value;var o={method:"POST",url:"/users/admin/new",data:JSON.stringify(e)};a.default.ajax(o).then(function(t){var e=JSON.parse(t);e.errors?a.default.bind(n,e.errors):location.hash="#/admin/users/"})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminUser" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un utilisateur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet utilisateur&nbsp;?</p>\n\t\t\t\t<p><%= user.email %></p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Utilisateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/users/">Retour</a></p>\n\t<div id="user" style="clear:both">\n\t\t<span class="error"><%= error %></span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b><%= user.name %></p>\n\t\t\t<p><b>Email : </b><%= user.email %></p>\n\t\t\t<p><b>Admin : </b><%= user.admin %></p>\n\t\t\t<p><b>Créé le : </b><%= user.created_at %></p>\n\t\t\t<p><b>Mis à jour le : </b><%= user.updated_at %></p>\n\t\t</div>\n\t\t<p class="padding-16"><button type="button" id="open-modal-btn" class="button">Supprimer</button></p>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminUser" class="content">\n\x3c!--\n\tMODAL\n--\x3e\n\t<div id="modal" class="modal">\n\t\t<div class="modal-content animate-top container" style="max-width: 500px">\n\t\t\t<header class="border-bottom"> \n\t\t\t\t<button id="close-modal-btn" class="btn topright" style="font-size: 1.5em">&times;</button>\n\t\t\t\t<h4>Supprimer un utilisateur</h4>\n\t\t\t</header>\n\t\t\t<div>\n\t\t\t\t<p>Voulez-vous vraiment supprimer cet utilisateur&nbsp;?</p>\n\t\t\t\t<p>',escape((__stack.lineno=13,user.email)),'</p>\n\t\t\t\t<p class="align-right"><button type="button" id="delete-btn" class="button">Supprimer</button></p>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\x3c!--\n\tMAIN\n--\x3e\n\t<p class="align-left padding-16"><b>Utilisateur</b></p>\n\t<p class="align-right padding-16"><a href="/#/admin/users/">Retour</a></p>\n\t<div id="user" style="clear:both">\n\t\t<span class="error">',escape((__stack.lineno=25,error)),'</span>\n\t\t<span class="error" id="modal-error" data-utils-bind="{{ error }}"></span>\n\t\t<div class="border-bottom">\n\t\t\t<p><b>Nom : </b>',escape((__stack.lineno=28,user.name)),"</p>\n\t\t\t<p><b>Email : </b>",escape((__stack.lineno=29,user.email)),"</p>\n\t\t\t<p><b>Admin : </b>",escape((__stack.lineno=30,user.admin)),"</p>\n\t\t\t<p><b>Créé le : </b>",escape((__stack.lineno=31,user.created_at)),"</p>\n\t\t\t<p><b>Mis à jour le : </b>",escape((__stack.lineno=32,user.updated_at)),'</p>\n\t\t</div>\n\t\t<p class="padding-16"><button type="button" id="open-modal-btn" class="button">Supprimer</button></p>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(69);n.default=function(t){var n=t,e=location.hash.replace(/^#\/admin\/users\//,""),o={method:"GET",url:"/users/"+e};a.default.ajax(o).then(function(t){var o=JSON.parse(t);if(o.error)n.innerHTML=i({user:{},error:o.error});else{n.innerHTML=i({user:o.user,error:""});var s=document.querySelector("#adminUser"),r=s.querySelector("#modal"),l=s.querySelector("#user");l.querySelector("#open-modal-btn").addEventListener("click",function(){r.style.display="block"},!1),r.querySelector("#close-modal-btn").addEventListener("click",function(){r.style.display="none"},!1),r.querySelector("#delete-btn").addEventListener("click",function(t){var n={method:"DELETE",url:"/users/"+e};a.default.ajax(n).then(function(t){var n=JSON.parse(t);n.error?(a.default.bind(l,n),r.style.display="none"):location.hash="#/admin/users/"})},!1)}})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminUsers" class="content">\n\t<p style="padding-top: 16px; margin-bottom: 0px"><b>Utilisateurs</b></p>\n\t<span class="error"><%= error %></span>\n\t<ul id="users-list" class=\'ul\' style="padding: 0px;">\n\t\t<% for(var i=0; i<users.length; i++) {%>\n\t\t<li>\n\t\t\t<p id=\'<%= users[i].id %>\'>\n\t\t\t\t<a href=\'/#/admin/users/<%= users[i].id %>\'><%= users[i].email %></a>\n\t\t\t</p>\n\t\t</li>\n\t\t<% } %>\n\t</ul>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="adminUsers" class="content">\n\t<p style="padding-top: 16px; margin-bottom: 0px"><b>Utilisateurs</b></p>\n\t<span class="error">',escape((__stack.lineno=3,error)),'</span>\n\t<ul id="users-list" class=\'ul\' style="padding: 0px;">\n\t\t'),__stack.lineno=5;for(var t=0;t<users.length;t++)buf.push("\n\t\t<li>\n\t\t\t<p id='",escape((__stack.lineno=7,users[t].id)),"'>\n\t\t\t\t<a href='/#/admin/users/",escape((__stack.lineno=8,users[t].id)),"'>",escape((__stack.lineno=8,users[t].email)),"</a>\n\t\t\t</p>\n\t\t</li>\n\t\t"),__stack.lineno=11;buf.push("\n\t</ul>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,a=(o=e(0))&&o.__esModule?o:{default:o},i=e(71);n.default=function(t){var n=t;a.default.ajax({method:"GET",url:"/users/"}).then(function(t){var e=JSON.parse(t);e.error?n.innerHTML=i({users:[],error:e.error}):n.innerHTML=i({users:e.users,error:""})})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminHome" class="content">\n\t<p class="padding-16"><b>Accueil</b></p>\n\t<div class="border-bottom">\n\t\t<p><%= user.name %></p>\n\t\t<p><%= user.email %></p></p>\n\t</div>\n\t<div  class="border-bottom">\n\t\t<p><a id="update-user-btn" href="/#/admin/edit/">Modifier profil</a></p>\n\t\t<p><a id="update-password-btn" href="/#/admin/edit/password">Modifier mot de passe</a></p>\n\t\t<p><a id="new-btn" href="/#/admin/new" >Nouveau compte administrateur</a></p>\n\t</div>\n\t<p class="padding-16"><button id="logout-btn" type="button" class="button">Déconnexion</button></p>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminHome" class="content">\n\t<p class="padding-16"><b>Accueil</b></p>\n\t<div class="border-bottom">\n\t\t<p>',escape((__stack.lineno=4,user.name)),"</p>\n\t\t<p>",escape((__stack.lineno=5,user.email)),'</p></p>\n\t</div>\n\t<div  class="border-bottom">\n\t\t<p><a id="update-user-btn" href="/#/admin/edit/">Modifier profil</a></p>\n\t\t<p><a id="update-password-btn" href="/#/admin/edit/password">Modifier mot de passe</a></p>\n\t\t<p><a id="new-btn" href="/#/admin/new" >Nouveau compte administrateur</a></p>\n\t</div>\n\t<p class="padding-16"><button id="logout-btn" type="button" class="button">Déconnexion</button></p>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(0)),a=i(e(2));function i(t){return t&&t.__esModule?t:{default:t}}var s=e(73);n.default=function(t,n){if(n){var e=n;t.innerHTML=s({user:e}),document.querySelector("#adminHome").querySelector("#logout-btn").addEventListener("click",function(){o.default.ajax({method:"GET",url:"/users/logout"}).then(function(t){a.default.setData("currentUser",JSON.parse(t).user),o.default.addClass("#admin-item","hidden"),o.default.addClass("#menu-admin-item","hidden"),location.hash="#/"})},!1)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),g(e(0));var o=g(e(74)),a=g(e(72)),i=g(e(70)),s=g(e(68)),r=g(e(66)),l=g(e(64)),u=g(e(62)),c=g(e(60)),p=g(e(58)),d=g(e(50)),b=g(e(42)),f=g(e(40)),h=g(e(38)),m=g(e(36));function g(t){return t&&t.__esModule?t:{default:t}}n.default=function(t,n,e){var g,v=e,y=document.querySelector("#admin-container");return g=y,void("#/admin/"===n?(0,o.default)(g,v):"#/admin/new"===n?(0,s.default)(g):"#/admin/edit/"===n?(0,r.default)(g,v):"#/admin/edit/password"===n?(0,l.default)(g,v):"#/admin/users/"===n?(0,a.default)(g):n.match(/#\/admin\/users\/[^\/]+$/)?(0,i.default)(g):"#/admin/books/"===n?(0,u.default)(g):"#/admin/books/new"===n?(0,p.default)(g):n.match(/#\/admin\/books\/[^\/]+\/edit$/)?(0,d.default)(g):n.match(/#\/admin\/books\/[^\/]+$/)?(0,c.default)(g):"#/admin/authors/"===n?(0,b.default)(g):"#/admin/authors/new"===n?(0,h.default)(g):n.match(/#\/admin\/authors\/[^\/]+\/edit$/)?(0,m.default)(g):n.match(/#\/admin\/authors\/[^\/]+$/)?(0,f.default)(y):location.hash="#/admin/")}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="adminLogin" class="content" style="min-height: 500px;">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration&ensp;&ndash;&ensp;connexion</h3>\n\t\t<form id="adminLoginForm" class="container">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="email">\n\t\t\t\t<label>Identifiant : </label>\n\t\t\t\t<input type="text" name="email" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="password">\n\t\t\t\t<label>Mot de passe : </label>\n\t\t\t\t<input type="password" name="password" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" id="loginButton" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="adminLogin" class="content" style="min-height: 500px;">\n\t<div class="container padding-16">\n\t\t<h3 class="container text-center">Espace administration&ensp;&ndash;&ensp;connexion</h3>\n\t\t<form id="adminLoginForm" class="container">\n\t\t\t\n\t\t\t<span class="error" id="form-error" data-utils-bind="{{ form }}"></span>\n\t\t\t\n\t\t\t<p id="email">\n\t\t\t\t<label>Identifiant : </label>\n\t\t\t\t<input type="text" name="email" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ email }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p id="password">\n\t\t\t\t<label>Mot de passe : </label>\n\t\t\t\t<input type="password" name="password" class="input">\n\t\t\t\t<span class="error" data-utils-bind="{{ password }}"></span>\n\t\t\t</p>\n\t\t\t\n\t\t\t<p class="padding-16">\n\t\t\t\t<button type="submit" id="loginButton" class="button">Valider</button>\n\t\t\t</p>\n\t\t\t\n\t\t</form>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(0)),a=i(e(2));function i(t){return t&&t.__esModule?t:{default:t}}var s=e(76);n.default=function(t){t.innerHTML=s();var n=document.querySelector("#adminLogin").querySelector("#adminLoginForm"),e=n.querySelectorAll("input");function i(t){o.default.setHTML("#form-error",""),"email"===t.target.name?o.default.setHTML("#email .error",""):"password"===t.target.name&&o.default.setHTML("#password .error","")}for(var r=0;r<e.length;r++)e[r].addEventListener("input",i,!1);n.addEventListener("submit",function(t){t.preventDefault(),o.default.bind(n,{});var e={};e.email=n.querySelector("[name=email]").value,e.password=n.querySelector("[name=password]").value;var i={method:"POST",url:"/users/login",data:JSON.stringify(e)};o.default.ajax(i).then(function(t){var e=JSON.parse(t);e.errors?o.default.bind(n,e.errors):(a.default.setData("currentUser",e.user),!0===e.user.admin?(o.default.removeClass("#admin-item","hidden"),o.default.removeClass("#menu-admin-item","hidden"),location.hash="#/admin/"):o.default.setHTML("#form-error","Vous n'avez pas le droit d'accéder à l'espace administration."))})},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="authors-container" class="fade">\n\t<div id="top-page-header">auteurs</div>\n\t<div id="authors-list">\n\t\t<div id="letters">\n\t\t\t<%- include src/components/authors/authors-letters.ejs -%>\n\t\t</div>\n\t\t<div>\n\t\t\t\n\t\t\t<% if(authors.length===0) {%>\n\t\t\t\t<p id="noresult">aucun résultat.</p>\n\t\t\t<%}%>\n\t\t\t\n\t\t\t<% for(var i=0; i<authors.length; i++) {%>\n\t\t\t\t<% if(authors[i].visible) { %>\n\t\t\t\t<div class="auth" id="auth_<%= i %>">\n\t\t\t\t\t<button id="<%= authors[i].id %>" class="accordion"><%- authors[i].name %>&ensp;(<%- authors[i].works.length %>)</button>\n\t\t\t\t\t<div class="books-list">\n\t\t\t\t\t\t<button class="previous btn" type="button">&lt;</button>\n\t\t\t\t\t\t<button class="next btn" type="button">&gt;</button>\n\t\t\t\t\t<% for(var j=0; j<authors[i].works.length; j++) {%>\n\t\t\t\t\t\t<% var work = authors[i].works[j] %>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t\t\t<%- include src/components/authors/infos-modal.ejs -%>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="slide fade slides_<%= i %>" id="slide_<%= work.id %>">\n\t\t\t\t\t\t\t<div id="paper" style="background-color: <%- work.styles.color %>; background-image: url(<%- work.styles.image %>)">\n\t\t\t\t\t\t\t\t<div id="<%= work.id %>" class="book" style="<%= work.styles.cover %>">\n\t\t\t\t\t\t\t\t\t<p class="author" style="<%=work.styles.author %>"><%- work.authorDisplay %></p>\n\t\t\t\t\t\t\t\t\t<p class="title" style="<%-work.styles.title %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.title %>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% if(work.subtitle1) {%>\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="<%= work.styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.subtitle1 %></a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<% if(work.subtitle2) {%>\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="<%= work.styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t\t\t<%- work.subtitle2 %></a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<div class="logo" style="<%=work.styles.logo %>">\n\t\t\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t\t\t<% if(!work.visible) {%>\n\t\t\t\t\t\t\t\t\t<button class="tobepublished btn">&Agrave; paraître</button>\n\t\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t\t<button id="open-infos-<%= work.id %>" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<%}%>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t\t\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="authors-container" class="fade">\n\t<div id="top-page-header">auteurs</div>\n\t<div id="authors-list">\n\t\t<div id="letters">\n\t\t\t'+function(){var t=[];return t.push('<a id="a" href="#/authors?q=A" >A</a>&emsp;\n<a id="b" href="#/authors?q=B" >B</a>&emsp;\n<a id="c" href="#/authors?q=C" >C</a>&emsp;\n<a id="d" href="#/authors?q=D" >D</a>&emsp;\n<a id="e" href="#/authors?q=E" >E</a>&emsp;\n<a id="f" href="#/authors?q=F" >F</a>&emsp;\n<a id="g" href="#/authors?q=G" >G</a>&emsp;\n<a id="h" href="#/authors?q=H" >H</a>&emsp;\n<a id="i" href="#/authors?q=I" >I</a>&emsp;\n<a id="j" href="#/authors?q=J" >J</a>&emsp;\n<a id="k" href="#/authors?q=K" >K</a>&emsp;\n<a id="l" href="#/authors?q=L" >L</a>&emsp;\n<a id="m" href="#/authors?q=M" >M</a>&emsp;\n<a id="n" href="#/authors?q=N" >N</a>&emsp;\n<a id="o" href="#/authors?q=O" >O</a>&emsp;\n<a id="p" href="#/authors?q=P" >P</a>&emsp;\n<a id="q" href="#/authors?q=Q" >Q</a>&emsp;\n<a id="r" href="#/authors?q=R" >R</a>&emsp;\n<a id="s" href="#/authors?q=S" >S</a>&emsp;\n<a id="t" href="#/authors?q=T" >T</a>&emsp;\n<a id="u" href="#/authors?q=U" >U</a>&emsp;\n<a id="v" href="#/authors?q=V" >V</a>&emsp;\n<a id="w" href="#/authors?q=W" >W</a>&emsp;\n<a id="x" href="#/authors?q=X" >X</a>&emsp;\n<a id="y" href="#/authors?q=Y" >Y</a>&emsp;\n<a id="z" href="#/authors?q=Z" >Z</a>&emsp;\n'),t.join("")}()+"\t\t</div>\n\t\t<div>\n\t\t\t\n\t\t\t"),__stack.lineno=8,0===authors.length&&(buf.push('\n\t\t\t\t<p id="noresult">aucun résultat.</p>\n\t\t\t'),__stack.lineno=10),buf.push("\n\t\t\t\n\t\t\t"),__stack.lineno=12;for(var t=0;t<authors.length;t++){if(buf.push("\n\t\t\t\t"),__stack.lineno=13,authors[t].visible){buf.push('\n\t\t\t\t<div class="auth" id="auth_',escape((__stack.lineno=14,t)),'">\n\t\t\t\t\t<button id="',escape((__stack.lineno=15,authors[t].id)),'" class="accordion">',(__stack.lineno=15,authors[t].name),"&ensp;(",(__stack.lineno=15,authors[t].works.length),')</button>\n\t\t\t\t\t<div class="books-list">\n\t\t\t\t\t\t<button class="previous btn" type="button">&lt;</button>\n\t\t\t\t\t\t<button class="next btn" type="button">&gt;</button>\n\t\t\t\t\t'),__stack.lineno=19;for(var n=0;n<authors[t].works.length;n++){buf.push("\n\t\t\t\t\t\t"),__stack.lineno=20;var e=authors[t].works[n];buf.push("\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t\t\t"+function(){var t=[];if(t.push('<div id="infos-',escape((__stack.lineno=1,e.id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,e.id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,e.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,e.title),"</p>\n\t\t\t  "),__stack.lineno=7,e.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=8,e.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),t.push("\n\t\t\t  "),__stack.lineno=10,e.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,e.subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),t.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  '),__stack.lineno=15,e.description&&(t.push('\n\t\t\t  <div class="description">',(__stack.lineno=16,replaceLines(e.description)),"</div>\n\t\t\t  "),__stack.lineno=17),t.push('\n\t\t\t  <div class="padding-8">\n\t\t\t\t  <p><b>Année de parution : </b>',(__stack.lineno=19,e.year),"</p>\n\t\t\t\t  "),__stack.lineno=20,e.authors.length>1){t.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=25;for(var n=0;n<e.authors.length;n++)t.push("\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=27,e.authors[n].name)," (",(__stack.lineno=27,e.authors[n].birth),"&nbsp;&ndash; ",(__stack.lineno=27,e.authors[n].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=29;t.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=32}else 1===e.authors.length&&(t.push("\n\t\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=33,e.authors[0].name)," (",(__stack.lineno=33,e.authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=33,e.authors[0].death),")</p>\n\t\t\t\t  "),__stack.lineno=34);if(t.push("\n\t\t\t\t  "),__stack.lineno=35,e.contribs.length>1){for(t.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=40,n=0;n<e.contribs.length;n++)t.push('\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=42,e.contribs[n].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=43,e.contribs[n].name)," (",(__stack.lineno=43,e.contribs[n].birth),"&nbsp;&ndash; ",(__stack.lineno=43,e.contribs[n].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=45;t.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=48}else 1===e.contribs.length&&(t.push('\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=54,e.contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=55,e.contribs[0].name)," (",(__stack.lineno=55,e.contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=55,e.contribs[0].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=59);t.push('\n\t\t\t\t  <p class="book-source">\n\t\t\t\t  '),__stack.lineno=61,e.sources.length>1?(t.push("\n\t\t\t\t\t<b>Sources :</b>\n\t\t\t\t  "),__stack.lineno=63):(t.push("\n\t\t\t\t\t<b>Source :</b>\n\t\t\t\t  "),__stack.lineno=65),t.push("\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=67;for(var o=0;o<e.sources.length;o++)t.push("\n\t\t\t\t\t\t<li><span>",(__stack.lineno=68,e.sources[o]),"</span></li>\n\t\t\t\t\t"),__stack.lineno=69;return t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t  </p>\n\t\t\t  </div>\n\t\t</div>\n\t</div>\n</div>\n"),t.join("")}()+'\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="slide fade slides_',escape((__stack.lineno=24,t)),'" id="slide_',escape((__stack.lineno=24,e.id)),'">\n\t\t\t\t\t\t\t<div id="paper" style="background-color: ',(__stack.lineno=25,e.styles.color),"; background-image: url(",(__stack.lineno=25,e.styles.image),')">\n\t\t\t\t\t\t\t\t<div id="',escape((__stack.lineno=26,e.id)),'" class="book" style="',escape((__stack.lineno=26,e.styles.cover)),'">\n\t\t\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=27,e.styles.author)),'">',(__stack.lineno=27,e.authorDisplay),'</p>\n\t\t\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=28,e.styles.title),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=29,e.title),"\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=31,e.subtitle1&&(buf.push('\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=32,e.styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=33,e.subtitle1),"</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=35),buf.push("\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=36,e.subtitle2&&(buf.push('\n\t\t\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=37,e.styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t\t\t',(__stack.lineno=38,e.subtitle2),"</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t"),__stack.lineno=40),buf.push('\n\t\t\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=41,e.styles.logo)),'">\n\t\t\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t\t\t'),__stack.lineno=48,e.visible||(buf.push('\n\t\t\t\t\t\t\t\t\t<button class="tobepublished btn">&Agrave; paraître</button>\n\t\t\t\t\t\t\t\t'),__stack.lineno=50),buf.push('\n\t\t\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=51,e.id)),'" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t'),__stack.lineno=55}buf.push("\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t"),__stack.lineno=58}buf.push("\n\t\t\t"),__stack.lineno=59}buf.push("\n\t\t\t\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t"+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#authors-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#authors-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px 32px 0px;\n\t}\n}\n\n#authors-container #letters {\n\tfont-family: "Times New Roman", Georgia, serif;\n\ttext-align: center;\n\tline-height: 37px;\n\twidth: 320px;\n\tmargin: 0px auto;\n\tpadding-bottom: 16px;\n}\n\n@media only screen and (min-width: 410px) {\n\t#authors-container #letters {\n\t\twidth: 410px;\n\t}\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container #letters {\n\t\twidth: 585px;\n\t}\n}\n\n#authors-container #letters a {\n\tpadding: 8px;\n}\n\n#authors-container #noresult {\n\twidth: 100%;\n\ttext-align: center;\n\tpadding-top: 48px;\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1.1em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n}\n\n#authors-container #authors-list {\n\tmin-height: 476px;\n\tmax-width: 750px;\n\tmargin: auto;\n\tpadding-bottom: 16px;\n}\n\n.auth {\n\tposition: relative;\n}\n\n#authors-container .previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: 0px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#authors-container .next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: 0px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#authors-container .previous {\n\t\tdisplay: block;\n\t}\n\n\t#authors-container .next {\n\t\tdisplay: block;\n\t}\n}\n\n#authors-container .accordion {\n    cursor: pointer;\n    text-align: center;\n    font-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n\tpadding: 16px;\n    width: 100%;\n    border: none;\n    outline: none;\n    background-color: transparent;\n    color: rgb(132,132,132);\n}\n\n#authors-container .accordion:hover, #authors-container .accordion.active {\n\tcolor: #000;\n}\n\n#authors-container #authors-list .books-list {\n\tposition: relative;\n\tmax-width: 450px;\n\tmargin: auto;\n\tmax-height: 0;\n\toverflow-y: hidden;\n}\n\n#authors-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#authors-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#authors-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#authors-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#authors-container .book {\n\tcursor: default;\n}\n\n#authors-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#authors-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#authors-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#authors-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n#authors-container .tobepublished {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tleft: 0px;\n\tbottom: 0px;\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#authors-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#authors-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#authors-container .modal-content div {\n\tpadding: 8px;\n}\n\n#authors-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#authors-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: \'Georgia\', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n#authors-container .modal .description {\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: justify;\n\tpadding-top: 8px;\n\tpadding-bottom: 16px;\n}\n\n#authors-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#authors-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#authors-container .modal ul li {\n\tpadding: 4px;\n}\n\n#authors-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#authors-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(t,n,e){var o=e(79);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(2)),a=i(e(0));function i(t){return t&&t.__esModule?t:{default:t}}i(e(80));var s=e(78);n.default=function(t){for(var n=t,e=location.hash.replace(/#\/authors\?q\=/,""),i=o.default.getData("authors").filter(function(t){return t.nameAlpha.split("")[0].toUpperCase()===e}),r=o.default.getData("books"),l=[],u=void 0,c=void 0,p=function(t){var n=i[t];u=r.filter(function(t){for(var e=0;e<t.authors.length;e++)return t.authors[e].id===n.id}),l=l.concat(u),c=r.filter(function(t){for(var e=0;e<t.contribs.length;e++)return t.contribs[e].id===n.id}),l=l.concat(c),n.works=l,l=[]},d=0;d<i.length;d++)p(d);a.default.setHTML("title","&Eacute;quivoques&ensp;&ndash;&ensp;Auteurs"),a.default.setAttributeContent("[name=title]","content","Équivoques&ensp;&ndash;&ensp;Textes en ligne&ensp;&ndash;&ensp;Auteurs"),a.default.setAttributeContent("[name=description]","content","Le site de lecture en ligne"),a.default.setAttributeContent("[name=author]","content","Équivoques"),n.innerHTML=s({authors:i,replaceLines:a.default.replaceLines});var b=document.querySelector("#authors-container"),f=b.querySelectorAll(".auth"),h=void 0,m=void 0,g=function(t){var n=t.target.parentElement.parentElement;h=n.querySelectorAll(".slide");for(var e=0;e<h.length;e++)if("block"===h[e].style.display){h[m=e].style.display="none";break}0===m?m=h.length-1:m-=1,h[m].style.display="block"},v=function(t){var n=t.target.parentElement.parentElement;h=n.querySelectorAll(".slide");for(var e=0;e<h.length;e++)if("block"===h[e].style.display){h[m=e].style.display="none";break}m===h.length-1?m=0:m+=1,h[m].style.display="block"},y=b.querySelectorAll(".previous");for(d=0;d<y.length;d++)y[d].addEventListener("click",g,!1);for(var k=b.querySelectorAll(".next"),_=0;_<k.length;_++)k[_].addEventListener("click",v,!1);if(window.innerWidth>=750)for(var x=0;x<f.length;x++)(h=f[x].querySelectorAll(".slide")).length<2?(f[x].querySelectorAll(".previous")[0].style.display="none",f[x].querySelectorAll(".next")[0].style.display="none"):(f[x].querySelectorAll(".previous")[0].style.display="block",f[x].querySelectorAll(".next")[0].style.display="block"),void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)?function(){var t=o.default.getData("book"),n=[].slice.call(h),e=n.filter(function(n){return n.id.replace(/slide_/,"")===t})[0];m=e?n.indexOf(e):0,h[m].style.display="block"}():h[m=0].style.display="block";window.addEventListener("resize",function(){if(location.hash.match(/#\/authors\?(search=(A-Z))?/))if(window.innerWidth<750){h=b.querySelectorAll(".slide");for(var t=0;t<h.length;t++)h[t].style.display="block",f[t]&&(f[t].querySelectorAll(".previous")[0].style.display="none",f[t].querySelectorAll(".next")[0].style.display="none")}else{h=b.querySelectorAll(".slide");for(var n=0;n<h.length;n++)h[n].style.display="none";for(var e=0;e<f.length;e++)(h=f[e].querySelectorAll(".slide")).length<2?(f[e].querySelectorAll(".previous")[0].style.display="none",f[e].querySelectorAll(".next")[0].style.display="none"):(f[e].querySelectorAll(".previous")[0].style.display="block",f[e].querySelectorAll(".next")[0].style.display="block"),h[m=0].style.display="block"}});var w=document.querySelectorAll(".accordion"),S=document.querySelectorAll(".books-list");1===i.length&&(S[0].style.maxHeight=S[0].scrollHeight+"px",a.default.addClass(w[0],"active"));for(var E=0;E<w.length;E++)w[E].addEventListener("click",function(t){for(var n=0;n<w.length;n++)a.default.removeClass(w[n],"active");for(var e=0;e<S.length;e++)S[e]===t.target.nextElementSibling?S[e].style.maxHeight=S[e].style.maxHeight?null:S[e].scrollHeight+"px":S[e].style.maxHeight&&(S[e].style.maxHeight=null),t.target.nextElementSibling.style.maxHeight?(a.default.addClass(t.target,"active"),t.target.nextElementSibling.scrollIntoView(!0),document.body.scrollTop=document.body.scrollTop-48,document.documentElement.scrollTop=document.documentElement.scrollTop-48):a.default.removeClass(t.target,"active")});if(void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var T=o.default.getData("book"),A=document.getElementById("slide_"+T);A.parentElement.style.maxHeight=A.parentElement.scrollHeight+"px",A.scrollIntoView(!0),document.body.scrollTop=document.body.scrollTop-48,document.documentElement.scrollTop=document.documentElement.scrollTop-48}for(var C=b.querySelectorAll("#letters a"),q=0;q<C.length;q++)C[q].innerHTML===e?a.default.addClass("#"+C[q].id,"active"):a.default.removeClass("#"+C[q].id,"active");for(var L=function(t){var n=o.default.getData("books",t.currentTarget.id);if(n.visible){var e=n.path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+e+"/read"}},M=b.querySelectorAll(".book"),N=0;N<M.length;N++)M[N].addEventListener("click",L,!1);for(var O=function(t){var n=t.target.id.replace("open-","");document.getElementById(n).style.display="block"},j=b.querySelectorAll(".open-infos-btn"),I=0;I<j.length;I++)j[I].addEventListener("click",O,!1);for(var P=function(t){var n=t.target.id.replace("close-","");document.getElementById(n).style.display="none"},D=b.querySelectorAll(".close-infos-btn"),z=0;z<D.length;z++)D[z].addEventListener("click",P,!1);window.addEventListener("scroll",function(){document.body.scrollTop>40||document.documentElement.scrollTop>40?window.innerWidth<750&&(b.querySelector("#toTop").style.display="block"):b.querySelector("#toTop").style.display="none"},!1),b.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="book">\n\t\x3c!--\n\t\tSTARTBOOK-CONTAINER\n\t--\x3e\n\t<div id="bookContainer">\n\t\t\x3c!--\n\t\t\tTOC-LARGE-DEVICE (outside textContainer) : width >= 1366\n\t\t--\x3e\n\t\t<%- include src/components/book-read/tabs-large-device.ejs -%>\n\t\t\x3c!--\n\t\t\tSTART SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t<div id="swing-container">\n\t\t\t\x3c!--\n\t\t\t\tSTART TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t<div data-wb-text-container class="card-4">\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOOKMARK\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bookmark">\n\t\t\t\t\t<p><i class="material-icons">&#xE867;</i></p>\n\t\t\t\t</div>\n\t\t\t\t<div id="text-loader-container" class="hidden">\n\t\t\t\t\t<div id="text-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOC (inside textContainer) : width < 1366\n\t\t\t\t--\x3e\n\t\t\t\t<div id="toc">\n\t\t\t\t\t<div data-wb-toc >\n\t\t\t\t\t\t<button id="close-toc" type="button" class="btn">&times;</button>\n\t\t\t\t\t\t<div id="toc-header">\n\t\t\t\t\t\t\t<p><%- book.authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="text-uppercase"><%- book.title %></p>\n\t\t\t\t\t\t\t<% if(book.subtitle1) {%>\n\t\t\t\t\t\t\t\t<p><%- book.subtitle1 %></p>\n\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t<% if(book.subtitle2) {%>\n\t\t\t\t\t\t\t\t<p class="text-small-caps"><%- book.subtitle2 %></p>\n\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tOPTIONS-MODAL (inside textContainer) : width >= 1366\n\t\t\t\t--\x3e\n\t\t\t\t<%- include src/components/book-read/options-modal.ejs -%>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOP (inside textContainer)\n\t\t\t\t--\x3e\n\t\t\t\t<div id="top">\n\t\t\t\t\t<span id="current-section-title" class="wb-current-section-title"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTEXT\n\t\t\t\t--\x3e\n\t\t\t\t<div data-wb-text ></div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOTTOM (inside textContainer) : pagination\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bottom">\n\t\t\t\t\t<span id="currentByTotal" class="wb-currentByTotal-pages"></span>\n\t\t\t\t</div>\n\t\t\t\x3c!--\n\t\t\t\tEND TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t</div>\n\t\t\x3c!--\n\t\t\tEND SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM-SMALL (outside textContainer) : width < 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom-small">\n\t\t\t<button id="home" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t<button id="add-bookmark" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t<button id="open-options" class="btn"><i class="material-icons">&#xE245;</i></button>\n\t\t\t<button id="open-toc" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM (outside textContainer) : width >= 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom">\n\t\t\t<div id="swing-bar">\n\t\t\t\t<div id="book-nav-bar-bottom-controls">\n\t\t\t\t\t<button id="home-large" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t\t\t<button id="add-bookmark-large" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t\t\t<div id="center">\n\t\t\t\t\t\t<button id="backward-large" class="btn">&lt;</button>\n\t\t\t\t\t\t<button id="forward-large" class="btn">&gt;</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button id="open-options-medium" class="btn"><i class="material-icons">&#xE245;</i></button>\n\t\t\t\t\t<button id="open-toc-large" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--\n\t\tEND BOOK-CONTAINER\n\t--\x3e\n\t</div>\n\t<div id="book-loader-container" class="hidden">\n\t\t<div id="book-loader" style="border-top: 4px solid <%= book.styles.color %>; border-bottom: 4px solid <%= book.styles.color %>"></div>\n\t</div>\n</div>\n',filename:"."},t;function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})buf.push('<div id="book">\n\t\x3c!--\n\t\tSTARTBOOK-CONTAINER\n\t--\x3e\n\t<div id="bookContainer">\n\t\t\x3c!--\n\t\t\tTOC-LARGE-DEVICE (outside textContainer) : width >= 1366\n\t\t--\x3e\n\t\t'+function(){var t=[];if(t.push('\n<div id="toc-large-device" class="tab card-4" >\n\t<button id="close-toc-large-device" type="button" class="btn card-4" >&times;</button>\n\t<div id="toc-large-device-container">\n\t\t<div class="header">\n\t\t\t<p>',(__stack.lineno=6,book.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=7,book.title),"</p>\n\t\t\t  "),__stack.lineno=8,book.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=9,book.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=10),t.push("\n\t\t\t  "),__stack.lineno=11,book.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=12,book.subtitle2),"</p>\n\t\t\t "),__stack.lineno=13),t.push('\n\t\t</div>\n\t\t<div data-wb-toc ></div>\n\t</div>\n</div>\n\n<div id="tab-options" class="card-4">\n\t<button id="close-tab-options" type="button" class="btn card-4" >&times;</button>\n\t<div id="tab-options-container">\n\t\t<div class="header">\n\t\t\t<p class="options-title">Taille de la police</p>\n\t\t</div>\n\t\t<div id="font-size-container-large">\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="18">&ensp;18 px</label></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="17">&ensp;17 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="19">&ensp;19 px</label></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\t\n\n<div id="tab-infos" class="card-4">\n\t<button id="close-tab-infos" type="button" class="btn card-4" >&times;</button>\n\t<div id="tab-infos-container">\n\t\t<div class="header">\n\t\t\t<p>',(__stack.lineno=47,book.authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=48,book.title),"</p>\n\t\t\t  "),__stack.lineno=49,book.subtitle1&&(t.push("\n\t\t\t\t<p>",(__stack.lineno=50,book.subtitle1),"</p>\n\t\t\t  "),__stack.lineno=51),t.push("\n\t\t\t  "),__stack.lineno=52,book.subtitle2&&(t.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=53,book.subtitle2),"</p>\n\t\t\t "),__stack.lineno=54),t.push('\n\t\t</div>\n\t\t<div class="content">\n\t\t  <p><b>Année de parution : </b>',(__stack.lineno=57,book.year),"</p>\n\t\t  "),__stack.lineno=58,book.authors.length>1){t.push("\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=63;for(var n=0;n<book.authors.length;n++)t.push("\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t",(__stack.lineno=65,book.authors[n].name)," (",(__stack.lineno=65,book.authors[n].birth),"&nbsp;&ndash; ",(__stack.lineno=65,book.authors[n].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),__stack.lineno=67;t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=70}else 1===book.authors.length&&(t.push("\n\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=71,book.authors[0].name)," (",(__stack.lineno=71,book.authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=71,book.authors[0].death),")</p>\n\t\t  "),__stack.lineno=72);if(t.push("\n\t\t  "),__stack.lineno=73,book.contribs.length>1){for(t.push("\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=78,n=0;n<book.contribs.length;n++)t.push('\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=80,book.contribs[n].role)," : </span>\n\t\t\t\t\t\t\t",(__stack.lineno=81,book.contribs[n].name)," (",(__stack.lineno=81,book.contribs[n].birth),"&nbsp;&ndash; ",(__stack.lineno=81,book.contribs[n].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),__stack.lineno=83;t.push("\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=86}else 1===book.contribs.length&&(t.push('\n\t\t\t\t<p>\n\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t<br>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=92,book.contribs[0].role)," : </span>\n\t\t\t\t\t\t\t",(__stack.lineno=93,book.contribs[0].name)," (",(__stack.lineno=93,book.contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=93,book.contribs[0].death),")\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</p>\n\t\t  "),__stack.lineno=97);for(t.push('\n\t\t  <p class="book-source">\n\t\t\t  '),__stack.lineno=99,book.sources.length>1?(t.push("\n\t\t\t\t<b>Sources :</b>\n\t\t\t  "),__stack.lineno=101):(t.push("\n\t\t\t\t<b>Source :</b>\n\t\t\t  "),__stack.lineno=103),t.push("\n\t\t\t\t<ul>\n\t\t\t\t"),__stack.lineno=105,n=0;n<book.sources.length;n++)t.push("\n\t\t\t\t\t<li><span>",(__stack.lineno=106,book.sources[n]),"</span></li>\n\t\t\t\t"),__stack.lineno=107;return t.push('\n\t\t\t\t</ul>\n\t\t\t  </p>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="book-commands">\n\t<button id="toggle-toc-large-device" type="button" class="btn card-2" >Table</button>\n\t<button id="toggle-tab-options" type="button" class="btn card-2" >Options</button>\n\t<button id="toggle-tab-infos" type="button" class="btn card-2" >Fiche</button>\n\t<button id="tab-add-bookmark" type="button" class="add-bookmark btn card-2" >Signet</button>\n\t<button id="tab-home-link" type="button" class="home btn card-2" >Retour</button>\n</div>\n\t\n\n'),t.join("")}()+'\t\t\x3c!--\n\t\t\tSTART SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t<div id="swing-container">\n\t\t\t\x3c!--\n\t\t\t\tSTART TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t<div data-wb-text-container class="card-4">\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOOKMARK\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bookmark">\n\t\t\t\t\t<p><i class="material-icons">&#xE867;</i></p>\n\t\t\t\t</div>\n\t\t\t\t<div id="text-loader-container" class="hidden">\n\t\t\t\t\t<div id="text-loader"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTOC (inside textContainer) : width < 1366\n\t\t\t\t--\x3e\n\t\t\t\t<div id="toc">\n\t\t\t\t\t<div data-wb-toc >\n\t\t\t\t\t\t<button id="close-toc" type="button" class="btn">&times;</button>\n\t\t\t\t\t\t<div id="toc-header">\n\t\t\t\t\t\t\t<p>',(__stack.lineno=33,book.authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="text-uppercase">',(__stack.lineno=34,book.title),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=35,book.subtitle1&&(buf.push("\n\t\t\t\t\t\t\t\t<p>",(__stack.lineno=36,book.subtitle1),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=37),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=38,book.subtitle2&&(buf.push('\n\t\t\t\t\t\t\t\t<p class="text-small-caps">',(__stack.lineno=39,book.subtitle2),"</p>\n\t\t\t\t\t\t\t"),__stack.lineno=40),buf.push("\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tOPTIONS-MODAL (inside textContainer) : width >= 1366\n\t\t\t\t--\x3e\n\t\t\t\t"+(t=[],t.push('<div id="options">\n\t<div>\n\t\t<button id="close-options" type="button" class="btn">&times;</button>\n\t\t<div class="options-header">\n\t\t\t<p>Taille de la police</p>\n\t\t</div>\n\t\t\n\t\t<div id="font-size-container">\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="col-left">\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="13">&ensp;13 px</label></p>\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-right">\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="options-medium">\n\t<div>\n\t\t<button id="close-options-medium" type="button" class="btn">&times;</button>\n\t\t<div class="options-header">\n\t\t\t<p>Taille de la police</p>\n\t\t</div>\n\t\t<div id="font-size-container">\n\t\t\t<div>\n\t\t\t\t<div class="col-left">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="14">&ensp;14 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="16">&ensp;16 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="18">&ensp;18 px</label></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-right">\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="15">&ensp;15 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="17">&ensp;17 px</label></p>\n\t\t\t\t\t<p><label><input type="radio" name="fontSize" value="19">&ensp;19 px</label></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),t.join(""))+'\t\t\t\t\x3c!--\n\t\t\t\t\tTOP (inside textContainer)\n\t\t\t\t--\x3e\n\t\t\t\t<div id="top">\n\t\t\t\t\t<span id="current-section-title" class="wb-current-section-title"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tTEXT\n\t\t\t\t--\x3e\n\t\t\t\t<div data-wb-text ></div>\n\t\t\t\t\x3c!--\n\t\t\t\t\tBOTTOM (inside textContainer) : pagination\n\t\t\t\t--\x3e\n\t\t\t\t<div id="bottom">\n\t\t\t\t\t<span id="currentByTotal" class="wb-currentByTotal-pages"></span>\n\t\t\t\t</div>\n\t\t\t\x3c!--\n\t\t\t\tEND TEXT-CONTAINER\n\t\t\t--\x3e\n\t\t\t</div>\n\t\t\x3c!--\n\t\t\tEND SWING-CONTAINER : margin-left: 33% WHEN TOC-LARGE OPEN\n\t\t--\x3e\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM-SMALL (outside textContainer) : width < 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom-small">\n\t\t\t<button id="home" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t<button id="add-bookmark" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t<button id="open-options" class="btn"><i class="material-icons">&#xE245;</i></button>\n\t\t\t<button id="open-toc" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t</div>\n\t\t\x3c!--\n\t\t\tNAVBAR-BOTTOM (outside textContainer) : width >= 768\n\t\t--\x3e\n\t\t<div id="book-nav-bar-bottom">\n\t\t\t<div id="swing-bar">\n\t\t\t\t<div id="book-nav-bar-bottom-controls">\n\t\t\t\t\t<button id="home-large" class="home btn"><i class="material-icons">&#xE5C4;</i></button>\n\t\t\t\t\t<button id="add-bookmark-large" class="add-bookmark btn"><i class="material-icons">&#xE867;</i></button>\n\t\t\t\t\t<div id="center">\n\t\t\t\t\t\t<button id="backward-large" class="btn">&lt;</button>\n\t\t\t\t\t\t<button id="forward-large" class="btn">&gt;</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button id="open-options-medium" class="btn"><i class="material-icons">&#xE245;</i></button>\n\t\t\t\t\t<button id="open-toc-large" class="open-toc btn"><i class="material-icons">&#xE8DE;</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--\n\t\tEND BOOK-CONTAINER\n\t--\x3e\n\t</div>\n\t<div id="book-loader-container" class="hidden">\n\t\t<div id="book-loader" style="border-top: 4px solid ',escape((__stack.lineno=102,book.styles.color)),"; border-bottom: 4px solid ",escape((__stack.lineno=102,book.styles.color)),'"></div>\n\t</div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n){!function(t){function n(o){if(e[o])return e[o].exports;var a=e[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var o=function(t){return t&&t.__esModule?t:{default:t}}(e(1));window.ZingTouch=o.default},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=o(e(2)),i=o(e(4)),s=o(e(10)),r=o(e(12)),l=o(e(13)),u=o(e(14)),c=o(e(15)),p=o(e(16)),d={_regions:[],Gesture:i.default,Expand:s.default,Pan:r.default,Pinch:l.default,Rotate:u.default,Swipe:c.default,Tap:p.default,Region:function(t,n,e){var o=d._regions.length,i=new a.default(t,n,e,o);return d._regions.push(i),i}};n.default=d},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),i=o(e(3)),s=o(e(4)),r=o(e(6)),l=o(e(9)),u=function(){function t(n,e,o,a){var i=this;(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=a,this.element=n,this.capture=void 0!==e&&e,this.preventDefault=void 0===o||o,this.state=new l.default(a),(window.PointerEvent&&!window.TouchEvent?["pointerdown","pointermove","pointerup"]:["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"]).map(function(t){n.addEventListener(t,function(t){(0,r.default)(t,i)},i.capture)})}return a(t,[{key:"bind",value:function(t,n,e,o,a){if(!t||t&&!t.tagName)throw"Bind must contain an element";return a=void 0!==a&&a,n?void this.state.addBinding(t,n,e,o,a):new i.default(t,a,this.state)}},{key:"bindOnce",value:function(t,n,e,o){this.bind(t,n,e,o,!0)}},{key:"unbind",value:function(t,n){var e=this,o=[];return this.state.retrieveBindingsByElement(t).forEach(function(a){n?"string"==typeof n&&e.state.registeredGestures[n]&&e.state.registeredGestures[n].id===a.gesture.id&&(t.removeEventListener(a.gesture.getId(),a.handler,a.capture),o.push(a)):(t.removeEventListener(a.gesture.getId(),a.handler,a.capture),o.push(a))}),o}},{key:"register",value:function(t,n){if("string"!=typeof t)throw new Error("Parameter key is an invalid string");if(!n instanceof s.default)throw new Error("Parameter gesture is an invalid Gesture object");n.setType(t),this.state.registerGesture(n,t)}},{key:"unregister",value:function(t){this.state.bindings.forEach(function(n){n.gesture.getType()===t&&n.element.removeEventListener(n.gesture.getId(),n.handler,n.capture)});var n=this.state.registeredGestures[t];return delete this.state.registeredGestures[t],n}}]),t}();n.default=u},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function t(n,e,o){var a=this;(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.element=n,Object.keys(o.registeredGestures).forEach(function(t){a[t]=function(n,i){return o.addBinding(a.element,t,n,i,e),a}})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(e(5)),i=function(){function t(){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.type=null,this.id=null}return o(t,[{key:"setType",value:function(t){this.type=t}},{key:"getType",value:function(){return this.type}},{key:"setId",value:function(t){this.id=t}},{key:"getId",value:function(){return null!==this.id?this.id:this.type}},{key:"update",value:function(t){for(var n in t)this[n]&&(this[n]=t[n])}},{key:"start",value:function(t,n,e){return null}},{key:"move",value:function(t,n,e){return null}},{key:"end",value:function(t){return null}},{key:"isValid",value:function(t,n,e){var o=!0;return t.length>1&&t.forEach(function(t){a.default.isInside(t.initial.x,t.initial.y,e)||(o=!1)}),o}}]),t}();n.default=i},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=360,o={normalizeEvent:function(t){switch(t){case"mousedown":case"touchstart":case"pointerdown":return"start";case"mousemove":case"touchmove":case"pointermove":return"move";case"mouseup":case"touchend":case"pointerup":return"end";default:return null}},isWithin:function(t,n,e,o,a){return Math.abs(n-o)<=a&&Math.abs(t-e)<=a},distanceBetweenTwoPoints:function(t,n,e,o){var a=Math.sqrt((n-t)*(n-t)+(o-e)*(o-e));return Math.round(100*a)/100},getMidpoint:function(t,n,e,o){return{x:(t+n)/2,y:(e+o)/2}},getAngle:function(t,n,o,a){var i=Math.atan2(a-n,o-t)*(180/Math.PI);return e-(i<0?e+i:i)},getAngularDistance:function(t,n){var o=(n-t)%e,a=o<0?1:-1;return(o=Math.abs(o))>180?a*(e-o):a*o},getVelocity:function(t,n,e,o,a,i){return this.distanceBetweenTwoPoints(t,o,n,a)/(i-e)},getRightMostInput:function(t){var n=null,e=Number.MIN_VALUE;return t.forEach(function(t){t.initial.x>e&&(n=t)}),n},isInteger:function(t){return"number"==typeof t&&t%1==0},isInside:function(t,n,e){var o=e.getBoundingClientRect();return t>o.left&&t<o.left+o.width&&n>o.top&&n<o.top+o.height},getPropagationPath:function(t){if(t.path)return t.path;for(var n=[],e=t.target;e!=document;)n.push(e),e=e.parentNode;return n},getPathIndex:function(t,n){var e=t.length;return t.forEach(function(t,o){t===n&&(e=o)}),e},setMSPreventDefault:function(t){t.style["-ms-content-zooming"]="none",t.style["touch-action"]="none"},removeMSPreventDefault:function(t){t.style["-ms-content-zooming"]="",t.style["touch-action"]=""}};n.default=o},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=o(e(7)),i=o(e(8)),s=o(e(5));n.default=function(t,n){var e=n.state;if(0!==e.inputs.length||"start"===s.default.normalizeEvent(t.type)){if(void 0!==t.buttons&&"end"!==s.default.normalizeEvent(t.type)&&0===t.buttons)return void e.resetInputs();if(e.updateInputs(t,n.element)){var o=e.retrieveBindingsByInitialPos();o.length>0&&function(){n.preventDefault?(s.default.setMSPreventDefault(n.element),t.preventDefault?t.preventDefault():t.returnValue=!1):s.default.removeMSPreventDefault(n.element);var r={};(0,i.default)(o,t,e).forEach(function(n){var e=n.binding.gesture.id;if(r[e]){var o=s.default.getPropagationPath(t);s.default.getPathIndex(o,n.binding.element)<s.default.getPathIndex(o,r[e].binding.element)&&(r[e]=n)}else r[e]=n}),Object.keys(r).forEach(function(t){var n=r[t];(0,a.default)(n.binding,n.data,n.events)})}();var r=0;e.inputs.forEach(function(t){"end"===t.getCurrentEventType()&&r++}),r===e.inputs.length&&e.resetInputs()}}}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e){n.events=e;var o=new CustomEvent(t.gesture.getId(),{detail:n,bubbles:!0,cancelable:!0});!function(t,n,e){t.dispatchEvent(n),e.bindOnce&&ZingTouch.unbind(e.element,e.gesture.getType())}(t.element,o,t)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(5));n.default=function(t,n,e){var a=o.default.normalizeEvent(n.type),i=[];return t.forEach(function(t){var n,o=t.gesture[a](e.inputs,e,t.element);o&&(n=[],e.inputs.forEach(function(t){n.push(t.current)}),i.push({binding:t,data:o,events:n}))}),i}},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),s=o(e(4)),r=o(e(10)),l=o(e(12)),u=o(e(13)),c=o(e(14)),p=o(e(15)),d=o(e(16)),b=o(e(17)),f=o(e(18)),h=o(e(5)),m=function(){function t(n){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.regionId=n,this.inputs=[],this.bindings=[],this.numGestures=0,this.registeredGestures={},this.registerGesture(new r.default,"expand"),this.registerGesture(new l.default,"pan"),this.registerGesture(new c.default,"rotate"),this.registerGesture(new u.default,"pinch"),this.registerGesture(new p.default,"swipe"),this.registerGesture(new d.default,"tap")}return i(t,[{key:"addBinding",value:function(t,n,e,o,i){var r=void 0;if(t&&void 0===t.tagName)throw new Error("Parameter element is an invalid object.");if("function"!=typeof e)throw new Error("Parameter handler is invalid.");if("string"==typeof n&&-1===Object.keys(this.registeredGestures).indexOf(n))throw new Error("Parameter "+n+" is not a registered gesture");if("object"===(void 0===n?"undefined":a(n))&&!(n instanceof s.default))throw new Error("Parameter for the gesture is not of a Gesture type");"string"==typeof n?r=this.registeredGestures[n]:""===(r=n).id&&this.assignGestureId(r),this.bindings.push(new b.default(t,r,e,o,i)),t.addEventListener(r.getId(),e,o)}},{key:"retrieveBindingsByElement",value:function(t){var n=[];return this.bindings.map(function(e){e.element===t&&n.push(e)}),n}},{key:"retrieveBindingsByInitialPos",value:function(){var t=this,n=[];return this.bindings.forEach(function(e){t.inputs.filter(function(t){return h.default.isInside(t.initial.x,t.initial.y,e.element)}).length>0&&n.push(e)}),n}},{key:"updateInputs",value:function(t,n){function e(t,n,e,o){var a=h.default.normalizeEvent(t.type),i=function(t,n){for(var e=0;e<t.length;e++)if(t[e].identifier===n)return t[e];return null}(n.inputs,e);return"start"===a&&i?void n.resetInputs():"start"!==a&&i&&!h.default.isInside(i.current.x,i.current.y,o)?void n.resetInputs():"start"===a||i?void("start"===a?n.inputs.push(new f.default(t,e)):i.update(t,e)):void n.resetInputs()}switch(t.touches?"TouchEvent":t.pointerType?"PointerEvent":"MouseEvent"){case"TouchEvent":for(var o in t.changedTouches)t.changedTouches.hasOwnProperty(o)&&h.default.isInteger(parseInt(o))&&e(t,this,t.changedTouches[o].identifier,n);break;case"PointerEvent":e(t,this,t.pointerId,n);break;case"MouseEvent":default:e(t,this,0,n)}return!0}},{key:"resetInputs",value:function(){this.inputs=[]}},{key:"numActiveInputs",value:function(){return this.inputs.filter(function(t){return"end"!==t.current.type}).length}},{key:"registerGesture",value:function(t,n){this.assignGestureId(t),this.registeredGestures[n]=t}},{key:"assignGestureId",value:function(t){t.setId(this.regionId+"-"+this.numGestures++)}}]),t}();n.default=m},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(11)),a=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.type="expand",e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),n}();n.default=a},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),i=o(e(4)),s=o(e(5)),r=1,l=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.type="distance",e.threshold=t&&t.threshold?t.threshold:r,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i.default),a(n,[{key:"start",value:function(t,n,e){if(!this.isValid(t,n,e))return null;2===t.length&&(t[0].getGestureProgress(this.type).lastEmittedDistance=s.default.distanceBetweenTwoPoints(t[0].current.x,t[1].current.x,t[0].current.y,t[1].current.y))}},{key:"move",value:function(t,n,e){if(2===n.numActiveInputs()){var o=s.default.distanceBetweenTwoPoints(t[0].current.x,t[1].current.x,t[0].current.y,t[1].current.y),a=s.default.distanceBetweenTwoPoints(t[0].previous.x,t[1].previous.x,t[0].previous.y,t[1].previous.y),i=s.default.getMidpoint(t[0].current.x,t[1].current.x,t[0].current.y,t[1].current.y),r=t[0].getGestureProgress(this.type);if("expand"===this.type){if(o<a)r.lastEmittedDistance=o;else if(o-r.lastEmittedDistance>=this.threshold)return r.lastEmittedDistance=o,{distance:o,center:i}}else if(o>a)r.lastEmittedDistance=o;else if(o<a&&r.lastEmittedDistance-o>=this.threshold)return r.lastEmittedDistance=o,{distance:o,center:i};return null}}}]),n}();n.default=l},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),i=o(e(4)),s=o(e(5)),r=1,l=1,u=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.type="pan",e.numInputs=t&&t.numInputs?t.numInputs:r,e.threshold=t&&t.threshold?t.threshold:l,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i.default),a(n,[{key:"start",value:function(t){var n=this;t.forEach(function(t){var e=t.getGestureProgress(n.getId());e.active=!0,e.lastEmitted={x:t.current.x,y:t.current.y}})}},{key:"move",value:function(t,n,e){if(this.numInputs===t.length)for(var o={data:[]},a=0;a<t.length;a++){var i,r=t[a].getGestureProgress(this.getId()),l=Math.abs(t[a].current.y-r.lastEmitted.y)>this.threshold,u=Math.abs(t[a].current.x-r.lastEmitted.x)>this.threshold;if(i=l||u,!r.active||!i)return null;o.data[a]={distanceFromOrigin:s.default.distanceBetweenTwoPoints(t[a].initial.x,t[a].current.x,t[a].initial.y,t[a].current.y),directionFromOrigin:s.default.getAngle(t[a].initial.x,t[a].initial.y,t[a].current.x,t[a].current.y),currentDirection:s.default.getAngle(r.lastEmitted.x,r.lastEmitted.y,t[a].current.x,t[a].current.y)},r.lastEmitted.x=t[a].current.x,r.lastEmitted.y=t[a].current.y}return o}},{key:"end",value:function(t){var n=this;return t.forEach(function(t){t.getGestureProgress(n.getId()).active=!1}),null}}]),n}();n.default=u},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=o(e(11)),i=(o(e(5)),function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.type="pinch",e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),n}());n.default=i},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),i=o(e(4)),s=o(e(5)),r=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.type="rotate",t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i.default),a(n,[{key:"move",value:function(t,n,e){if(n.numActiveInputs()<=2){var o=void 0,a=void 0,i=void 0,r=void 0;if(1===n.numActiveInputs()){var l=e.getBoundingClientRect();o={x:l.left+l.width/2,y:l.top+l.height/2},r=t[0],a=i=0}else{o=s.default.getMidpoint(t[0].initial.x,t[1].initial.x,t[0].initial.y,t[1].initial.y);var u=s.default.getMidpoint(t[0].current.x,t[1].current.x,t[0].current.y,t[1].current.y);a=o.x-u.x,i=o.y-u.y,r=s.default.getRightMostInput(t)}var c=s.default.getAngle(o.x,o.y,r.current.x+a,r.current.y+i),p=r.getGestureProgress(this.getId());return p.initialAngle?(p.change=s.default.getAngularDistance(p.previousAngle,c),p.distance=p.distance+p.change):(p.initialAngle=p.previousAngle=c,p.distance=p.change=0),p.previousAngle=c,{angle:c,distanceFromOrigin:p.distance,distanceFromLast:p.change}}return null}}]),n}();n.default=r},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),i=o(e(4)),s=o(e(5)),r=1,l=100,u=.2,c=100,p=10,d=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.type="swipe",e.numInputs=t&&t.numInputs?t.numInputs:r,e.maxRestTime=t&&t.maxRestTime?t.maxRestTime:l,e.escapeVelocity=t&&t.escapeVelocity?t.escapeVelocity:u,e.timeDistortion=t&&t.timeDistortion?t.timeDistortion:c,e.maxProgressStack=t&&t.maxProgressStack?t.maxProgressStack:p,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i.default),a(n,[{key:"move",value:function(t,n,e){if(this.numInputs===t.length)for(var o=0;o<t.length;o++){var a=t[o].getGestureProgress(this.getId());a.moves||(a.moves=[]),a.moves.push({time:(new Date).getTime(),x:t[o].current.x,y:t[o].current.y}),a.length>this.maxProgressStack&&a.moves.shift()}return null}},{key:"end",value:function(t){if(this.numInputs===t.length){for(var n={data:[]},e=0;e<t.length;e++){if("end"!==t[e].current.type)return;var o=t[e].getGestureProgress(this.getId());if(o.moves&&o.moves.length>2){var a=o.moves.pop();if((new Date).getTime()-a.time>this.maxRestTime)return null;for(var i=void 0,r=o.moves.length-1;-1!==r;){if(o.moves[r].time!==a.time){i=o.moves[r];break}r--}i||((i=o.moves.pop()).time+=this.timeDistortion);var l=s.default.getVelocity(i.x,i.y,i.time,a.x,a.y,a.time);n.data[e]={velocity:l,currentDirection:s.default.getAngle(i.x,i.y,a.x,a.y)}}}for(e=0;e<n.data.length;e++)if(l<this.escapeVelocity)return null;if(n.data.length>0)return n}return null}}]),n}();n.default=d},function(t,n,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),s=o(e(4)),r=o(e(5)),l=0,u=300,c=1,p=10,d=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.type="tap",e.minDelay=t&&t.minDelay?t.minDelay:l,e.maxDelay=t&&t.maxDelay?t.maxDelay:u,e.numInputs=t&&t.numInputs?t.numInputs:c,e.tolerance=t&&t.tolerance?t.tolerance:p,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,s.default),i(n,[{key:"start",value:function(t){var n=this;return t.length===this.numInputs&&t.forEach(function(t){t.getGestureProgress(n.type).start=(new Date).getTime()}),null}},{key:"move",value:function(t,n,e){for(var o=this,i=0;i<t.length;i++)if("move"===t[i].getCurrentEventType()){var s=t[i].current,l=t[i].previous;if(!r.default.isWithin(s.x,s.y,l.x,l.y,this.tolerance)){var u=function(){var n=o.type;return t.forEach(function(t){t.resetProgress(n)}),{v:null}}();if("object"===(void 0===u?"undefined":a(u)))return u.v}}return null}},{key:"end",value:function(t){var n=this;if(t.length!==this.numInputs)return null;for(var e=Number.MAX_VALUE,o=0;o<t.length;o++){if("end"!==t[o].getCurrentEventType())return null;var i=t[o].getGestureProgress(this.type);if(!i.start)return null;i.start<e&&(e=i.start)}var s=(new Date).getTime()-e;if(this.minDelay<=s&&this.maxDelay>=s)return{interval:s};var r=function(){var e=n.type;return t.forEach(function(t){t.resetProgress(e)}),{v:null}}();return"object"===(void 0===r?"undefined":a(r))?r.v:void 0}}]),n}();n.default=d},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function t(n,e,o,a,i){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.element=n,this.gesture=e,this.handler=o,this.capture=void 0!==a&&a,this.bindOnce=void 0!==i&&i}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(e(19)),i=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var o=new a.default(n,e);this.initial=o,this.current=o,this.previous=o,this.identifier=void 0!==e?e:0,this.progress={}}return o(t,[{key:"update",value:function(t,n){this.previous=this.current,this.current=new a.default(t,n)}},{key:"getGestureProgress",value:function(t){return this.progress[t]||(this.progress[t]={}),this.progress[t]}},{key:"getCurrentEventType",value:function(){return this.current.type}},{key:"resetProgress",value:function(t){this.progress[t]={}}}]),t}();n.default=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(e(5));n.default=function t(n,e){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.originalEvent=n,this.type=o.default.normalizeEvent(n.type),this.x=0,this.y=0;var a=void 0;if(n.touches&&n.changedTouches){for(var i=0;i<n.changedTouches.length;i++)if(n.changedTouches[i].identifier===e){a=n.changedTouches[i];break}}else a=n;this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.pageX=a.pageX,this.pageY=a.pageY,this.screenX=a.screenX,this.screenY=a.screenY}}])},function(t,n,e){e(83),t.exports=ZingTouch},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,"/*\nBOOK LOADER\n*/\n\n#book-loader-container {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #fafafa;\n}\n\n#book-loader-container.hidden {\n\tdisplay: none;\n}\n\n#book-loader {\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 40%;\n\tz-index: 1;\n    border: 4px solid #f3f3f3; \n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    margin: -20px 0 0 -20px;\n    -webkit-animation: spin 1.5s linear infinite;\n    animation: spin 1.5s linear infinite;\n}\n\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/*\nTEXT LOADER\n*/\n\n#text-loader-container {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #fafafa;\n}\n\n#text-loader-container.hidden {\n\tdisplay: none;\n}\n\n#text-loader {\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 40%;\n\tz-index: 1;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid gray;\n    border-bottom: 4px solid gray;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    margin: -20px 0 0 -20px;\n    -webkit-animation: textSpin 1.5s linear infinite;\n    animation: textSpin 1.5s linear infinite;\n}\n\n@-webkit-keyframes textSpin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes textSpin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/*\nSIGNET\n*/\n#bookmark {\n\tvisibility: hidden;\n\twidth: 50px;\n\tpadding: 8px;\n\tbackground-color: #333;\n\tcolor: #fff;\n\ttext-align: center;\n\tposition: absolute;\n\tz-index: 1;\n\tright: 20px;\n\ttop: 20px;\n\tfont-family: 'Verdana', sans-serif;\n}\n\n\n#bookmark.show {\n\tvisibility: visible;\n\t-webkit-animation: fadein 0.5s, fadeout 0.5s 2s;\n    animation: fadein 0.5s, fadeout 0.5s 2s;\n}\n\n@-webkit-keyframes fadein {\n    from {opacity: 0;}\n    to {opacity: 1;}\n}\n\n@keyframes fadein {\n    from {opacity: 0;}\n    to {opacity: 1;}\n}\n\n@-webkit-keyframes fadeout {\n    from {opacity: 1;}\n    to {opacity: 0;}\n}\n\n@keyframes fadeout {\n    from {opacity: 1;}\n    to {opacity: 0;}\n}\n\n/*\nBOOK NAVBAR BOTTOM\n*/\n#book-nav-bar-bottom {\n\tdisplay: none;\n\theight: 44px;\n\tposition: relative;\n}\n\n@media screen and (min-width: 768px) {\n\t#book-nav-bar-bottom {\n\t\tdisplay: block;\n\t}\n}\n\n#book-nav-bar-bottom-controls {\n\tposition: relative;\n\theight: 44px;\n\twidth: 550px;\n\tmargin: auto;\n\ttext-align: center;\n}\n\n#book-nav-bar-bottom-controls #center {\n\twidth: 120px;\n\theight: 100%;\n\tmargin: auto;\n}\n\n#book-nav-bar-bottom-controls #center #backward-large {\n\tfloat: left;\n\tfont-size: 1.6em;\n}\n\n#book-nav-bar-bottom-controls #center #forward-large {\n\tfloat: right;\n\tfont-size: 1.6em;\n}\n\n#book-nav-bar-bottom-controls button {\n\toutline: none;\n\theight: 100%;\n\tbackground-color: transparent;\n\tdisplay: inline-block;\n\tcolor: rgba(0, 0, 0, 0.54);\n\tmax-width: 56px;\n}\n\n#book-nav-bar-bottom-controls #open-toc-large {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 0px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #open-options-medium {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 56px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #home-large {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\tpadding-bottom: 10px;\n}\n\n#book-nav-bar-bottom-controls #add-bookmark-large {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 56px;\n\tpadding-bottom: 10px;\n}\n\n@media screen and (min-width: 1366px) {\n\t#book-nav-bar-bottom-controls #open-toc-large, \n\t#book-nav-bar-bottom-controls #home-large, \n\t#book-nav-bar-bottom-controls #open-options-medium, \n\t#book-nav-bar-bottom-controls #add-bookmark-large {\n\t\tdisplay: none;\n\t}\n}\n\n/*\nBOOK NAV-BAR-BOTTOM-SMALL\n*/\n\n#book-nav-bar-bottom-small {\n\tdisplay: block;\n\theight: 30px;\n/*\n\tposition: fixed;\n\tbottom: 0px;\n*/\n\tmargin: auto;\n\tbackground-color: #333;\n\ttext-align: center;\n\tz-index: 2000;\n\t-webkit-backface-visibility: hidden;\n}\n\n@media screen and (min-width: 768px) {\n\t#book-nav-bar-bottom-small {\n\t\tdisplay: none;\n\t}\n}\n\n#book-nav-bar-bottom-small .btn {\n\tdisplay: inline-block;\n\tborder: none;\n\tbackground-color: transparent;\n\theight: 100%;\n\tpadding: 3px 0px 0px 0px;\n\tmargin: 0px;\n\toutline: none;\n\twidth: 24%;\n}\n\n#book-nav-bar-bottom-small .material-icons {\n\tcolor: rgb(152, 152, 152);\n}\n\n/*\nimportant for resize samsung navigator\n*/\n#book {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n#book.fixed {\n\tposition: fixed;\n}\n\n/*\nBOOKCONTAINER\n*/\n#bookContainer {\n\tfont-family: 'Georgia', serif;\n\tposition: relative;\n/*\n\theight: 100%;\n*/\n\tcolor: #000;\n\topacity: 0.0;\n\tmargin: auto;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n#bookContainer.show {\n\topacity: 1.0;\n}\n\n/*\nTEXTCONTAINER\n*/\n[data-wb-text-container] {\n\tmargin: auto;\n\tbackground-color: #fafafa;\n\twill-change: transform;\n\ttransform: translateZ(0);\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n}\n\n/*\nTOC-LARGE-DEVICE, TAB-OPTIONS, TAB-INFOS, HOME\n*/\n\n#toc-large-device, #tab-infos, #tab-options {\n  position: absolute;\n  top: 0px;\n  right: -40%;\n  width: 33%;\n  transition: right 0.5s;\n  -webkit-transition : right 0.5s;\n  -moz-transition : right 0.5s;\n  -o-transition: right 0.5s;\n  display: none;\n  background-color: #fafafa;\n}\n\n@media screen and (min-width: 1366px) {\n\n\t#toc-large-device, #tab-infos, #tab-options {\n\t\tdisplay: block\n\t}\n}\n\n#toc-large-device.open, #tab-infos.open, #tab-options.open {\n\tright: 0px;\n}\n\n#toc-large-device-container, #tab-infos-container, #tab-options-container {\n\twidth: 100%;\n\tbackground-color: #fafafa;\n\toverflow-y: auto;\n\tpadding: 0px 16px;\n}\n\n#toc-large-device-container .header, #tab-infos-container .header, #tab-options-container .header {\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n/*\ntoc-large-device\n*/\n#toc-large-device-container [data-wb-toc] {\n\tbackground-color: #fafafa;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n}\n\n/*\ntab-infos\n*/\n#tab-infos-container .content {\n\tpadding: 16px 0px;\n}\n\n#tab-infos-container p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#tab-infos-container ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#tab-infos-container ul li {\n\tpadding: .5em .5em;\n}\n\n#tab-infos-container .contrib-role {\n\ttext-transform: capitalize;\n}\n\n/*\ntab-options\n*/\n#tab-options-container {\n\ttext-align : center;\n\tpadding-bottom: 16px;\n}\n\n#tab-options-container #font-size-container-large,\n#tab-options-container #font-family-container-large {\n\twidth: 215px;\n\tmargin: auto;\n\tpadding: 16px 0px;\n}\n\n#tab-options-container #font-family-container-large > p,\n#tab-options-container #font-size-container-large > p {\n\tmargin-bottom: 7px;\n}\n\n#tab-options-container .col-left {\n\tfloat: left;\n\twidth: 50%;\n}\n\n#tab-options-container .col-right {\n\tfloat: right;\n\twidth: 50%;\n}\n\n#tab-options-container #font-size-container-large {\n\tclear: both;\n}\n\n#tab-options-container label {\n\twidth: 50%;\n\ttext-align : left;\n}\n\n#tab-options-container .options-title {\n\tfont-variant: small-caps;\n\tletter-spacing: 1.5px;\n\tfont-size: 1.2em;\n}\n\n/*\nBOOK COMMANDS\n*/\n#book-commands {\n\tposition: fixed;\n\tleft: 32px;\n\twidth: 75px;\n\tdisplay: none;\n}\n\n@media screen and (min-width: 1366px) {\n\t#book-commands {\n\t\tdisplay: block;\n\t}\n}\n\n#close-toc-large-device, #close-tab-infos, #close-tab-options {\n    position: absolute;\n\tright: 100%;\n\ttop: 0px;\n\theight: 37px;\n\tmargin-right: 16px;\n\toutline: none;\n\tbackground-color: #fafafa;\n\tfont-family: 'Georgia', serif;\n\tfont-size: 1.2em;\n}\n\n#book-commands button {\n    position: absolute;\n\tright: 0px;\n\twidth: 80px;\n\theight: 37px;\n\tmargin-right: 16px;\n\toutline: none;\n\tfont-family: 'Georgia', serif;\n\tfont-size: 1em;\n}\n\n#book-commands button:hover {\n\tbox-shadow: 2px 3px 6px 2px rgba(0,0,0,0.2)\n}\n\n#toggle-toc-large-device {\n\ttop: 0px;\n}\n\n#toggle-tab-options {\n\ttop: 48px;\n}\n\n#toggle-tab-infos {\n\ttop: 96px;\n}\n\n#tab-add-bookmark {\n\ttop: 144px;\n}\n\n#tab-home-link {\n\ttop: 192px;\n}\n\n/*\nswing-container, swing-bar\n*/\n/*\nif tab.open : swing-container to left\n*/\n#swing-container {\n\tmargin-right: 0px;\n\ttransition: margin-right 0.8s;\n\t-webkit-transition : margin-right 0.8s;\n\t-moz-transition : margin-right 0.8s;\n    -o-transition: margin-right 0.8s;\n\t\n}\n\n#swing-container.left {\n\t\tmargin-right: 0px;\n\t}\n\n@media screen and (min-width: 1366px) {\n\t#swing-container.left {\n\t\tmargin-right: 33%;\n\t}\n}\n\n/*\nif tab.open : swing-bar to left\n*/\n#swing-bar {\n\tmargin-right: 0px;\n\ttransition: margin-right 0.9s;\n\t-webkit-transition : margin-right 0.9s;\n\t-moz-transition : margin-right 0.9s;\n    -o-transition: margin-right 0.9s;\n}\n\n#swing-bar.left {\n\tmargin-right: 0px;\n}\n\n@media screen and (min-width: 1366px) {\n\t#swing-bar.left {\n\t\tmargin-right: 33%;\n\t}\n}\n\n/*\nTOC, OPTIONS (< 1366px)\n*/\n#toc, #options, #options-medium {\n\tposition: absolute;\n\ttop: -1000px;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1000;\n\toverflow-y: auto;\n/*\n\ttransition: top 0.4s;\n\t-webkit-transition : top 0.4s;\n\t-moz-transition : top 0.4s;\n    -o-transition: top 0.4s;\n*/\n\tpadding: 0px;\n\tbackground-color: #fafafa;\n}\n\n#toc.open, #options.open, #options-medium.open {\n\ttop: 0px;\n}\n\n#toc > div, #options > div, #options-medium > div {\n\tbackground-color: #fafafa;\n\tpadding: 0px 16px;\n}\n\n#close-toc, #close-options, #close-options-medium {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: 'Georgia', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n/*\ntoc\n*/\n#toc-header {\n\tmargin-bottom: 30px;\n\tmargin-top: 20px;\n\tpadding: 16px 0px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#toc-header p {\n\tmargin: 8px;\n}\n\n#toc ul, #toc-large-device ul {\n\tpadding: 0px;\n}\n\n#toc li, #toc-large-device li {\n\tlist-style-type: none;\n\tpadding: .5em .5em;\n}\n\n#toc a.wb-link, #toc-large-device a.wb-link {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tborder: none;\n\tcolor: gray;\n\tpadding: 0px;\n}\n\n#toc a.wb-link:hover, #toc-large-device a.wb-link:hover {\n\tborder: none;\n\tcolor: #000;\n}\n\n#toc li.current a.wb-link, #toc-large-device li.current a.wb-link {\n\tcolor: #000;\n\toutline: none;\n\tfont-style: italic;\n}\n\n#toc .wb-toc-item-title, #toc-large-device .wb-toc-item-title {\n\tdisplay: inline-block;\n\twidth: 90%;\n}\n\n#toc [data-wb-element-page-number], #toc-large-device [data-wb-element-page-number] {\n\tdisplay: inline-block;\n\tmin-width: 10%;\n\ttext-align: right;\n\tfloat: right;\n}\n\n\n/*\noptions content\n*/\n#options, #options-medium {\n\ttext-align: center;\n}\n\n#options .options-header, #options-medium .options-header {\n\tpadding: 16px 0px;\n\tborder-bottom: 1px solid #ddd;\n\tletter-spacing: 1.5px;\n}\n\n#options #font-size-container, #options-medium #font-size-container,\n#options #font-family-container, #options-medium #font-family-container {\n\twidth: 215px;\n\tmargin: auto;\n\tpadding: 16px 0px;\n}\n\n#options #font-family-container > p, #options-medium #font-family-container > p,\n#options #font-size-container > p, #options-medium #font-size-container > p {\n\tmargin-bottom: 7px;\n}\n\n#options .col-left, #options-medium .col-left {\n\tfloat: left;\n\twidth: 50%;\n}\n\n#options .col-right, #options-medium .col-right {\n\tfloat: right;\n\twidth: 50%;\n}\n\n#options #font-size-container, #options-medium #font-size-container {\n\tclear: both;\n}\n\n#options label {\n\twidth: 50%;\n}\n\n/*\nTOP\n*/\n#top {\n\tposition: absolute;\n\ttop: 0px;\n\tbox-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tpadding-top: 12px;\n\ttext-align: center;\n\twidth: 100%;\n\theight: 30px;\n}\n\n#top .wb-current-section-title {\n\tdisplay: inline-block;\n\twidth: 80%;\n\twhite-space: nowrap;\n\tfont-size: 0.85em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\t-o-text-overflow: ellipsis;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n/*\nBOTTOM\n*/\n#bottom {\n\tposition: absolute;\n\tbottom: 0px;\n\tdisplay: inline-block;\n\theight: 30px;\n\twidth: 100%;\n\ttext-align: center;\n\tbackground-color: transparent;\n}\n\n#bottom span {\n\tdisplay: inline-block;\n\tmin-width: 42px;\n\tmargin: 0px;\n\tmargin-top: 0px;\n\tfont-size: 1em;\n\tbackground-color: transparent;\n\tmin-width: 25px;\n\theight: 100%;\n\tpadding: 0px 16px 0px 16px;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n}\n\n/*\nTEXT*/\n\n/*\nTEXT\n*/\n[data-wb-text] {\n/*\n\tfont-family: Noto Serif, Georgia, serif;\n*/\n/*\n\tfont-size: 14px;\n*/\n\tline-height: 1.5em;\n\ttext-align: justify;\n\ttext-justify: inter-word;\n\topacity: 1;\n\ttransition: opacity 0.4s;\n\t-webkit-transition: opacity 0.4s;\n\t-moz-transition: opacity 0.4s;\n\t-o-transition: opacity 0.4s;\n\twill-change: transform;\n\ttransform: translateZ(0);\n\t-webkit-transform: translate-z(0);\n\t-ms-transform: translate-z(0);\n\tuser-select: none;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n\n\n@media screen and (min-width: 768px) {\n    [data-wb-text] {\n        font-size: 16px;\n        line-height: 1.5em;\n    }\n}\n\n[data-wb-text] p {\n\tmargin-bottom: 0px;\n\tmargin-top: 0px;\n\ttext-indent: 1.5em;\n}\n\n\n/*\nINSIDE TEXT\n* \n* \n*/\n/*\nTITLES\n*/\n\n[data-wb-text] #cover {\n\topacity: 0.9;\n}\n\n/*\nSECTIONS\n*/\n\n.wb-section {\n\tmargin-bottom: 300%;\n\tmin-height: 10%;\n}\n\n.wb-section.wb-no-break {\n\tmargin-bottom: 0%;\n}\n\n/*\nDIV FIN\n*/\n[data-wb-text] #fin {\n\ttext-align: center;\n\ttext-transform: uppercase;\n\tletter-spacing: 2px;\n\t\n}\n\n#fin p {\n\tpadding-top: 20%;\n\ttext-indent: 0px;\n}\n\np.section-title, p.section-title-half-top, p.section-title-double-top, p.notes-title, p.wb-toc-title {\n\tfont-size: 1.25em;\n\ttext-indent: 0px;\n}\n\np.notes-title {\n\tborder-bottom: 1px solid black;\n\tmargin-bottom: 0.5em;\n}\n\np.section-title {\n\tpadding-top: 3.5em;\n\tmargin-top: 0px;\n\tmargin-bottom: 1.5em;\n\ttext-indent: 0px;\n\tline-height: 2em;\n}\n\np.section-title-half-top {\n\tpadding-top: 1em;\n\tmargin-top: 0px;\n\tmargin-bottom: 1.5em;\n\ttext-indent: 0px;\n\tline-height: 1.5em;\n}\n\np.section-title-double-top {\n\tpadding-top: 5em;\n\tmargin-top: 0px;\n\ttext-indent: 0px;\n\tline-height: 2em;\n}\n\np.section-title_small {\n\tpadding-top: 3.5em;\n\tmargin-top: 0px;\n\tmargin-bottom: 1.5em;\n\ttext-indent: 0px;\n\tline-height: 2em;\n\tfont-size: 1em;\n}\n\np.section-title.margin-small {\n\tmargin-bottom: 0.5em;\n}\n\np.section-subtitle {\n\tfont-size: 1em;\n\ttext-indent: 0px;\n\tmargin-bottom: 1.5em;\n}\n\np.section-subtitle_large {\n\tfont-size: 1.25em;\n\ttext-indent: 0px;\n\tmargin-bottom: 1.5em;\n}\n\n#cover.wb-section {\n\ttext-align: center;\n}\n\n#cover-author, #cover-title, #cover-logo {\n\tmargin: 0px;\n\ttext-indent: 0px;\n}\n\np.note {\n\ttext-indent: 0px;\n}\n\n/*\nTEXT EXERGUE\n*/\n[data-wb-text] div.text-exergue {\n\ttext-align: right;\n\tpadding-top: 10em;\n\tpadding-left: 1.5em\n}\n\n[data-wb-text] div.text-exergue p.text-exergue {\n\tpadding-top: 0em;\n}\n\n[data-wb-text] p.sign-exergue {\n\tpadding-top: 1em;\n\tpadding-right: 1.5em\n}\n\n/*\nNO-BREAK\n*/\n[data-wb-text] .no-break-inside {\n\tpage-break-inside: avoid;\n}\n\n/*\nVERSES\n*/\n[data-wb-text] .verses {\n\tmargin: 1.5em 0 1.5em 2.5em;\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .verses p {\n\ttext-indent: -1em;\n\ttext-align: left;\n}\n\n[data-wb-text] .verses p.verses-title {\n\ttext-indent: -2.5em;\n\ttext-align: center;\n}\n\n[data-wb-text] .verses p.indent2 {\n\ttext-indent: 0em;\n}\n\n[data-wb-text] .verses p.indent3 {\n\ttext-indent: 1em;\n}\n\n[data-wb-text] .verses p.indent4 {\n\ttext-indent: 2em;\n}\n\n[data-wb-text] .verses p.indent5 {\n\ttext-indent: 3em;\n}\n\n[data-wb-text] .verses p.indent6 {\n\ttext-indent: 4em;\n}\n\n[data-wb-text] p.verses-signature {\n\ttext-align: right;\n\tfont-size: 0.9em;\n\tpadding-bottom: 1.5em;\n\tpadding-right: 1.5em;\n}\n\n/*\nVERSES CONTAINER (for short verses)\n*/\n[data-wb-text] .short-verses-container {\n\tmargin-left: 8px;\n}\n\n@media screen and (min-width: 360px) {\n\t[data-wb-text] .short-verses-container {\n\t\tmargin-left: 28px;\n\t}\n}\n\n@media screen and (min-width: 480px) {\n\t[data-wb-text] .short-verses-container {\n\t\tmargin-left: 50px;\n\t}\n}\n\n@media screen and (min-width: 640px) {\n\t[data-wb-text] .short-verses-container {\n\t\tmargin-left: 92px;\n\t}\n}\n\n/*\nVERSES CONTAINER (for long verses)\n*/\n[data-wb-text] .medium-verses-container {\n\tmargin-left: 0px;\n}\n\n@media screen and (min-width: 360px) {\n\t[data-wb-text] .medium-verses-container {\n\t\tmargin-left: 12px;\n\t}\n\t\n\t[data-wb-text] .medium-verses-container .verses p.verses-title {\n\t\tmargin-left: -12px;\n\t}\n}\n\n@media screen and (min-width: 480px) {\n\t[data-wb-text] .medium-verses-container {\n\t\tmargin-left: 42px;\n\t}\n\t\n\t[data-wb-text] .medium-verses-container .verses p.verses-title {\n\t\tmargin-left: -42px;\n\t}\n}\n\n@media screen and (min-width: 640px) {\n\t[data-wb-text] .medium-verses-container {\n\t\tmargin-left: 72px;\n\t}\n\t\n\t[data-wb-text] .medium-verses-container .verses p.verses-title {\n\t\tmargin-left: -72px;\n\t}\n}\n\n/*\nVERSES CONTAINER (for medium verses)\n*/\n[data-wb-text] .long-verses-container {\n\tmargin-left: -1em;\n}\n\n[data-wb-text] .long-verses-container .verses p.verses-title {\n\tmargin-left: 1em;\n}\n\n@media screen and (min-width: 360px) {\n\t[data-wb-text] .long-verses-container {\n\t\tmargin-left: -0.75em;\n\t}\n\t\n\t[data-wb-text] .long-verses-container .verses p.verses-title {\n\t\tmargin-left: 0.75em;\n\t}\n}\n\n@media screen and (min-width: 480px) {\n\t[data-wb-text] .long-verses-container {\n\t\tmargin-left: 28px;\n\t}\n\t\n\t[data-wb-text] .long-verses-container .verses p.verses-title {\n\t\tmargin-left: -28px;\n\t}\n}\n\n@media screen and (min-width: 640px) {\n\t[data-wb-text] .long-verses-container {\n\t\tmargin-left: 28px;\n\t}\n\t\n\t[data-wb-text] .long-verses-container .verses p.verses-title {\n\t\tmargin-left: -28px;\n\t}\n}\n/*\nSIGNATURE\n*/\n[data-wb-text] .signature {\n\ttext-align: right;\n\tpadding-bottom: 1.5em;\n\tpadding-right: 1.5em\n}\n\n/*\nPADDING\n*/\n[data-wb-text] .padding-top-35 {\n\tpadding-top: 3.5em;\n}\n\n\n/*\nLINES BEFORE/AFTER\n*/\n[data-wb-text] p.p_half_line_before {\n\tmargin-top: 0.75em;\n}\n\n[data-wb-text] p.p_line_before {\n\tmargin-top: 1.5em;\n}\n\n[data-wb-text] p.p_2line_before {\n\tmargin-top: 3em;\n}\n\n[data-wb-text] p.p_3line_before {\n\tmargin-top: 4.5em;\n}\n\n[data-wb-text] p.p_line_after {\n\tmargin-bottom: 1.5em;\n}\n\n[data-wb-text] p.p_half_line_after {\n\tmargin-bottom: 0.75em;\n}\n\n/*\nLINE-HEIGHT\n*/\n[data-wb-text] p.line_height_one {\n\tline-height: 1em;\n\tpadding-top: 0.5em;\n}\n\n/*\nSUP\n*/\n[data-wb-text] sup.line_height_one {\n\tline-height: 1em;\n}\n\n\n/*\nSEPARATION\n*/\n[data-wb-text] p.separation {\n\ttext-indent: 0px;\n\ttext-align: center;\n\tmargin-top: 1.5em;\n\tmargin-bottom: 1.5em;\n\tline-height: 1em;\n\tfont-size: 0.8em;\n\tpage-break-inside: avoid;\n}\n\n/*\nPOINTS DE SUSPENSION\n*/\n\n[data-wb-text] p.points {\n\ttext-indent: 0.5em;\n\twidth: 100%;\n\toverflow: hidden;\n\tpadding-left: 0em;\n}\n\n[data-wb-text] p.points span {\n\tpadding-right: 1.2em;\n}\n\n/*\nMARGIN-LEFT\n*/\n\n.margin_left_10 {\n\tmargin-left: 10%\n}\n\n.margin_left_20 {\n\tmargin-left: 20%\n}\n\n.margin_left_30 {\n\tmargin-left: 30%\n}\n\n.margin_left_32 {\n\tmargin-left: 32%\n}\n\n/*\nNEGATIVE MARGIN\n*/\n\n[data-wb-text] p.negative_margin {\n\tmargin-top:-1.5em;\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.negative_margin2 {\n\tmargin-top:-3em;\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.negative_margin span {\n\tbackground-color: #fafafa;\n\tpadding-left:0.5em;\n\tpadding-right: 0.5em;\n\tfont-size: 0.9em;\n}\n\n/*\nNOTES\n*/\n[data-wb-text] .note a.wb-link {\n\tcolor: #006dcc;\n}\n\n[data-wb-text] .note-section p {\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .note-section p.note {\n\tmargin-top: 1.5em;\n}\n\n[data-wb-text] .note-section p.notes-title {\n\tfont-size: 1.25em;\n}\n\n/*\nDIVERS\n*/\n\n[data-wb-text] .font-small-9 {\n\tfont-size: 0.9em;\n}\n\n[data-wb-text] .font-small-8 {\n\tfont-size: 0.8em;\n}\n\n[data-wb-text] no-indent {\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.indent-less-2 {\n\ttext-indent: -2em;\n}\n\n[data-wb-text] p.no-indent {\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.indent-1 {\n\ttext-indent: 1em;\n}\n\n[data-wb-text] p.indent-2 {\n\ttext-indent: 2em;\n}\n\n[data-wb-text] p.indent-3 {\n\ttext-indent: 3em;\n}\n\n[data-wb-text] p.indent-6 {\n\ttext-indent: 6em;\n}\n\n[data-wb-text] div.no-indent p {\n\ttext-indent: 0px;\n}\n\n[data-wb-text] p.ls-3 {\n\tletter-spacing: 3px;\n}\n\n/*\nHYPHENATION\n*/\n[data-wb-text] p, .hyphenate {\n  hyphens: auto;\n  -webkit-hyphens: auto;\n  -ms-hyphens: auto;\n  -moz-hyphens: auto;\n  -o-hyphens: auto;\n}\n[data-wb-text] p.section-title, [data-wb-text] #cover p, p.no-hyphenate, .no-hyphenate {\n  hyphens: none;\n  -webkit-hyphens: none;\n  -ms-hyphens: none;\n  -moz-hyphens: none;\n  -o-hyphens: none;\n}\n\n\n\n",""])},function(t,n,e){var o=e(85);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){var o;void 0===(o=function(){"use strict";return/[^\x20\t\r\n\f]+/g}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a;o=[e(1),e(14),e(4),e(87)],void 0===(a=function(t,n,e,o){"use strict";return t.Callbacks=function(a){a="string"==typeof a?function(n){var e={};return t.each(n.match(o)||[],function(t,n){e[n]=!0}),e}(a):t.extend({},a);var i,s,r,l,u=[],c=[],p=-1,d=function(){for(l=l||a.once,r=i=!0;c.length;p=-1)for(s=c.shift();++p<u.length;)!1===u[p].apply(s[0],s[1])&&a.stopOnFalse&&(p=u.length,s=!1);a.memory||(s=!1),i=!1,l&&(u=s?[]:"")},b={add:function(){return u&&(s&&!i&&(p=u.length-1,c.push(s)),function o(i){t.each(i,function(t,i){e(i)?a.unique&&b.has(i)||u.push(i):i&&i.length&&"string"!==n(i)&&o(i)})}(arguments),s&&!i&&d()),this},remove:function(){return t.each(arguments,function(n,e){for(var o;(o=t.inArray(e,u,o))>-1;)u.splice(o,1),o<=p&&p--}),this},has:function(n){return n?t.inArray(n,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return l=c=[],u=s="",this},disabled:function(){return!u},lock:function(){return l=c=[],s||i||(u=s=""),this},locked:function(){return!!l},fireWith:function(t,n){return l||(n=[t,(n=n||[]).slice?n.slice():n],c.push(n),i||d()),this},fire:function(){return b.fireWith(this,arguments),this},fired:function(){return!!r}};return b},t}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(4),e(28),e(88)],void 0===(a=function(t,n,e){"use strict";function o(t){return t}function a(t){throw t}function i(t,e,o,a){var i;try{t&&n(i=t.promise)?i.call(t).done(e).fail(o):t&&n(i=t.then)?i.call(t,e,o):e.apply(void 0,[t].slice(a))}catch(t){o.apply(void 0,[t])}}return t.extend({Deferred:function(e){var i=[["notify","progress",t.Callbacks("memory"),t.Callbacks("memory"),2],["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),0,"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),1,"rejected"]],s="pending",r={state:function(){return s},always:function(){return l.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var e=arguments;return t.Deferred(function(o){t.each(i,function(t,a){var i=n(e[a[4]])&&e[a[4]];l[a[1]](function(){var t=i&&i.apply(this,arguments);t&&n(t.promise)?t.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[a[0]+"With"](this,i?[t]:arguments)})}),e=null}).promise()},then:function(e,s,r){var l=0;function u(e,i,s,r){return function(){var c=this,p=arguments,d=function(){var t,d;if(!(e<l)){if((t=s.apply(c,p))===i.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,n(d)?r?d.call(t,u(l,i,o,r),u(l,i,a,r)):(l++,d.call(t,u(l,i,o,r),u(l,i,a,r),u(l,i,o,i.notifyWith))):(s!==o&&(c=void 0,p=[t]),(r||i.resolveWith)(c,p))}},b=r?d:function(){try{d()}catch(n){t.Deferred.exceptionHook&&t.Deferred.exceptionHook(n,b.stackTrace),e+1>=l&&(s!==a&&(c=void 0,p=[n]),i.rejectWith(c,p))}};e?b():(t.Deferred.getStackHook&&(b.stackTrace=t.Deferred.getStackHook()),window.setTimeout(b))}}return t.Deferred(function(t){i[0][3].add(u(0,t,n(r)?r:o,t.notifyWith)),i[1][3].add(u(0,t,n(e)?e:o)),i[2][3].add(u(0,t,n(s)?s:a))}).promise()},promise:function(n){return null!=n?t.extend(n,r):r}},l={};return t.each(i,function(t,n){var e=n[2],o=n[5];r[n[1]]=e.add,o&&e.add(function(){s=o},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),e.add(n[3].fire),l[n[0]]=function(){return l[n[0]+"With"](this===l?void 0:this,arguments),this},l[n[0]+"With"]=e.fireWith}),r.promise(l),e&&e.call(l,l),l},when:function(o){var a=arguments.length,s=a,r=Array(s),l=e.call(arguments),u=t.Deferred(),c=function(t){return function(n){r[t]=this,l[t]=arguments.length>1?e.call(arguments):n,--a||u.resolveWith(r,l)}};if(a<=1&&(i(o,u.done(c(s)).resolve,u.reject,!a),"pending"===u.state()||n(l[s]&&l[s].then)))return u.then();for(;s--;)i(l[s],c(s),u.reject);return u.promise()}}),t}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1)],void 0===(a=function(t){"use strict";t.readyException=function(t){window.setTimeout(function(){throw t})}}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(3),e(90),e(89)],void 0===(a=function(t,n){"use strict";var e=t.Deferred();function o(){n.removeEventListener("DOMContentLoaded",o),window.removeEventListener("load",o),t.ready()}t.fn.ready=function(n){return e.then(n).catch(function(n){t.readyException(n)}),this},t.extend({isReady:!1,readyWait:1,ready:function(o){(!0===o?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==o&&--t.readyWait>0||e.resolveWith(n,[t]))}}),t.ready.then=e.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?window.setTimeout(t.ready):(n.addEventListener("DOMContentLoaded",o),window.addEventListener("load",o))}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(15)],void 0===(a=function(t,n){"use strict";return function(e,o,a,i){var s,r,l=20,u=i?function(){return i.cur()}:function(){return t.css(e,o,"")},c=u(),p=a&&a[3]||(t.cssNumber[o]?"":"px"),d=(t.cssNumber[o]||"px"!==p&&+c)&&n.exec(t.css(e,o));if(d&&d[3]!==p){for(c/=2,p=p||d[3],d=+c||1;l--;)t.style(e,o,d+p),(1-r)*(1-(r=u()/c||.5))<=0&&(l=0),d/=r;d*=2,t.style(e,o,d+p),a=a||[]}return a&&(d=+d||+c||0,s=a[1]?d+(a[1]+1)*a[2]:+a[2],i&&(i.unit=p,i.start=d,i.end=s)),s}}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";var t=/^-ms-/,n=/-([a-z])/g;function e(t,n){return n.toUpperCase()}return function(o){return o.replace(t,"ms-").replace(n,e)}}.apply(n,[]))||(t.exports=o)},function(t,n,e){var o;void 0===(o=function(){"use strict";return function(t,n,e,o){var a,i,s={};for(i in n)s[i]=t.style[i],t.style[i]=n[i];for(i in a=e.apply(t,o||[]),n)t.style[i]=s[i];return a}}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o,a;o=[e(1),e(12),e(17),e(93),e(3),e(15),e(13),e(19),e(18),e(94),e(20),e(92),e(22),e(11),e(16),e(91),e(6)],void 0===(a=function(t,n,e,o,a,i,s,r,l,u,c,p,d,b){"use strict";var f=/^(none|table(?!-c[ea]).+)/,h=/^--/,m={position:"absolute",visibility:"hidden",display:"block"},g={letterSpacing:"0",fontWeight:"400"},v=["Webkit","Moz","ms"],y=a.createElement("div").style;function k(n){var e=t.cssProps[n];return e||(e=t.cssProps[n]=function(t){if(t in y)return t;for(var n=t[0].toUpperCase()+t.slice(1),e=v.length;e--;)if((t=v[e]+n)in y)return t}(n)||n),e}function _(t,n,e){var o=i.exec(n);return o?Math.max(0,o[2]-(e||0))+(o[3]||"px"):n}function x(n,e,o,a,i,s){var l="width"===e?1:0,u=0,c=0;if(o===(a?"border":"content"))return 0;for(;l<4;l+=2)"margin"===o&&(c+=t.css(n,o+r[l],!0,i)),a?("content"===o&&(c-=t.css(n,"padding"+r[l],!0,i)),"margin"!==o&&(c-=t.css(n,"border"+r[l]+"Width",!0,i))):(c+=t.css(n,"padding"+r[l],!0,i),"padding"!==o?c+=t.css(n,"border"+r[l]+"Width",!0,i):u+=t.css(n,"border"+r[l]+"Width",!0,i));return!a&&s>=0&&(c+=Math.max(0,Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-s-c-u-.5))),c}function w(n,e,o){var a=l(n),i=c(n,e,a),r="border-box"===t.css(n,"boxSizing",!1,a),u=r;if(s.test(i)){if(!o)return i;i="auto"}return u=u&&(b.boxSizingReliable()||i===n.style[e]),("auto"===i||!parseFloat(i)&&"inline"===t.css(n,"display",!1,a))&&(i=n["offset"+e[0].toUpperCase()+e.slice(1)],u=!0),(i=parseFloat(i)||0)+x(n,e,o||(r?"border":"content"),u,a,i)+"px"}return t.extend({cssHooks:{opacity:{get:function(t,n){if(n){var e=c(t,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,e,a,s){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var r,l,u,c=o(e),d=h.test(e),f=n.style;if(d||(e=k(c)),u=t.cssHooks[e]||t.cssHooks[c],void 0===a)return u&&"get"in u&&void 0!==(r=u.get(n,!1,s))?r:f[e];"string"==(l=typeof a)&&(r=i.exec(a))&&r[1]&&(a=p(n,e,r),l="number"),null!=a&&a==a&&("number"===l&&(a+=r&&r[3]||(t.cssNumber[c]?"":"px")),b.clearCloneStyle||""!==a||0!==e.indexOf("background")||(f[e]="inherit"),u&&"set"in u&&void 0===(a=u.set(n,a,s))||(d?f.setProperty(e,a):f[e]=a))}},css:function(n,e,a,i){var s,r,l,u=o(e);return h.test(e)||(e=k(u)),(l=t.cssHooks[e]||t.cssHooks[u])&&"get"in l&&(s=l.get(n,!0,a)),void 0===s&&(s=c(n,e,i)),"normal"===s&&e in g&&(s=g[e]),""===a||a?(r=parseFloat(s),!0===a||isFinite(r)?r||0:s):s}}),t.each(["height","width"],function(n,e){t.cssHooks[e]={get:function(n,o,a){if(o)return!f.test(t.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?w(n,e,a):u(n,m,function(){return w(n,e,a)})},set:function(n,o,a){var s,r=l(n),u="border-box"===t.css(n,"boxSizing",!1,r),c=a&&x(n,e,a,u,r);return u&&b.scrollboxSize()===r.position&&(c-=Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-x(n,e,"border",!1,r)-.5)),c&&(s=i.exec(o))&&"px"!==(s[3]||"px")&&(n.style[e]=o,o=t.css(n,e)),_(0,o,c)}}}),t.cssHooks.marginLeft=d(b.reliableMarginLeft,function(t,n){if(n)return(parseFloat(c(t,"marginLeft"))||t.getBoundingClientRect().left-u(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),t.each({margin:"",padding:"",border:"Width"},function(n,e){t.cssHooks[n+e]={expand:function(t){for(var o=0,a={},i="string"==typeof t?t.split(" "):[t];o<4;o++)a[n+r[o]+e]=i[o]||i[o-2]||i[0];return a}},"margin"!==n&&(t.cssHooks[n+e].set=_)}),t.fn.extend({css:function(n,o){return e(this,function(n,e,o){var a,i,s={},r=0;if(Array.isArray(e)){for(a=l(n),i=e.length;r<i;r++)s[e[r]]=t.css(n,e[r],!1,a);return s}return void 0!==o?t.style(n,e,o):t.css(n,e)},n,o,arguments.length>1)}}),t}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(6)],void 0===(a=function(t){"use strict";return t.expr.match.needsContext}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(27),e(4),e(96),e(6)],void 0===(a=function(t,n,e,o){"use strict";function a(o,a,i){return e(a)?t.grep(o,function(t,n){return!!a.call(t,n,t)!==i}):a.nodeType?t.grep(o,function(t){return t===a!==i}):"string"!=typeof a?t.grep(o,function(t){return n.call(a,t)>-1!==i}):t.filter(a,o,i)}t.filter=function(n,e,o){var a=e[0];return o&&(n=":not("+n+")"),1===e.length&&1===a.nodeType?t.find.matchesSelector(a,n)?[a]:[]:t.find.matches(n,t.grep(e,function(t){return 1===t.nodeType}))},t.fn.extend({find:function(n){var e,o,a=this.length,i=this;if("string"!=typeof n)return this.pushStack(t(n).filter(function(){for(e=0;e<a;e++)if(t.contains(i[e],this))return!0}));for(o=this.pushStack([]),e=0;e<a;e++)t.find(n,i[e],o);return a>1?t.uniqueSort(o):o},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(n){return!!a(this,"string"==typeof n&&o.test(n)?t(n):n||[],!1).length}})}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";return/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){var o;!function(a){var i,s,r,l,u,c,p,d,b,f,h,m,g,v,y,k,_,x,w,S="sizzle"+1*new Date,E=a.document,T=0,A=0,C=ct(),q=ct(),L=ct(),M=function(t,n){return t===n&&(h=!0),0},N={}.hasOwnProperty,O=[],j=O.pop,I=O.push,P=O.push,D=O.slice,z=function(t,n){for(var e=0,o=t.length;e<o;e++)if(t[e]===n)return e;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+H+"*("+B+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+H+"*\\]",G=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",V=new RegExp(H+"+","g"),W=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),J=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),X=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),$=new RegExp(G),Y=new RegExp("^"+B+"$"),K={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,nt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,ot=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),at=function(t,n,e){var o="0x"+n-65536;return o!=o||e?n:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=function(t,n){return n?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){m()},lt=xt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{P.apply(O=D.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(t){P={apply:O.length?function(t,n){I.apply(t,D.call(n))}:function(t,n){for(var e=t.length,o=0;t[e++]=n[o++];);t.length=e-1}}}function ut(t,n,e,o){var a,i,r,l,u,p,b,f=n&&n.ownerDocument,h=n?n.nodeType:9;if(e=e||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return e;if(!o&&((n?n.ownerDocument||n:E)!==g&&m(n),n=n||g,y)){if(11!==h&&(u=nt.exec(t)))if(a=u[1]){if(9===h){if(!(r=n.getElementById(a)))return e;if(r.id===a)return e.push(r),e}else if(f&&(r=f.getElementById(a))&&w(n,r)&&r.id===a)return e.push(r),e}else{if(u[2])return P.apply(e,n.getElementsByTagName(t)),e;if((a=u[3])&&s.getElementsByClassName&&n.getElementsByClassName)return P.apply(e,n.getElementsByClassName(a)),e}if(s.qsa&&!L[t+" "]&&(!k||!k.test(t))){if(1!==h)f=n,b=t;else if("object"!==n.nodeName.toLowerCase()){for((l=n.getAttribute("id"))?l=l.replace(it,st):n.setAttribute("id",l=S),i=(p=c(t)).length;i--;)p[i]="#"+l+" "+_t(p[i]);b=p.join(","),f=et.test(t)&&yt(n.parentNode)||n}if(b)try{return P.apply(e,f.querySelectorAll(b)),e}catch(t){}finally{l===S&&n.removeAttribute("id")}}}return d(t.replace(W,"$1"),n,e,o)}function ct(){var t=[];return function n(e,o){return t.push(e+" ")>r.cacheLength&&delete n[t.shift()],n[e+" "]=o}}function pt(t){return t[S]=!0,t}function dt(t){var n=g.createElement("fieldset");try{return!!t(n)}catch(t){return!1}finally{n.parentNode&&n.parentNode.removeChild(n),n=null}}function bt(t,n){for(var e=t.split("|"),o=e.length;o--;)r.attrHandle[e[o]]=n}function ft(t,n){var e=n&&t,o=e&&1===t.nodeType&&1===n.nodeType&&t.sourceIndex-n.sourceIndex;if(o)return o;if(e)for(;e=e.nextSibling;)if(e===n)return-1;return t?1:-1}function ht(t){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===t}}function mt(t){return function(n){var e=n.nodeName.toLowerCase();return("input"===e||"button"===e)&&n.type===t}}function gt(t){return function(n){return"form"in n?n.parentNode&&!1===n.disabled?"label"in n?"label"in n.parentNode?n.parentNode.disabled===t:n.disabled===t:n.isDisabled===t||n.isDisabled!==!t&&lt(n)===t:n.disabled===t:"label"in n&&n.disabled===t}}function vt(t){return pt(function(n){return n=+n,pt(function(e,o){for(var a,i=t([],e.length,n),s=i.length;s--;)e[a=i[s]]&&(e[a]=!(o[a]=e[a]))})})}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(i in s=ut.support={},u=ut.isXML=function(t){var n=t&&(t.ownerDocument||t).documentElement;return!!n&&"HTML"!==n.nodeName},m=ut.setDocument=function(t){var n,e,o=t?t.ownerDocument||t:E;return o!==g&&9===o.nodeType&&o.documentElement?(v=(g=o).documentElement,y=!u(g),E!==g&&(e=g.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",rt,!1):e.attachEvent&&e.attachEvent("onunload",rt)),s.attributes=dt(function(t){return t.className="i",!t.getAttribute("className")}),s.getElementsByTagName=dt(function(t){return t.appendChild(g.createComment("")),!t.getElementsByTagName("*").length}),s.getElementsByClassName=tt.test(g.getElementsByClassName),s.getById=dt(function(t){return v.appendChild(t).id=S,!g.getElementsByName||!g.getElementsByName(S).length}),s.getById?(r.filter.ID=function(t){var n=t.replace(ot,at);return function(t){return t.getAttribute("id")===n}},r.find.ID=function(t,n){if(void 0!==n.getElementById&&y){var e=n.getElementById(t);return e?[e]:[]}}):(r.filter.ID=function(t){var n=t.replace(ot,at);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},r.find.ID=function(t,n){if(void 0!==n.getElementById&&y){var e,o,a,i=n.getElementById(t);if(i){if((e=i.getAttributeNode("id"))&&e.value===t)return[i];for(a=n.getElementsByName(t),o=0;i=a[o++];)if((e=i.getAttributeNode("id"))&&e.value===t)return[i]}return[]}}),r.find.TAG=s.getElementsByTagName?function(t,n){return void 0!==n.getElementsByTagName?n.getElementsByTagName(t):s.qsa?n.querySelectorAll(t):void 0}:function(t,n){var e,o=[],a=0,i=n.getElementsByTagName(t);if("*"===t){for(;e=i[a++];)1===e.nodeType&&o.push(e);return o}return i},r.find.CLASS=s.getElementsByClassName&&function(t,n){if(void 0!==n.getElementsByClassName&&y)return n.getElementsByClassName(t)},_=[],k=[],(s.qsa=tt.test(g.querySelectorAll))&&(dt(function(t){v.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||k.push("\\["+H+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+S+"-]").length||k.push("~="),t.querySelectorAll(":checked").length||k.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||k.push(".#.+[+~]")}),dt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var n=g.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&k.push("name"+H+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),v.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),k.push(",.*:")})),(s.matchesSelector=tt.test(x=v.matches||v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&dt(function(t){s.disconnectedMatch=x.call(t,"*"),x.call(t,"[s!='']:x"),_.push("!=",G)}),k=k.length&&new RegExp(k.join("|")),_=_.length&&new RegExp(_.join("|")),n=tt.test(v.compareDocumentPosition),w=n||tt.test(v.contains)?function(t,n){var e=9===t.nodeType?t.documentElement:t,o=n&&n.parentNode;return t===o||!(!o||1!==o.nodeType||!(e.contains?e.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,n){if(n)for(;n=n.parentNode;)if(n===t)return!0;return!1},M=n?function(t,n){if(t===n)return h=!0,0;var e=!t.compareDocumentPosition-!n.compareDocumentPosition;return e||(1&(e=(t.ownerDocument||t)===(n.ownerDocument||n)?t.compareDocumentPosition(n):1)||!s.sortDetached&&n.compareDocumentPosition(t)===e?t===g||t.ownerDocument===E&&w(E,t)?-1:n===g||n.ownerDocument===E&&w(E,n)?1:f?z(f,t)-z(f,n):0:4&e?-1:1)}:function(t,n){if(t===n)return h=!0,0;var e,o=0,a=t.parentNode,i=n.parentNode,s=[t],r=[n];if(!a||!i)return t===g?-1:n===g?1:a?-1:i?1:f?z(f,t)-z(f,n):0;if(a===i)return ft(t,n);for(e=t;e=e.parentNode;)s.unshift(e);for(e=n;e=e.parentNode;)r.unshift(e);for(;s[o]===r[o];)o++;return o?ft(s[o],r[o]):s[o]===E?-1:r[o]===E?1:0},g):g},ut.matches=function(t,n){return ut(t,null,null,n)},ut.matchesSelector=function(t,n){if((t.ownerDocument||t)!==g&&m(t),n=n.replace(X,"='$1']"),s.matchesSelector&&y&&!L[n+" "]&&(!_||!_.test(n))&&(!k||!k.test(n)))try{var e=x.call(t,n);if(e||s.disconnectedMatch||t.document&&11!==t.document.nodeType)return e}catch(t){}return ut(n,g,null,[t]).length>0},ut.contains=function(t,n){return(t.ownerDocument||t)!==g&&m(t),w(t,n)},ut.attr=function(t,n){(t.ownerDocument||t)!==g&&m(t);var e=r.attrHandle[n.toLowerCase()],o=e&&N.call(r.attrHandle,n.toLowerCase())?e(t,n,!y):void 0;return void 0!==o?o:s.attributes||!y?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null},ut.escape=function(t){return(t+"").replace(it,st)},ut.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ut.uniqueSort=function(t){var n,e=[],o=0,a=0;if(h=!s.detectDuplicates,f=!s.sortStable&&t.slice(0),t.sort(M),h){for(;n=t[a++];)n===t[a]&&(o=e.push(a));for(;o--;)t.splice(e[o],1)}return f=null,t},l=ut.getText=function(t){var n,e="",o=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=l(t)}else if(3===a||4===a)return t.nodeValue}else for(;n=t[o++];)e+=l(n);return e},(r=ut.selectors={cacheLength:50,createPseudo:pt,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ot,at),t[3]=(t[3]||t[4]||t[5]||"").replace(ot,at),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ut.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ut.error(t[0]),t},PSEUDO:function(t){var n,e=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":e&&$.test(e)&&(n=c(e,!0))&&(n=e.indexOf(")",e.length-n)-e.length)&&(t[0]=t[0].slice(0,n),t[2]=e.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(ot,at).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(t){var n=C[t+" "];return n||(n=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&C(t,function(t){return n.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,e){return function(o){var a=ut.attr(o,t);return null==a?"!="===n:!n||(a+="","="===n?a===e:"!="===n?a!==e:"^="===n?e&&0===a.indexOf(e):"*="===n?e&&a.indexOf(e)>-1:"$="===n?e&&a.slice(-e.length)===e:"~="===n?(" "+a.replace(V," ")+" ").indexOf(e)>-1:"|="===n&&(a===e||a.slice(0,e.length+1)===e+"-"))}},CHILD:function(t,n,e,o,a){var i="nth"!==t.slice(0,3),s="last"!==t.slice(-4),r="of-type"===n;return 1===o&&0===a?function(t){return!!t.parentNode}:function(n,e,l){var u,c,p,d,b,f,h=i!==s?"nextSibling":"previousSibling",m=n.parentNode,g=r&&n.nodeName.toLowerCase(),v=!l&&!r,y=!1;if(m){if(i){for(;h;){for(d=n;d=d[h];)if(r?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=h="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&v){for(y=(b=(u=(c=(p=(d=m)[S]||(d[S]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===T&&u[1])&&u[2],d=b&&m.childNodes[b];d=++b&&d&&d[h]||(y=b=0)||f.pop();)if(1===d.nodeType&&++y&&d===n){c[t]=[T,b,y];break}}else if(v&&(y=b=(u=(c=(p=(d=n)[S]||(d[S]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===T&&u[1]),!1===y)for(;(d=++b&&d&&d[h]||(y=b=0)||f.pop())&&((r?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++y||(v&&((c=(p=d[S]||(d[S]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]=[T,y]),d!==n)););return(y-=a)===o||y%o==0&&y/o>=0}}},PSEUDO:function(t,n){var e,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ut.error("unsupported pseudo: "+t);return o[S]?o(n):o.length>1?(e=[t,t,"",n],r.setFilters.hasOwnProperty(t.toLowerCase())?pt(function(t,e){for(var a,i=o(t,n),s=i.length;s--;)t[a=z(t,i[s])]=!(e[a]=i[s])}):function(t){return o(t,0,e)}):o}},pseudos:{not:pt(function(t){var n=[],e=[],o=p(t.replace(W,"$1"));return o[S]?pt(function(t,n,e,a){for(var i,s=o(t,null,a,[]),r=t.length;r--;)(i=s[r])&&(t[r]=!(n[r]=i))}):function(t,a,i){return n[0]=t,o(n,null,i,e),n[0]=null,!e.pop()}}),has:pt(function(t){return function(n){return ut(t,n).length>0}}),contains:pt(function(t){return t=t.replace(ot,at),function(n){return(n.textContent||n.innerText||l(n)).indexOf(t)>-1}}),lang:pt(function(t){return Y.test(t||"")||ut.error("unsupported lang: "+t),t=t.replace(ot,at).toLowerCase(),function(n){var e;do{if(e=y?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(e=e.toLowerCase())===t||0===e.indexOf(t+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(t){var n=a.location&&a.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===v},focus:function(t){return t===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&!!t.checked||"option"===n&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var n=t.nodeName.toLowerCase();return"input"===n&&"button"===t.type||"button"===n},text:function(t){var n;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(n=t.getAttribute("type"))||"text"===n.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,n){return[n-1]}),eq:vt(function(t,n,e){return[e<0?e+n:e]}),even:vt(function(t,n){for(var e=0;e<n;e+=2)t.push(e);return t}),odd:vt(function(t,n){for(var e=1;e<n;e+=2)t.push(e);return t}),lt:vt(function(t,n,e){for(var o=e<0?e+n:e;--o>=0;)t.push(o);return t}),gt:vt(function(t,n,e){for(var o=e<0?e+n:e;++o<n;)t.push(o);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[i]=ht(i);for(i in{submit:!0,reset:!0})r.pseudos[i]=mt(i);function kt(){}function _t(t){for(var n=0,e=t.length,o="";n<e;n++)o+=t[n].value;return o}function xt(t,n,e){var o=n.dir,a=n.next,i=a||o,s=e&&"parentNode"===i,r=A++;return n.first?function(n,e,a){for(;n=n[o];)if(1===n.nodeType||s)return t(n,e,a);return!1}:function(n,e,l){var u,c,p,d=[T,r];if(l){for(;n=n[o];)if((1===n.nodeType||s)&&t(n,e,l))return!0}else for(;n=n[o];)if(1===n.nodeType||s)if(c=(p=n[S]||(n[S]={}))[n.uniqueID]||(p[n.uniqueID]={}),a&&a===n.nodeName.toLowerCase())n=n[o]||n;else{if((u=c[i])&&u[0]===T&&u[1]===r)return d[2]=u[2];if(c[i]=d,d[2]=t(n,e,l))return!0}return!1}}function wt(t){return t.length>1?function(n,e,o){for(var a=t.length;a--;)if(!t[a](n,e,o))return!1;return!0}:t[0]}function St(t,n,e,o,a){for(var i,s=[],r=0,l=t.length,u=null!=n;r<l;r++)(i=t[r])&&(e&&!e(i,o,a)||(s.push(i),u&&n.push(r)));return s}function Et(t,n,e,o,a,i){return o&&!o[S]&&(o=Et(o)),a&&!a[S]&&(a=Et(a,i)),pt(function(i,s,r,l){var u,c,p,d=[],b=[],f=s.length,h=i||function(t,n,e){for(var o=0,a=n.length;o<a;o++)ut(t,n[o],e);return e}(n||"*",r.nodeType?[r]:r,[]),m=!t||!i&&n?h:St(h,d,t,r,l),g=e?a||(i?t:f||o)?[]:s:m;if(e&&e(m,g,r,l),o)for(u=St(g,b),o(u,[],r,l),c=u.length;c--;)(p=u[c])&&(g[b[c]]=!(m[b[c]]=p));if(i){if(a||t){if(a){for(u=[],c=g.length;c--;)(p=g[c])&&u.push(m[c]=p);a(null,g=[],u,l)}for(c=g.length;c--;)(p=g[c])&&(u=a?z(i,p):d[c])>-1&&(i[u]=!(s[u]=p))}}else g=St(g===s?g.splice(f,g.length):g),a?a(null,s,g,l):P.apply(s,g)})}function Tt(t){for(var n,e,o,a=t.length,i=r.relative[t[0].type],s=i||r.relative[" "],l=i?1:0,u=xt(function(t){return t===n},s,!0),c=xt(function(t){return z(n,t)>-1},s,!0),p=[function(t,e,o){var a=!i&&(o||e!==b)||((n=e).nodeType?u(t,e,o):c(t,e,o));return n=null,a}];l<a;l++)if(e=r.relative[t[l].type])p=[xt(wt(p),e)];else{if((e=r.filter[t[l].type].apply(null,t[l].matches))[S]){for(o=++l;o<a&&!r.relative[t[o].type];o++);return Et(l>1&&wt(p),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),e,l<o&&Tt(t.slice(l,o)),o<a&&Tt(t=t.slice(o)),o<a&&_t(t))}p.push(e)}return wt(p)}kt.prototype=r.filters=r.pseudos,r.setFilters=new kt,c=ut.tokenize=function(t,n){var e,o,a,i,s,l,u,c=q[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=r.preFilter;s;){for(i in e&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),e=!1,(o=J.exec(s))&&(e=o.shift(),a.push({value:e,type:o[0].replace(W," ")}),s=s.slice(e.length)),r.filter)!(o=K[i].exec(s))||u[i]&&!(o=u[i](o))||(e=o.shift(),a.push({value:e,type:i,matches:o}),s=s.slice(e.length));if(!e)break}return n?s.length:s?ut.error(t):q(t,l).slice(0)},p=ut.compile=function(t,n){var e,o=[],a=[],i=L[t+" "];if(!i){for(n||(n=c(t)),e=n.length;e--;)(i=Tt(n[e]))[S]?o.push(i):a.push(i);(i=L(t,function(t,n){var e=n.length>0,o=t.length>0,a=function(a,i,s,l,u){var c,p,d,f=0,h="0",v=a&&[],k=[],_=b,x=a||o&&r.find.TAG("*",u),w=T+=null==_?1:Math.random()||.1,S=x.length;for(u&&(b=i===g||i||u);h!==S&&null!=(c=x[h]);h++){if(o&&c){for(p=0,i||c.ownerDocument===g||(m(c),s=!y);d=t[p++];)if(d(c,i||g,s)){l.push(c);break}u&&(T=w)}e&&((c=!d&&c)&&f--,a&&v.push(c))}if(f+=h,e&&h!==f){for(p=0;d=n[p++];)d(v,k,i,s);if(a){if(f>0)for(;h--;)v[h]||k[h]||(k[h]=j.call(l));k=St(k)}P.apply(l,k),u&&!a&&k.length>0&&f+n.length>1&&ut.uniqueSort(l)}return u&&(T=w,b=_),v};return e?pt(a):a}(a,o))).selector=t}return i},d=ut.select=function(t,n,e,o){var a,i,s,l,u,d="function"==typeof t&&t,b=!o&&c(t=d.selector||t);if(e=e||[],1===b.length){if((i=b[0]=b[0].slice(0)).length>2&&"ID"===(s=i[0]).type&&9===n.nodeType&&y&&r.relative[i[1].type]){if(!(n=(r.find.ID(s.matches[0].replace(ot,at),n)||[])[0]))return e;d&&(n=n.parentNode),t=t.slice(i.shift().value.length)}for(a=K.needsContext.test(t)?0:i.length;a--&&(s=i[a],!r.relative[l=s.type]);)if((u=r.find[l])&&(o=u(s.matches[0].replace(ot,at),et.test(i[0].type)&&yt(n.parentNode)||n))){if(i.splice(a,1),!(t=o.length&&_t(i)))return P.apply(e,o),e;break}}return(d||p(t,b))(o,n,!y,e,!n||et.test(t)&&yt(n.parentNode)||n),e},s.sortStable=S.split("").sort(M).join("")===S,s.detectDuplicates=!!h,m(),s.sortDetached=dt(function(t){return 1&t.compareDocumentPosition(g.createElement("fieldset"))}),dt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||bt("type|href|height|width",function(t,n,e){if(!e)return t.getAttribute(n,"type"===n.toLowerCase()?1:2)}),s.attributes&&dt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||bt("value",function(t,n,e){if(!e&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),dt(function(t){return null==t.getAttribute("disabled")})||bt(R,function(t,n,e){var o;if(!e)return!0===t[n]?n.toLowerCase():(o=t.getAttributeNode(n))&&o.specified?o.value:null});var At=a.Sizzle;ut.noConflict=function(){return a.Sizzle===ut&&(a.Sizzle=At),ut},void 0===(o=function(){return ut}.call(n,e,n,t))||(t.exports=o)}(window)},function(t,n,e){var o,a;o=[e(1),e(99)],void 0===(a=function(t,n){"use strict";t.find=n,t.expr=n.selectors,t.expr[":"]=t.expr.pseudos,t.uniqueSort=t.unique=n.uniqueSort,t.text=n.getText,t.isXMLDoc=n.isXML,t.contains=n.contains,t.escapeSelector=n.escape}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(19)],void 0===(a=function(t){"use strict";return new RegExp(t.join("|"),"i")}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(1),e(17),e(3),e(21),e(4),e(13),e(20),e(22),e(11),e(23),e(16),e(95),e(6)],void 0===(a=function(t,n,e,o,a,i,s,r,l,u){"use strict";return t.offset={setOffset:function(n,e,o){var i,s,r,l,u,c,p=t.css(n,"position"),d=t(n),b={};"static"===p&&(n.style.position="relative"),u=d.offset(),r=t.css(n,"top"),c=t.css(n,"left"),("absolute"===p||"fixed"===p)&&(r+c).indexOf("auto")>-1?(l=(i=d.position()).top,s=i.left):(l=parseFloat(r)||0,s=parseFloat(c)||0),a(e)&&(e=e.call(n,o,t.extend({},u))),null!=e.top&&(b.top=e.top-u.top+l),null!=e.left&&(b.left=e.left-u.left+s),"using"in e?e.using.call(n,b):d.css(b)}},t.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(e){t.offset.setOffset(this,n,e)});var e,o,a=this[0];return a?a.getClientRects().length?(e=a.getBoundingClientRect(),o=a.ownerDocument.defaultView,{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var n,e,o,a=this[0],i={top:0,left:0};if("fixed"===t.css(a,"position"))e=a.getBoundingClientRect();else{for(e=this.offset(),o=a.ownerDocument,n=a.offsetParent||o.documentElement;n&&(n===o.body||n===o.documentElement)&&"static"===t.css(n,"position");)n=n.parentNode;n&&n!==a&&1===n.nodeType&&((i=t(n).offset()).top+=t.css(n,"borderTopWidth",!0),i.left+=t.css(n,"borderLeftWidth",!0))}return{top:e.top-i.top-t.css(a,"marginTop",!0),left:e.left-i.left-t.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===t.css(n,"position");)n=n.offsetParent;return n||o})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var a="pageYOffset"===o;t.fn[e]=function(t){return n(this,function(t,n,e){var i;if(u(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===e)return i?i[o]:t[n];i?i.scrollTo(a?i.pageXOffset:e,a?e:i.pageYOffset):t[n]=e},e,t,arguments.length)}}),t.each(["top","left"],function(n,e){t.cssHooks[e]=r(l.pixelPosition,function(n,o){if(o)return o=s(n,e),i.test(o)?t(n).position()[e]+"px":o})}),t}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(3)],void 0===(a=function(t){"use strict";var n={type:!0,src:!0,noModule:!0};return function(e,o,a){var i,s=(o=o||t).createElement("script");if(s.text=e,a)for(i in n)a[i]&&(s[i]=a[i]);o.head.appendChild(s).parentNode.removeChild(s)}}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(25)],void 0===(a=function(t){"use strict";return t.call(Object)}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(7)],void 0===(a=function(t){"use strict";return t.push}.apply(n,o))||(t.exports=a)},function(t,n,e){var o,a;o=[e(7)],void 0===(a=function(t){"use strict";return t.concat}.apply(n,o))||(t.exports=a)},function(t,n,e){var o;void 0===(o=function(){"use strict";return Object.getPrototypeOf}.call(n,e,n,t))||(t.exports=o)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),a=s(e(1));e(102);var i=s(e(32));function s(t){return t&&t.__esModule?t:{default:t}}var r=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._bookContainer=n,this._textContainer=n.querySelector("[data-wb-text-container]"),this._text=n.querySelector("[data-wb-text]"),this._height=e.height,this._width=e.maxWidth,this._marginX=void 0===e.marginX?35:e.marginX,this._marginY=void 0===e.marginY?20:e.marginY,this._position=0,this.col=!0,this._bookmark=null,this._containerWidth=0,this._startPage=0,this._sectionsIndex=0,this._parentSection=null,this._pages_total=0,this._lastElement=document.createElement("DIV"),this._lastElement.className="wb-section wb-no-toc",this._lastElement.id="wb-last";var o=document.createElement("P");o.innerHTML="&nbsp;",this._lastElement.appendChild(o),this._div=document.createElement("DIV"),this._div.id="wb_div",this._div.innerHTML=e.text,this._div.appendChild(this._lastElement),this._divContainer=document.createElement("DIV"),this._divContainer.appendChild(this._div),this._sections=this._divContainer.querySelectorAll("#wb_div > .wb-section"),this._sectionsToc=this._div.querySelectorAll(".wb-section"),this._tocSections=[];for(var a=0;a<this._sectionsToc.length;a++)this._sectionsToc[a].className.match(/wb-no-toc/)||this._tocSections.push(this._sectionsToc[a]);this._tocs=this._bookContainer.querySelectorAll("[data-wb-toc]"),this.getTocs(),this._currentPages=this._bookContainer.querySelectorAll(".wb-current-page"),this._totalPages=this._bookContainer.querySelectorAll(".wb-total-pages"),this._currentTotalPages=this._bookContainer.querySelectorAll(".wb-currentByTotal-pages"),this._elPageNumbers=this._bookContainer.querySelectorAll("[data-wb-element-page-number]"),this._sectionTitles=this._bookContainer.querySelectorAll(".wb-current-section-title"),this.setBookLinks()}return o(t,[{key:"init",value:function(t){var n=this;return this._tableInfos=t,new i.default(function(t,e){if("webkitColumnWidth"in document.body.style||"mozColumnWidth"in document.body.style||"columnWidth"in document.body.style){var o=n._sectionsToc;if(n._text.style.display="none",n.emptyNode(n._text),n._text.appendChild(n._div),n.toBook(),n._elPageNumbers=n._bookContainer.querySelectorAll("[data-wb-element-page-number]"),void 0===n._tableInfos){n._startPage=n.getPageStart(),n.pages_total=n.getBookTotalPages(),n._sections_page_start=[],n._toc_sections_page_start=[];for(var i=0;i<o.length;i++){var s={};s.id=o[i].id,s.page_start=n.elementPageNumber(s.id),o[i].parentElement.className.match(/wb-section/)||n._sections_page_start.push(s),n._toc_sections_page_start.push(s)}for(var r=0;r<n._elPageNumbers.length;r++){var l={},u=n._elPageNumbers[r].getAttribute("data-wb-element-page-number");n._text.querySelector("#"+u).className.match(/wb-section/)||(l.id=u,l.page_start=n.elementPageNumber(u),n._toc_sections_page_start.push(l))}}else n._startPage=n._tableInfos.startPage,n.pages_total=n._tableInfos.totalPages,n._sections_page_start=n._tableInfos.sectionsPageStart,n._toc_sections_page_start=n._tableInfos.tocSectionsPageStart;for(var c=function(t){var e=n._elPageNumbers[t].getAttribute("data-wb-element-page-number"),o=n._toc_sections_page_start.filter(function(t){return t.id===e})[0].page_start;o<1?n._elPageNumbers[t].innerHTML="":n._elPageNumbers[t].innerHTML!=o&&(n._elPageNumbers[t].innerHTML=o)},p=0;p<n._elPageNumbers.length;p++)c(p);n._bookmark?(n.goToBookmark(n._bookmark),n._position=Math.round((0,a.default)(n._text).position().left)):n.nextSection(n._sectionsIndex),n.refresh(),n._text.style.display="block",t({startPage:n._startPage,totalPages:n.pages_total,sectionsPageStart:n._sections_page_start,tocSectionsPageStart:n._toc_sections_page_start})}else e("no column")})}},{key:"toBook",value:function(){this.col=!0;var t=this.getMarginX(),n=this.getMarginY(),e=this._textContainer.style;e.display="none",e.boxSizing="border-box",e.webkitBoxSizing="border-box",e.overflow="hidden",e.position="relative",e.padding="0px",e.height=this.getHeight()+"px",e.maxWidth=this.getMaxWidth()+"px",e.display="block",this._containerWidth=this.getMaxWidth();var o=this._text.style;o.display="none",o.boxSizing="border-box",o.webkitBoxSizing="border-box",o.position="absolute",o.left=0,o.top=0,o.height="100%",o.width="100%",o.paddingRight=t+"px",o.paddingLeft=t+"px",o.paddingTop=n+"px",o.paddingBottom=n+"px",o.webkitColumnFill="auto",o.mozColumnFill="auto",o.columnFill="auto",o.webkitColumnWidth=this._containerWidth+"px",o.mozColumnWidth=this._containerWidth+"px",o.columnWidth=this._containerWidth+"px",o.mozColumnGap=2*t+"px",o.webkitColumnGap=2*t+"px",o.columnGap=2*t+"px",o.display="block"}},{key:"setMaxWidth",value:function(t){return this._width=t,this}},{key:"getMaxWidth",value:function(){return this._width}},{key:"setHeight",value:function(t){return this._height=t,this}},{key:"getHeight",value:function(){return this._height}},{key:"setMarginX",value:function(t){return this._marginX=t,this}},{key:"getMarginX",value:function(){return this._marginX}},{key:"setMarginY",value:function(t){return this._marginY=t,this}},{key:"getMarginY",value:function(){return this._marginY}},{key:"emptyNode",value:function(t){for(var n=t.firstChild;n;)t.removeChild(n),n=t.firstChild}},{key:"setBookLinks",value:function(){for(var t=this,n=this._bookContainer.querySelectorAll(".wb-link"),e=0;e<n.length;e++)n[e].addEventListener("click",function(n){if(!0===t.col){n.preventDefault();var e=n.currentTarget.getAttribute("href").replace(/^#/,"");t.goToElement(e)}},!1)}},{key:"setSectionLinks",value:function(){for(var t=this,n=this._text.querySelectorAll(".wb-section")[0].querySelectorAll(".wb-link"),e=0;e<n.length;e++)n[e].addEventListener("click",function(n){if(!0===t.col){n.preventDefault();var e=n.currentTarget.getAttribute("href").replace(/^#/,"");t.goToElement(e)}},!1)}},{key:"nextSection",value:function(t){"wb-last"!==this._sections[t].id&&(this._sectionsIndex=t,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._tableInfos&&this.toBook(),this.goToPage(this.elementPageNumber(this._sections[t].id)),this.refresh())}},{key:"prevSection",value:function(t){t<0||(this._sectionsIndex=t,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._tableInfos&&this.toBook(),this.goToPage(this.getSectionTotalPages()-this._startPage),this.refresh())}},{key:"goToElement",value:function(t){for(var n=0;n<this._sections.length;n++){if(this._sections[n].id===t){this.nextSection(n);break}if(this._sections[n].querySelector("#"+t)){this._sectionsIndex=n,this._sections[this._sectionsIndex].id!==this._text.querySelectorAll(".wb-section")[0].id&&(this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this._tableInfos&&this.toBook()),this.goToPage(this.elementPageNumber(t)),this.refresh();break}}}},{key:"getParentSectionId",value:function(){return this._text.querySelectorAll(".wb-section")[0].id}},{key:"forward",value:function(){this.getSectionTotalPages()===this.getPageNumber()?this.nextSection(this._sectionsIndex+1):(this._position=Math.round((0,a.default)(this._text).position().left),this._position-=this._containerWidth,this._text.style.left=this._position+"px",this.refresh())}},{key:"backward",value:function(){1==this.getPageNumber()?this.prevSection(this._sectionsIndex-1):(this._position=Math.round((0,a.default)(this._text).position().left),this._position+=this._containerWidth,this._text.style.left=this._position+"px",this.refresh())}},{key:"toFirstPage",value:function(){this.nextSection(0),this.refresh()}},{key:"toLastPage",value:function(){this.prevSection(this._sections.length-2),this.refresh()}},{key:"getPageStart",value:function(){for(var t=void 0,n=void 0,e=void 0,o=0;o<this._sections.length;o++)if(this._sections[o]&&this._sections[o].className.match(/wb-no-page/))t=o;else if(void 0!==t&&void 0===n&&!this._sections[o].className.match(/wb-no-page/)){n=o;var i=this._sections[n].id,s=this._text.querySelector("#"+i+" p:first-child"),r=Math.round((0,a.default)(s).position().left)-this.getMarginX();e=(r=r%this._containerWidth!=0?r-r%this._containerWidth:r)/this._containerWidth;break}return e||0}},{key:"checkFirstPage",value:function(){return 0===this._position}},{key:"getPageNumber",value:function(){var t=Math.abs(Math.floor(this._position/this._containerWidth))+1;return t}},{key:"getSectionTotalPages",value:function(){var t=Math.floor(Math.round((0,a.default)(this._text.lastElementChild).position().left)/this._containerWidth);return t}},{key:"getBookTotalPages",value:function(){return Math.floor(Math.round((0,a.default)(this._lastElement).position().left)/this._containerWidth)-this._startPage}},{key:"goToPage",value:function(t){t+=this._startPage;var n=this._containerWidth*(t-1);this._text.style.left=-n+"px",this._position=Math.round((0,a.default)(this._text).position().left)}},{key:"getElementPosition",value:function(t){var n=Math.round((0,a.default)(t).position().left)-this.getMarginX();return n%this._containerWidth!=0?n-n%this._containerWidth:n}},{key:"elementPageNumber",value:function(t){var n=void 0;return this._text.querySelector("#"+t).className.match(/wb-section/)?n=this._text.querySelector("#"+t+" p:first-child"):this._text.querySelector("#"+t)&&(n=this._text.querySelector("#"+t)),n?this.getElementPosition(n)/this._containerWidth+1-this._startPage:""}},{key:"getSectionTitle",value:function(){var t="",n=this._text.querySelectorAll(".wb-section")[0];if(0!==n.querySelectorAll(".wb-section").length&&0!==this._text.querySelectorAll(".wb-section-title").length){var e=this._text.querySelectorAll(".wb-section-title"),o=[].slice.call(e);o.push(this._lastElement);for(var a=0;a<o.length;a++){var i=o[a].id;if(this.getPageNumber()<this.elementPageNumber(i)+this._startPage){t=this.getPageNumber()===this.elementPageNumber(o[a-1].id)+this._startPage?"":o[a-1].getAttribute("data-wb-title")?o[a-1].getAttribute("data-wb-title"):o[a-1].title;break}}}else t=1==this.getPageNumber()?"":n.className.match(/wb-no-title/)?"":n.getAttribute("data-wb-title")?n.getAttribute("data-wb-title"):n.title;return t}},{key:"getTocs",value:function(){if(0!==this._tocs.length){var t=this._tocs[0];if(t.getAttribute("data-wb-toc")){var n=document.createElement("p");n.setAttribute("class","wb-toc-title"),n.innerHTML=t.getAttribute("data-wb-toc"),t.appendChild(n)}var e=document.createElement("div"),o=document.createElement("ul");o.setAttribute("class","wb-toc-list");for(var a=0;a<this._tocSections.length;a++){var i=this._tocSections[a],s=document.createElement("li");s.setAttribute("class","wb-toc-item");var r=document.createElement("a");r.setAttribute("href","#"+i.id),r.setAttribute("class","wb-link"),s.appendChild(r);var l=document.createElement("span");if(i.getAttribute("data-wb-class")?l.setAttribute("class","wb-toc-item-title "+i.getAttribute("data-wb-class")):l.setAttribute("class","wb-toc-item-title"),l.innerHTML=i.getAttribute("data-wb-title-toc")?i.getAttribute("data-wb-title-toc"):i.title,r.appendChild(l),!i.className.match(/wb-toc-no-page-number/)){var u=document.createElement("span");u.setAttribute("class","wb-toc-item-page-number"),u.setAttribute("data-wb-element-page-number",i.id),r.appendChild(u)}o.appendChild(s)}if(e.appendChild(o),t.appendChild(e),this._tocs[1])for(var c=1;c<this._tocs.length;c++){if(this._tocs[c].getAttribute("data-wb-toc")){var p=document.createElement("p");p.setAttribute("class","wb-toc-title"),p.innerHTML=this._tocs[c].getAttribute("data-wb-toc"),this._tocs[c].appendChild(p)}this._tocs[c].appendChild(e.cloneNode(!0))}}}},{key:"getTocsCurrentSection",value:function(){var t=void 0,n=this._text.querySelectorAll(".wb-section")[0];if(0!==n.querySelectorAll(".wb-section").length){var e=this._text.querySelectorAll("[data-wb-active-section]"),o=[].slice.call(e);o.push(this._lastElement);for(var a=0;a<o.length;a++){var i=o[a].id;if(this.getPageNumber()<this.elementPageNumber(i)+this._startPage){t=o[a-1];break}}}else t=n;if(t)for(var s=0;s<this._tocs.length;s++)for(var r=this._tocs[s].querySelectorAll("a"),l=0;l<r.length;l++){var u=t.getAttribute("data-wb-active-section")?t.getAttribute("data-wb-active-section"):t.id;r[l].getAttribute("href").replace(/^#/,"")===u?r[l].parentElement.className.match(/current/)||(r[l].parentElement.className+=" current"):r[l].parentElement.className.match(/current/)&&(r[l].parentElement.className=r[s].parentElement.className.replace(/ current/,""))}}},{key:"insertBookmark",value:function(){var t=this._text.querySelectorAll(".wb-section")[0];if(t)for(var n=t.querySelectorAll(":not(.wb-section)"),e=Math.abs(this._position),o=0;o<n.length;o++){var a=this.getElementPosition(n[o]);if(a===e){if("wb-last"===t.id){this._bookmark={sectionId:t.id,el:n.length-1};break}this._bookmark={sectionId:t.id,el:o};break}if(a>e){this._bookmark={sectionId:t.id,el:o-1};break}}}},{key:"goToBookmark",value:function(t){for(var n=0;n<this._sections.length;n++)if(this._sections[n].id===t.sectionId){this._sectionsIndex=n,this.emptyNode(this._text),this._text.appendChild(this._sections[this._sectionsIndex].cloneNode(!0)),this._text.appendChild(this._lastElement.cloneNode(!0)),this.setSectionLinks(),this.toBook();var e=this._text.querySelectorAll(".wb-section")[0].querySelectorAll(":not(.wb-section)")[t.el],o=this.getElementPosition(e);this._text.style.left=-o+"px",this._position=Math.round((0,a.default)(this._text).position().left),this.refresh();break}}},{key:"getBookmark",value:function(){return this._bookmark}},{key:"setBookmark",value:function(t){this._bookmark=t}},{key:"getCover",value:function(){0===this._sectionsIndex&&1==this.getPageNumber()?this._text.className.match(/cover/)||(this._text.className+=" cover_active"):this._text.className.match(/cover/)&&(this._text.className=this._text.className.replace(/ cover/,""))}},{key:"refresh",value:function(){if(this.insertBookmark(),this.getCover(),!1===this.col){for(var t=0;t<this._currentPages.length;t++)this._currentPages[t].innerHTML="";for(var n=0;n<this._currentTotalPages.length;n++)this._currentTotalPages[n].innerHTML="";for(var e=0;e<this._sectionTitles.length;e++)this._sectionTitles[e].innerHTML=""}else{0!==this._tocs.length&&this.getTocsCurrentSection();for(var o=0;o<this._currentPages.length;o++){var a=this._sections_page_start[this._sectionsIndex].page_start+this.getPageNumber()-1;a<1?this._currentPages[o].innerHTML="":this._currentPages[o].innerHTML!==a&&(this._currentPages[o].innerHTML=a)}for(var i=0;i<this._currentTotalPages.length;i++){var s=this._text.querySelectorAll(".wb-section")[0],r=this._sections_page_start[this._sectionsIndex].page_start+this.getPageNumber()-1;r<1||s.className.match(/wb-page-no-display/)?this._currentTotalPages[i].innerHTML="":this._currentTotalPages[i].innerHTML!==r+"/"+this.pages_total&&(this._currentTotalPages[i].innerHTML=r+"/"+this.pages_total)}for(var l=0;l<this._sectionTitles.length;l++)this._sectionTitles[l].innerHTML!=this.getSectionTitle()&&(this._sectionTitles[l].innerHTML=this.getSectionTitle())}}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=l(e(0)),a=l(e(2)),i=l(e(30)),s=l(e(108)),r=(l(e(86)),l(e(84)));function l(t){return t&&t.__esModule?t:{default:t}}var u=e(82);n.default=function(t){for(var n=t,e=a.default.getData("books"),l=void 0,c=location.hash.replace(/(#|\/read)/g,""),p=0;p<e.length;p++)if(e[p].path.replace(/^\/books\/[^\/]+/,"")===c){l=e[p];break}var d=void 0,b=void 0;l.subtitle1&&l.subtitle2?(d=l.authorDisplay+" : "+l.title+" ; "+l.subtitle1+" ("+l.subtitle2+")&ensp;&ndash;&ensp;&Eacute;quivoques",b=l.title+" ; "+l.subtitle1+" ("+l.subtitle2+")"):l.subtitle1?(d=l.authorDisplay+" : "+l.title+" ; "+l.subtitle1+"&ensp;&ndash;&ensp;&Eacute;quivoques",b=l.title+" ; "+l.subtitle1):(d=l.authorDisplay+" : "+l.title+"&ensp;&ndash;&ensp;&Eacute;quivoques",b=l.title),o.default.setHTML("title",d),o.default.setAttributeContent("[name=title]","content",b),o.default.setAttributeContent("[name=description]","content",l.description),o.default.setAttributeContent("[name=author]","content",l.authorDisplay),n.innerHTML=u({book:l}),o.default.removeClass("#book-loader-container","hidden");var f=document.querySelector("#bookContainer"),h=(document.querySelector("#book"),{method:"GET",url:l.path+".css"});o.default.ajax(h).then(function(t){return document.getElementById("custom_rules").innerHTML=t,h={method:"GET",url:l.path+".html"},o.default.ajax(h)}).then(function(t){a.default.setData("book",l.id),function(t){var n,e=f.querySelector("[data-wb-text-container]"),u=f.querySelector("[data-wb-text]"),c=f.querySelector("#toc-large-device"),p=f.querySelector("#tab-options"),d=f.querySelector("#options"),b=f.querySelector("#options-medium"),h=p.querySelectorAll("[name=fontSize]"),m=b.querySelectorAll("[name=fontSize]"),g=d.querySelectorAll("[name=fontSize]"),v=f.querySelector("#tab-infos"),y=f.querySelector("#book-commands"),k=f.querySelector("#book-nav-bar-bottom"),_=f.querySelector("#book-nav-bar-bottom-small"),x=(f.querySelector("#font-size-valid-large"),void f.querySelector("#font-size-valid")),w=void 0,S=void 0,E=void 0,T=void 0,A=void 0,C=void 0,q=window.innerWidth,L=window.innerHeight;if(n=l.styles.font,u.style.fontFamily=n,f.querySelector("#current-section-title").style.fontFamily=n,f.querySelector("#currentByTotal").style.fontFamily=n,q>=768)if(o.default.addClass("[data-wb-text-container]","card-4"),L>832?(x=748,C=(L-748-44)/2,e.style.top=C-15+"px",c.style.marginTop=C-15+"px",p.style.marginTop=C+33+"px",v.style.marginTop=C+80+"px",y.style.top=C-16+"px",k.style.marginTop=C-15+"px"):(x=L-44-40,e.style.top="15px",c.style.marginTop="15px",p.style.marginTop="63px",v.style.marginTop="111px",y.style.top="15px",k.style.marginTop="15px"),w=550,T=i.default.getFontSize("large")?i.default.getFontSize("large"):16,u.style.fontSize=T+"px",q<1366)for(var M=0;M<m.length;M++)m[M].value==T&&(m[M].checked=!0);else for(var N=0;N<h.length;N++)h[N].value==T&&(h[N].checked=!0);else{o.default.removeClass("[data-wb-text-container]","card-4"),x=L-30,w=q,_.style.width=w+"px",T=i.default.getFontSize("small")?i.default.getFontSize("small"):14,u.style.fontSize=T+"px";for(var O=0;O<g.length;O++)g[O].value==T&&(g[O].checked=!0);e.style.top="0px"}S=x%(A=1.5*T)!=0?2*A+x%A/2:2*A,E=q>420?50:25;var j=new s.default(f,{height:x,maxWidth:w,marginY:S,marginX:E,text:t}),I=i.default.getTableInfos({id:l.id,dim:w+"x"+x,font:n,fontSize:T});j.init(I).then(function(t){if(i.default.getBkmrk(l.id)){var n=i.default.getBkmrk(l.id);j.goToBookmark(n)}return t}).then(function(t){return function(){if(q>=1366){var t=f.querySelector("#toc-large-device div");t&&(t.style.maxHeight=x+"px")}window.addEventListener("resize",function(){if(o.default.addClass("#book","fixed"),q=window.innerWidth,L=window.innerHeight,location.hash.match(/#\/[^\/]+\/read$/)){if(q>=768)if(o.default.addClass("[data-wb-text-container]","card-4"),L>=832?(x=748,C=(L-748-44)/2,e.style.top=C-15+"px",c.style.marginTop=C-15+"px",p.style.marginTop=C+33+"px",v.style.marginTop=C+80+"px",y.style.top=C-16+"px",k.style.marginTop=C-15+"px"):(x=L-44-40,e.style.top="15px",c.style.marginTop="15px",v.style.marginTop="63px",v.style.marginTop="111px",y.style.top="15px",k.style.marginTop="15px"),w=550,T=i.default.getFontSize("large")?i.default.getFontSize("large"):16,u.style.fontSize=T+"px",q<1366)for(var t=0;t<m.length;t++)m[t].value==T&&(m[t].checked=!0);else for(var a=0;a<h.length;a++)h[a].value==T&&(h[a].checked=!0);else{o.default.removeClass("[data-wb-text-container]","card-4"),x=L-30,w=q,_.style.width=w+"px",T=i.default.getFontSize("small")?i.default.getFontSize("small"):14,u.style.fontSize=T+"px";for(var s=0;s<g.length;s++)g[s].value==T&&(g[s].checked=!0);e.style.top="0px"}if(q>=1366){var r=f.querySelector("#toc-large-device div");r&&(r.style.maxHeight=x+"px")}S=x%(A=1.5*T)!=0?2*A+x%A/2:2*A,E=q>420?50:25,j.setHeight(x),j.setMaxWidth(w),j.setMarginY(S),j.setMarginX(E);var d=i.default.getTableInfos({id:l.id,dim:w+"x"+x,font:n,fontSize:T});j.init(d).then(function(t){o.default.removeClass("#book","fixed"),i.default.setTableInfos({id:l.id,dim:w+"x"+x,font:n,fontSize:T,tableInfos:t})})}},!1),new r.default.Region(e,!1,!1).bind(e,"swipe",function(t){var n=t.detail.data[0].currentDirection;n>135&&n<225?j.forward():(n<45||n>315)&&j.backward()}),document.addEventListener("keydown",function(t){39===t.which?j.forward():37===t.which?j.backward():36===t.which?j.toFirstPage():35===t.which&&j.toLastPage()},!1);var s=f.querySelector("#forward-large"),M=f.querySelector("#backward-large");s.addEventListener("click",function(t){j.forward()},!1),M.addEventListener("click",function(t){j.backward()},!1);for(var N=f.querySelector("#toc"),O=f.querySelectorAll(".open-toc"),I=0;I<O.length;I++)O[I].addEventListener("click",function(t){N.className="open"===N.className?"":"open"},!1);N.querySelector("#close-toc").addEventListener("click",function(){N.className=""},!1);for(var P=N.querySelectorAll("a"),D=0;D<P.length;D++)P[D].addEventListener("click",function(){N.className=""},!1);f.querySelector("#open-options").addEventListener("click",function(){d.className="open"===d.className?"":"open"}),f.querySelector("#close-options").addEventListener("click",function(){d.className=""}),f.querySelector("#open-options-medium").addEventListener("click",function(){b.className="open"===b.className?"":"open"}),f.querySelector("#close-options-medium").addEventListener("click",function(){b.className=""}),f.querySelector("#swing-container"),f.querySelector("#swing-bar"),f.querySelector("#tab-home-link");var z=f.querySelector("#toggle-toc-large-device"),R=f.querySelector("#toggle-tab-options"),H=f.querySelector("#toggle-tab-infos"),B=f.querySelector("#close-toc-large-device"),F=f.querySelector("#close-tab-options"),G=f.querySelector("#close-tab-infos");z.addEventListener("click",function(t){c.className.match(/open/)?(c.style.zIndex="0",o.default.removeClass("#toc-large-device","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left")):(v.className.match(/open/)?(v.style.zIndex="0",c.style.zIndex="1000",o.default.removeClass("#tab-infos","open")):p.className.match(/open/)&&(p.style.zIndex="0",c.style.zIndex="1000",o.default.removeClass("#tab-options","open")),o.default.addClass("#toc-large-device","open"),o.default.addClass("#swing-container","left"),o.default.addClass("#swing-bar","left"))},!1),B.addEventListener("click",function(t){o.default.removeClass("#toc-large-device","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left"),c.style.zIndex="0"},!1),R.addEventListener("click",function(t){p.className.match(/open/)?(p.style.zIndex="0",o.default.removeClass("#tab-options","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left")):(c.className.match(/open/)?(c.style.zIndex="0",p.style.zIndex="1000",o.default.removeClass("#toc-large-device","open")):v.className.match(/open/)&&(v.style.zIndex="0",p.style.zIndex="1000",o.default.removeClass("#tab-infos","open")),o.default.addClass("#tab-options","open"),o.default.addClass("#swing-container","left"),o.default.addClass("#swing-bar","left"))},!1),F.addEventListener("click",function(t){o.default.removeClass("#tab-options","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left"),p.style.zIndex="0"},!1),H.addEventListener("click",function(t){v.className.match(/open/)?(v.style.zIndex="0",o.default.removeClass("#tab-infos","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left")):(c.className.match(/open/)?(c.style.zIndex="0",v.style.zIndex="1000",o.default.removeClass("#toc-large-device","open")):p.className.match(/open/)&&(p.style.zIndex="0",v.style.zIndex="1000",o.default.removeClass("#tab-options","open")),o.default.addClass("#tab-infos","open"),o.default.addClass("#swing-container","left"),o.default.addClass("#swing-bar","left"))},!1),G.addEventListener("click",function(t){o.default.removeClass("#tab-infos","open"),o.default.removeClass("#swing-container","left"),o.default.removeClass("#swing-bar","left"),v.style.zIndex="0"},!1);for(var V=f.querySelectorAll(".home"),W=0;W<V.length;W++)V[W].addEventListener("click",function(t){t.preventDefault();var n=a.default.getData("location").prevLocation;n=n&&n.match(/#\/[^\/]+\/read$/)?"#/":n,location.hash=n||"#/"},!1);for(var U=f.querySelectorAll(".add-bookmark"),J=0;J<U.length;J++)U[J].addEventListener("click",function(t){var n=j.getBookmark(),e=document.querySelector("#bookmark");i.default.setBkmrk(l.id,n),e.className="show",setTimeout(function(){e.className=e.className.replace("show","")},2500)},!1);for(var X=0;X<h.length;X++)h[X].addEventListener("click",function(t){var n=t.target.value;i.default.setFontSize("large",n),u.style.opacity="0",f.querySelector("#current-section-title").style.opacity="0",f.querySelector("#currentByTotal").style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){var t=1.5*n,e=x%t!=0?2*t+x%t/2:2*t;j.setMarginY(e),u.style.fontSize=n+"px",j.init().then(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",f.querySelector("#current-section-title").style.opacity="1",f.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",f.querySelector("#current-section-title").style.opacity="1",f.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var $=0;$<m.length;$++)m[$].addEventListener("click",function(t){var n=t.target.value;i.default.setFontSize("large",n),b.className="",u.style.opacity="0",f.querySelector("#current-section-title").style.opacity="0",f.querySelector("#currentByTotal").style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),setTimeout(function(){var t=1.5*n,e=x%t!=0?2*t+x%t/2:2*t;j.setMarginY(e),u.style.fontSize=n+"px",j.init().then(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",f.querySelector("#current-section-title").style.opacity="1",f.querySelector("#currentByTotal").style.opacity="1"}).catch(function(t){o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1",f.querySelector("#current-section-title").style.opacity="1",f.querySelector("#currentByTotal").style.opacity="1"})},100)},!1);for(var Y=0;Y<g.length;Y++)g[Y].addEventListener("click",function(t){var n=t.target.value;i.default.setFontSize("small",n),u.style.opacity="0",o.default.removeClass("#text-loader-container","hidden"),o.default.removeClass("#options","open"),document.body.style.overflow="hidden",setTimeout(function(){var t=1.5*n,e=x%t!=0?2*t+x%t/2:2*t;j.setMarginY(e),u.style.fontSize=n+"px",j.init().then(function(t){document.body.style.overflow="visible",o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1"}).catch(function(t){document.body.style.overflow="visible",o.default.addClass("#text-loader-container","hidden"),u.style.opacity="1"})},100)},!1)}(),t}).then(function(t){return o.default.addClass("#book-loader-container","hidden"),f.className="show",t}).then(function(t){i.default.setTableInfos({id:l.id,dim:w+"x"+x,font:n,fontSize:T,tableInfos:t})}).catch(function(t){console.log(t)})}(t)}).catch(function(t){console.log(t),o.default.addClass("#book-loader-container","hidden"),location.hash="#/"})}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="books-next-container" class="fade">\n\t<div id="top-page-header">à paraître</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\t\t\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/books-next/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_<%= books[i].id %>">\n\t\t\t\t\t<div id="paper" style="background-color: <%= books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t\t<div class="book" style="<%=books[i].styles.cover %>">\n\t\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="title" style="<%-books[i].styles.title %>">\n\t\t\t\t\t\t\t\t<span><%- books[i].title %></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" class="open-infos-btn btn">Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t\t<div id="dots"></div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="books-next-container" class="fade">\n\t<div id="top-page-header">à paraître</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\t\t\n\t\t\t'),__stack.lineno=6;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,books[t].id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,books[t].authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=7,books[t].subtitle1&&(n.push("\n\t\t\t\t<p>",(__stack.lineno=8,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),n.push("\n\t\t\t  "),__stack.lineno=10,books[t].subtitle2&&(n.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,books[t].subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),n.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  '),__stack.lineno=15,books[t].description&&(n.push('\n\t\t\t  <div class="description">',(__stack.lineno=16,replaceLines(books[t].description)),"</div>\n\t\t\t  "),__stack.lineno=17),n.push('\n\t\t\t  <div class="padding-8">\n\t\t\t\t  <p><b>Année de parution : </b>',(__stack.lineno=19,books[t].year),"</p>\n\t\t\t\t  "),__stack.lineno=20,books[t].authors.length>1){n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=25;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=27,books[t].authors[e].name)," (",(__stack.lineno=27,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=27,books[t].authors[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=29;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=32}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=33,books[t].authors[0].name)," (",(__stack.lineno=33,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=33,books[t].authors[0].death),")</p>\n\t\t\t\t  "),__stack.lineno=34);if(n.push("\n\t\t\t\t  "),__stack.lineno=35,books[t].contribs.length>1){for(n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=40,e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=42,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=43,books[t].contribs[e].name)," (",(__stack.lineno=43,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=43,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=45;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=48}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=54,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=55,books[t].contribs[0].name)," (",(__stack.lineno=55,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=55,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=59);for(n.push('\n\t\t\t\t  <p class="book-source">\n\t\t\t\t  '),__stack.lineno=61,books[t].sources.length>1?(n.push("\n\t\t\t\t\t<b>Sources :</b>\n\t\t\t\t  "),__stack.lineno=63):(n.push("\n\t\t\t\t\t<b>Source :</b>\n\t\t\t\t  "),__stack.lineno=65),n.push("\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=67,e=0;e<books[t].sources.length;e++)n.push("\n\t\t\t\t\t\t<li><span>",(__stack.lineno=68,books[t].sources[e]),"</span></li>\n\t\t\t\t\t"),__stack.lineno=69;return n.push("\n\t\t\t\t\t</ul>\n\t\t\t\t  </p>\n\t\t\t  </div>\n\t\t</div>\n\t</div>\n</div>\n"),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_',escape((__stack.lineno=10,books[t].id)),'">\n\t\t\t\t\t<div id="paper" style="background-color: ',escape((__stack.lineno=11,books[t].styles.color)),"; background-image: url(",(__stack.lineno=11,books[t].styles.image),')">\n\t\t\t\t\t\t<div class="book" style="',escape((__stack.lineno=12,books[t].styles.cover)),'">\n\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=13,books[t].styles.author)),'">',(__stack.lineno=13,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=14,books[t].styles.title),'">\n\t\t\t\t\t\t\t\t<span>',(__stack.lineno=15,books[t].title),"</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=17,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=18,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].subtitle1),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=21),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=22,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=23,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=24,books[t].subtitle2),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=26),buf.push('\n\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=27,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=34,books[t].id)),'" class="open-infos-btn btn">Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=38;buf.push('\n\t\t\t<div id="dots"></div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t'+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#books-next-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#books-next-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px;\n\t}\n}\n\n#books-next-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#books-next-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n#books-next-container #booksList-container {\n\twidth: 100%;\n\tpadding-bottom: 0px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#books-next-container #booksList-container {\n\t\twidth: 750px;\n\t}\n}\n\n#books-next-container #booksList {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tpadding: 0px 0px 0px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #booksList {\n\t\theight: 460px;\n\t}\n}\n\n#books-next-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#books-next-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#books-next-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#books-next-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n\tposition: relative;\n}\n\n#books-next-container .book {\n\tcursor: default;\n}\n\n#books-next-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#books-next-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#books-next-container #previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#books-next-container #next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#books-next-container #previous {\n\t\tdisplay: inline-block;\n\t}\n\n\t#books-next-container #next {\n\t\tdisplay: inline-block;\n\t}\n}\n\n#books-next-container #dots {\n\twidth: 100%;\n\ttext-align: center;\n\tdisplay: none;\n\tpadding: 32px 0px 32px 0px;\n}\n\n#books-next-container .dot {\n\tcursor:pointer;\n\theight: 15px;\n\twidth: 15px;\n\tmargin: 0 2px;\n\tborder: 1px solid #333;\n\tbackground-color: transparent;\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\ttransition: background-color 0.6s ease;\n}\n\n#books-next-container .dot.active, #books-next-container .dot:hover {\n\tbackground-color: #333;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#books-next-container #dots {\n\t\tdisplay: block;\n\t}\n\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#books-next-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#books-next-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#books-next-container .modal-content div {\n\tpadding: 8px;\n}\n\n#books-next-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#books-next-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: \'Georgia\', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n#books-next-container #content {\n\tmax-height: 330px;\n\toverflow: auto;\n}\n\n@media only screen and (min-height: 600px) {\n\t#books-next-container #content {\n\t\tmax-height: 450px;\n\t\toverflow: auto;\n\t}\n\n}\n\n#authors-container .modal .description {\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: justify;\n\tpadding-top: 8px;\n\tpadding-bottom: 16px;\n}\n\n#books-next-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#books-next-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#books-next-container .modal ul li {\n\tpadding: 4px;\n}\n\n#books-next-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#books-next-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n}\n',""])},function(t,n,e){var o=e(111);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(2)),a=i(e(0));function i(t){return t&&t.__esModule?t:{default:t}}i(e(112));var s=e(110);n.default=function(t){var n=t,e=o.default.getData("books").filter(function(t){return!1===t.visible});a.default.setHTML("title","&Eacute;quivoques&ensp;&ndash;&ensp;À paraître"),a.default.setAttributeContent("[name=title]","content","Équivoques&ensp;&ndash;&ensp;Textes en ligne&ensp;&ndash;&ensp;Prochaines parutions"),a.default.setAttributeContent("[name=description]","content","Le site de lecture en ligne"),a.default.setAttributeContent("[name=author]","content","Équivoques"),n.innerHTML=s({books:e,replaceLines:a.default.replaceLines});for(var i=document.querySelector("#books-next-container"),r=i.querySelectorAll(".slide"),l=i.querySelector("#dots"),u=0;u<r.length&&!(r.length<2);u++){var c=document.createElement("span");c.className="dot",l.appendChild(c)}for(var p=i.querySelectorAll(".dot"),d=void 0,b=void 0,f=function(t){clearTimeout(b),b=void 0,d===r.length-1?d=0:d+=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(p[n],"active");r[d].style.display="block",a.default.addClass(p[d],"active"),h()},h=function(){b=setTimeout(f,1e4)},m=function(t){p[t].addEventListener("click",function(n){clearTimeout(b),b=void 0,d=t;for(var e=0;e<r.length;e++)r[e].style.display="none",a.default.removeClass(p[e],"active");clearTimeout(b),r[d].style.display="block",a.default.addClass(p[d],"active"),h()},!1)},g=0;g<p.length;g++)m(g);i.querySelector("#previous").addEventListener("click",function(t){clearTimeout(b),b=void 0,0===d?d=r.length-1:d-=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(p[n],"active");r[d].style.display="block",a.default.addClass(p[d],"active"),h()},!1),i.querySelector("#next").addEventListener("click",f,!1),window.innerWidth>=750&&(r.length<2?(i.querySelector("#previous").style.display="none",i.querySelector("#next").style.display="none"):(i.querySelector("#previous").style.display="block",i.querySelector("#next").style.display="block"),r[d=0].style.display="block",r.length>1&&(a.default.addClass(p[d],"active"),h())),window.addEventListener("resize",function(){if(clearTimeout(b),b=void 0,window.innerWidth<750)for(var t=0;t<r.length;t++)r[t].style.display="block";else{for(var n=0;n<r.length;n++)r[n].style.display="none";void 0===d&&(d=0),r[d].style.display="block",r.length>1&&(a.default.addClass(p[d],"active"),h()),r.length<2?(i.querySelector("#previous").style.display="none",i.querySelector("#next").style.display="none"):(i.querySelector("#previous").style.display="block",i.querySelector("#next").style.display="block")}});for(var v=function(t){clearTimeout(b),b=void 0;var n=t.target.id.replace("open-","");window.innerWidth<750&&(document.body.style.overflowY="hidden"),document.getElementById(n).style.display="block"},y=i.querySelectorAll(".open-infos-btn"),k=0;k<y.length;k++)y[k].addEventListener("click",v,!1);for(var _=function(t){clearTimeout(b),b=void 0,window.innerWidth>=750&&h();var n=t.target.id.replace("close-","");window.innerWidth<750&&(document.body.style.overflowY="auto"),document.getElementById(n).style.display="none"},x=i.querySelectorAll(".close-infos-btn"),w=0;w<x.length;w++)x[w].addEventListener("click",_,!1);window.addEventListener("scroll",function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?window.innerWidth<750&&(i.querySelector("#toTop").style.display="block"):i.querySelector("#toTop").style.display="none"},!1),i.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="search-container" class="w3-content" style="max-width: 1136px">\n\t<div id="top-page-header" class="w3-light-gray">recherche</div>\n\t<% if(nores!==\'\') {%>\n\t\t<div id="nores" class="w3-padding-32 w3-animate-opacity">\n\t\t\t<p><%= nores %></p>\n\t\t</div<\n\t<%}%>\n\t<div id="booksList" class="w3-padding-64 w3-animate-opacity">\n\t\t<div class=\'w3-row\'>\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/search/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="w3-col" style="text-align: center">\n\t\t\t\t\t<div id="paper" id="paper" style="background-color: <%- books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t<div id="<%= books[i].id %>" class="book" style="<%=books[i].styles.cover %>">\n\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t<p class="title" style="<%=books[i].styles.title %>">\n\t\t\t\t\t\t\t<%- books[i].title %>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t<p class="subtitle1" style="<%=books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t<p class="subtitle1" style="<%=books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<p class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t<span class="span1">L&rsquo;Intermédiaire</span><br/>\n\t\t\t\t\t\t\t<span class="span2">éditions</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btn" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" \n\t\t\t\t\t\t        class="open-infos-btn align-right w3-btn w3-ripple w3-hover-none" >+ d\'infos</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t</div>\n\t\n\t</div>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="search-container" class="w3-content" style="max-width: 1136px">\n\t<div id="top-page-header" class="w3-light-gray">recherche</div>\n\t'),__stack.lineno=3,""!==nores&&(buf.push('\n\t\t<div id="nores" class="w3-padding-32 w3-animate-opacity">\n\t\t\t<p>',escape((__stack.lineno=5,nores)),"</p>\n\t\t</div<\n\t"),__stack.lineno=7),buf.push('\n\t<div id="booksList" class="w3-padding-64 w3-animate-opacity">\n\t\t<div class=\'w3-row\'>\n\t\t\t'),__stack.lineno=10;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="w3-modal" style="background-color: rgba(0,0,0,0.1)">\n\t<div class="w3-modal-content w3-card w3-animate-top" style="max-width: 500px">\n\t\t<div class="w3-container w3-padding-16 ">\n\t\t\t  <p><b>Titre : </b>',(__stack.lineno=4,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=5,books[t].subtitle1&&(n.push("\n\t\t\t\t<p><b>Sous-titre : </b>",(__stack.lineno=6,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=7),n.push("\n\t\t\t  "),__stack.lineno=8,books[t].subtitle2&&(n.push("\n\t\t\t\t<p><b>Sous-sous-titre : </b>",(__stack.lineno=9,books[t].subtitle2),"</p>\n\t\t\t  "),__stack.lineno=10),n.push("\n\t\t\t  <p><b>Année de parution : </b>",(__stack.lineno=11,books[t].year),"</p>\n\t\t\t  "),__stack.lineno=12,books[t].authors.length>1){n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=17;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t",(__stack.lineno=19,books[t].authors[e].name)," (",(__stack.lineno=19,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=19,books[t].authors[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=21;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=24}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=25,books[t].authors[0].name)," (",(__stack.lineno=25,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=25,books[t].authors[0].death),")</p>\n\t\t\t  "),__stack.lineno=26);if(n.push("\n\t\t\t  "),__stack.lineno=27,books[t].contribs.length>1){for(n.push("\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t"),__stack.lineno=32,e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=34,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=35,books[t].contribs[e].name)," (",(__stack.lineno=35,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=35,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t"),__stack.lineno=37;n.push("\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=40}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=46,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t",(__stack.lineno=47,books[t].contribs[0].name)," (",(__stack.lineno=47,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=47,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</p>\n\t\t\t  "),__stack.lineno=51);return n.push('\n\t\t\t  <p class="book-source"><b>Source : </b>\n\t\t\t\t  <ul>\n\t\t\t\t\t  <li>&Eacute;diteur : ',(__stack.lineno=54,books[t].source.publisher),"</li>\n\t\t\t\t\t  <li>Année de parution : ",(__stack.lineno=55,books[t].source.year),"</li>\n\t\t\t\t  </ul>\n\t\t\t  </p>\n\t\t\t  "),__stack.lineno=58,books[t].description&&(n.push("\n\t\t\t  <div>",(__stack.lineno=59,books[t].description),"</div>\n\t\t\t  "),__stack.lineno=60),n.push('\n\t\t</div>\n\t\t<div id=footer class="w3-container w3-border-bottom">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=63,books[t].id)),'" \n\t\t\t\t\tclass="close-infos-btn w3-button w3-text-gray w3-hover-none w3-hover-text-black w3-display-bottomright"\n\t\t\t\t\t>Fermer</button>\n\t\t</div>\n\t</div>\n</div>\n'),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="w3-col" style="text-align: center">\n\t\t\t\t\t<div id="paper" id="paper" style="background-color: ',(__stack.lineno=15,books[t].styles.color),"; background-image: url(",(__stack.lineno=15,books[t].styles.image),')">\n\t\t\t\t\t<div id="',escape((__stack.lineno=16,books[t].id)),'" class="book" style="',escape((__stack.lineno=16,books[t].styles.cover)),'">\n\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=17,books[t].styles.author)),'">',(__stack.lineno=17,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t<p class="title" style="',escape((__stack.lineno=18,books[t].styles.title)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].title),"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=21,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=22,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=23,books[t].subtitle1),"</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=25),buf.push("\n\t\t\t\t\t\t"),__stack.lineno=26,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=27,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t',(__stack.lineno=28,books[t].subtitle2),"</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t"),__stack.lineno=30),buf.push('\n\t\t\t\t\t\t<p class="logo" style="',escape((__stack.lineno=31,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t<span class="span1">L&rsquo;Intermédiaire</span><br/>\n\t\t\t\t\t\t\t<span class="span2">éditions</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btn" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=38,books[t].id)),'" \n\t\t\t\t\t\t        class="open-infos-btn align-right w3-btn w3-ripple w3-hover-none" >+ d\'infos</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=43;buf.push("\n\t\t</div>\n\t\n\t</div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#search-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Times New Roman", Georgia, sans-serif;\n\tfont-size: 1em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1px;\n\tline-height: 25px;\n\twidth: 98px;\n\tmargin: auto;\n\tmargin-top: 32px;\n\tdisplay: block;\n}\n\n@media only screen and (min-width: 768px) {\n\t#search-container #top-page-header {\n\t\tdisplay: none;\n\t}\n}\n\n#search-container #booksList {\n\tmax-width: 568px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 853px) {\n\t#search-container #booksList {\n\t\tmax-width: 852px;\n\t}\n}\n\n@media only screen and (min-width: 1137px) {\n\t#search-container #booksList {\n\t\tmax-width: 1136px;\n\t}\n}\n\n#search-container .w3-col {\n\twidth: 100%;\n\theight: 408px;\n}\n\n@media only screen and (min-width: 600px) {\n\t#search-container .w3-col {\n\t\twidth: 284px;\n\t}\n}\n\n#search-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#search-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#search-container .book .logo .span1 {\n\tfont-variant: small-caps;\n\tfont-style: normal;\n}\n\n#search-container #book-btn {\n\twidth: 238px;\n\theight: 40px;\n\tmargin: auto;\n\tmargin-top: 8px;\n}\n\n#search-container #book-btn button {\n\tfont-family: "Times New Roman", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1.5px;\n\tbackground-color: transparent;\n}\n\n/*\nMODAL (INFOS)\n*/\n#search-container .w3-modal {\n\tfont-family: "Verdana", serif;\n}\n\n#search-container .w3-modal #footer {\n\tpadding-top: 16px;\n}\n\n#search-container .w3-modal .close-infos-btn {\n\tfont-size: 1.1em;\n\tfont-family: "Verdana", serif;\n\tletter-spacing: 1px;\n}\n\n#search-container .w3-modal p {\n\tmargin: 0px;\n\tmargin-top: 8px;\n}\n\n#search-container .w3-modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#search-container .w3-modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#nores {\n\ttext-align: center;\n}\n\n#nores p {\n\tfont-family: "Times New Roman", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 1px;\n}\n\n',""])},function(t,n,e){var o=e(115);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a(e(2));function a(t){return t&&t.__esModule?t:{default:t}}a(e(0)),a(e(116));var i=e(114);n.default=function(t){var n=t,e=location.hash.replace(/#\/search\?q\=/,"").replace("'","’"),a="";if(e.split("").length<3)return a="Aucun résultat.",void(n.innerHTML=i({books:[],nores:a}));for(var s=new RegExp(e,"gi"),r=o.default.getData("books").filter(function(t){return!0===t.visible}),l=r.filter(function(t){return t.title.replace("&nbsp;"," ").match(s)}),u=o.default.getData("authors").filter(function(t){return!0===t.visible}).filter(function(t){return t.name.replace("&nbsp;"," ").match(s)}),c=0;c<u.length;c++){for(var p=u[c],d=function(t){var n=p.contribs[t].book,e=r.filter(function(t){return t.id===n.id});e[0]&&!0===e[0].visible&&l.push(e[0])},b=0;b<p.contribs.length;b++)d(b);var f=function(t){var n=p.books[t],e=r.filter(function(t){return t.id===n.id});e[0]&&!0===e[0].visible&&l.push(e[0])};for(b=0;b<p.books.length;b++)f(b)}if(0===l.length)return a="Aucun résultat.",void(n.innerHTML=i({books:[],nores:a}));var h=function(t){var n=o.default.getData("books",t.currentTarget.id).path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+n+"/read"},m=function(t){var n=t.target.id.replace("open-","");document.getElementById(n).style.display="block"},g=function(t){var n=t.target.id.replace("close-","");document.getElementById(n).style.display="none"};n.innerHTML=i({books:l.reverse(),nores:a});var v=document.querySelector("#search-container");if(void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var y=o.default.getData("book");document.getElementById(y).scrollIntoView(!0);var k=document.getElementsByTagName("html")[0];k.scrollTop=k.scrollTop-30}for(var _=v.querySelectorAll(".book"),x=0;x<_.length;x++)_[x].addEventListener("click",h,!1);for(var w=v.querySelectorAll(".open-infos-btn"),S=0;S<w.length;S++)w[S].addEventListener("click",m,!1);for(var E=v.querySelectorAll(".close-infos-btn"),T=0;T<E.length;T++)E[T].addEventListener("click",g,!1)}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="home-container" class="fade">\n\t<div id="top-page-header">nouveautés</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\n\t\t\t<% for(var i=0; i<books.length; i++) {%>\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t<%- include src/components/home/infos-modal.ejs -%>\n\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_<%= books[i].id %>">\n\t\t\t\t\t<div id="paper" style="background-color: <%- books[i].styles.color %>; background-image: url(<%- books[i].styles.image %>)">\n\t\t\t\t\t\t<div id="<%= books[i].id %>" class="book" style="<%= books[i].styles.cover %>">\n\t\t\t\t\t\t\t<p class="author" style="<%=books[i].styles.author %>"><%- books[i].authorDisplay %></p>\n\t\t\t\t\t\t\t<p class="title" style="<%-books[i].styles.title %>">\n\t\t\t\t\t\t\t\t<%- books[i].title %>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% if(books[i].subtitle1) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle1 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle1 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if(books[i].subtitle2) {%>\n\t\t\t\t\t\t\t<p class="subtitle1" style="<%= books[i].styles.subtitle2 %>">\n\t\t\t\t\t\t\t\t<%- books[i].subtitle2 %></a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<div class="logo" style="<%=books[i].styles.logo %>">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-<%= books[i].id %>" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t<% } %>\n\t\t\t<div id="dots">\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t</div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t<%- include src/components/footer.ejs -%>\n\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n',filename:"."};function rethrow(t,n,e,o){var a=n.split("\n"),i=Math.max(o-3,0),s=Math.min(a.length,o+3),r=a.slice(i,s).map(function(t,n){var e=n+i+1;return(e==o?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=e,t.message=(e||"ejs")+":"+o+"\n"+r+"\n\n"+t.message,t}try{var buf=[];with(locals||{})!function(){buf.push('<div id="home-container" class="fade">\n\t<div id="top-page-header">nouveautés</div>\n\t<div id="booksList-container">\n\t\t<div id="booksList">\n\n\t\t\t'),__stack.lineno=6;for(var t=0;t<books.length;t++)buf.push("\n\t\t\t\t\n\t\t\t\t\x3c!-- MODAL (INFOS) --\x3e\n\t\t\t\t"+function(){var n=[];if(n.push('<div id="infos-',escape((__stack.lineno=1,books[t].id)),'" class="modal">\n\t<div class="modal-content w3-card animate-top">\n\t\t<div id="infos-header">\n\t\t\t<button id="close-infos-',escape((__stack.lineno=4,books[t].id)),'" type="button" class="btn close-infos-btn">&times;</button>\n\t\t\t<p>',(__stack.lineno=5,books[t].authorDisplay),'</p>\n\t\t\t<p class="text-uppercase">',(__stack.lineno=6,books[t].title),"</p>\n\t\t\t  "),__stack.lineno=7,books[t].subtitle1&&(n.push("\n\t\t\t\t<p>",(__stack.lineno=8,books[t].subtitle1),"</p>\n\t\t\t  "),__stack.lineno=9),n.push("\n\t\t\t  "),__stack.lineno=10,books[t].subtitle2&&(n.push('\n\t\t\t\t<p class="text-small-caps">',(__stack.lineno=11,books[t].subtitle2),"</p>\n\t\t\t "),__stack.lineno=12),n.push('\n\t\t</div>\n\t\t<div id="content">\n\t\t\t  '),__stack.lineno=15,books[t].description&&(n.push('\n\t\t\t  <div class="description">',(__stack.lineno=16,replaceLines(books[t].description)),"</div>\n\t\t\t  "),__stack.lineno=17),n.push('\n\t\t\t  <div class="padding-8">\n\t\t\t\t  <p><b>Année de parution : </b>',(__stack.lineno=19,books[t].year),"</p>\n\t\t\t\t  "),__stack.lineno=20,books[t].authors.length>1){n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Auteurs :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=25;for(var e=0;e<books[t].authors.length;e++)n.push("\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=27,books[t].authors[e].name)," (",(__stack.lineno=27,books[t].authors[e].birth),"&nbsp;&ndash; ",(__stack.lineno=27,books[t].authors[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=29;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=32}else 1===books[t].authors.length&&(n.push("\n\t\t\t\t\t\t<p><b>Auteur : </b>",(__stack.lineno=33,books[t].authors[0].name)," (",(__stack.lineno=33,books[t].authors[0].birth),"&nbsp;&ndash; ",(__stack.lineno=33,books[t].authors[0].death),")</p>\n\t\t\t\t  "),__stack.lineno=34);if(n.push("\n\t\t\t\t  "),__stack.lineno=35,books[t].contribs.length>1){for(n.push("\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contributions :</b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t"),__stack.lineno=40,e=0;e<books[t].contribs.length;e++)n.push('\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=42,books[t].contribs[e].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=43,books[t].contribs[e].name)," (",(__stack.lineno=43,books[t].contribs[e].birth),"&nbsp;&ndash; ",(__stack.lineno=43,books[t].contribs[e].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),__stack.lineno=45;n.push("\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=48}else 1===books[t].contribs.length&&(n.push('\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span><b>Contribution : </b></span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="contrib-role">',(__stack.lineno=54,books[t].contribs[0].role)," : </span>\n\t\t\t\t\t\t\t\t\t",(__stack.lineno=55,books[t].contribs[0].name)," (",(__stack.lineno=55,books[t].contribs[0].birth),"&nbsp;&ndash; ",(__stack.lineno=55,books[t].contribs[0].death),")\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</p>\n\t\t\t\t  "),__stack.lineno=59);for(n.push('\n\t\t\t\t  <p class="book-source">\n\t\t\t\t  '),__stack.lineno=61,books[t].sources.length>1?(n.push("\n\t\t\t\t\t<b>Sources :</b>\n\t\t\t\t  "),__stack.lineno=63):(n.push("\n\t\t\t\t\t<b>Source :</b>\n\t\t\t\t  "),__stack.lineno=65),n.push("\n\t\t\t\t\t<ul>\n\t\t\t\t\t"),__stack.lineno=67,e=0;e<books[t].sources.length;e++)n.push("\n\t\t\t\t\t\t<li><span>",(__stack.lineno=68,books[t].sources[e]),"</span></li>\n\t\t\t\t\t"),__stack.lineno=69;return n.push("\n\t\t\t\t\t</ul>\n\t\t\t\t  </p>\n\t\t\t  </div>\n\t\t</div>\n\t</div>\n</div>\n"),n.join("")}()+'\t\t\t\t\n\t\t\t\t<div class="slide fade" id="slide_',escape((__stack.lineno=10,books[t].id)),'">\n\t\t\t\t\t<div id="paper" style="background-color: ',(__stack.lineno=11,books[t].styles.color),"; background-image: url(",(__stack.lineno=11,books[t].styles.image),')">\n\t\t\t\t\t\t<div id="',escape((__stack.lineno=12,books[t].id)),'" class="book" style="',escape((__stack.lineno=12,books[t].styles.cover)),'">\n\t\t\t\t\t\t\t<p class="author" style="',escape((__stack.lineno=13,books[t].styles.author)),'">',(__stack.lineno=13,books[t].authorDisplay),'</p>\n\t\t\t\t\t\t\t<p class="title" style="',(__stack.lineno=14,books[t].styles.title),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=15,books[t].title),"\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=17,books[t].subtitle1&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=18,books[t].styles.subtitle1)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=19,books[t].subtitle1),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=21),buf.push("\n\t\t\t\t\t\t\t"),__stack.lineno=22,books[t].subtitle2&&(buf.push('\n\t\t\t\t\t\t\t<p class="subtitle1" style="',escape((__stack.lineno=23,books[t].styles.subtitle2)),'">\n\t\t\t\t\t\t\t\t',(__stack.lineno=24,books[t].subtitle2),"</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t"),__stack.lineno=26),buf.push('\n\t\t\t\t\t\t\t<div class="logo" style="',escape((__stack.lineno=27,books[t].styles.logo)),'">\n\t\t\t\t\t\t\t\t<p class="span1">&#8916;</p>\n\t\t\t\t\t\t\t\t<p class="span2">équivoques</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t   </div>\n\t\t\t\t   <div id="book-btns" >\n\t\t\t\t\t\t<button id="open-infos-',escape((__stack.lineno=34,books[t].id)),'" class="open-infos-btn btn" >Fiche</button>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t'),__stack.lineno=38;buf.push('\n\t\t\t<div id="dots">\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t\t<span class="dot"></span>\n\t\t\t</div>\n\t\t\t<button id="previous" type="button" class="btn">&lt;</button>\n\t\t\t<button id="next" type="button" class="btn">&gt;</button>\n\t\t</div>\n\t</div>\n\t\x3c!-- FOOTER --\x3e\n\t'+function(){var t=[];return t.push('<div id="footer">\n\t<div id="brand" class="padding-48">\n\t\t<p id="logo">&#8916;</p>\n\t\t<p id="name">&eacute;quivoques</p>\n\t</div>\n\t<p id="mention">Tous les textes présentés appartiennent au domaine public et sont libres de droits.</p>\n</div>\n'),t.join("")}()+'\t<button id="toTop" type="button" class="btn card-2"><i class="material-icons">&#xE5D8;</i></button>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,o=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var a,i=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?e+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(t,n,e){(t.exports=e(9)(!1)).push([t.i,'#home-container {\n\tmax-width: 750px;\n\tmargin: auto;\n}\n\n#home-container #top-page-header {\n\ttext-align: center;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.2em;\n\tfont-variant: small-caps;\n\tletter-spacing: 4px;\n\tline-height: 25px;\n\tmargin: auto;\n\tdisplay: block;\n\tpadding: 32px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #top-page-header {\n\t\tfont-size: 1.4em;\n\t\tpadding: 48px 0px;\n\t}\n}\n\n#home-container #book-btns {\n\twidth: 100%;\n\tposition: relative;\n\theight: 37px;\n}\n\n#home-container .open-infos-btn {\n\tfont-family: "Vollkorn", Georgia, serif;\n\tfont-size: 1em;\n\tletter-spacing: 1px;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0px;\n\tbottom: 0px;\n}\n\n\n#home-container #booksList-container {\n\twidth: 100%;\n\tpadding-bottom: 0px;\n\tmargin: auto;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#home-container #booksList-container {\n\t\twidth: 750px;\n\t}\n}\n\n#home-container #booksList {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tpadding: 0px 0px 0px 0px;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #booksList {\n\t\theight: 460px;\n\t}\n}\n\n#home-container .slide {\n\tposition: relative;\n\twidth: 250px;\n\tmargin: auto;\n\tmargin-bottom: 48px;\n\tdisplay: block;\n\ttext-align: center;\n}\n\n@media only screen and (min-width: 750px) {\n\t\n\t#home-container .slide {\n\t\tmargin-bottom: 0px;\n\t\tdisplay: none;\n\t}\n}\n\n#home-container #paper {\n\twidth: 250px;\n\theight: 340px;\n\tmargin:auto;\n}\n\n#home-container .book {\n\twidth: 250px;\n\theight: 340px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#home-container .book {\n\tcursor: default;\n}\n\n#home-container .book .logo .span1 {\n\tfont-size: 2em;\n\tmargin-bottom: 16px;\n}\n\n#home-container .book .logo .span2 {\n\tfont-variant: small-caps;\n}\n\n#home-container #previous {\n\tposition: absolute;\n\ttop: 170px;\n\tleft: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n#home-container #next {\n\tposition: absolute;\n\ttop: 170px;\n\tright: -100px;\n\tmargin-top: -25px;\n\twidth: 50px;\n\theight: 50px;\n\tfont-family: "Vollkorn", Georgia, sans-serif;\n\tfont-size: 1.6em;\n\tbackground-color: transparent;\n\tdisplay: none;\n}\n\n@media only screen and (min-width: 750px) {\n\t#home-container #previous {\n\t\tdisplay: inline-block;\n\t}\n\n\t#home-container #next {\n\t\tdisplay: inline-block;\n\t}\n}\n\n#home-container #dots {\n\twidth: 100%;\n\ttext-align: center;\n\tdisplay: none;\n\tpadding: 32px 0px 32px 0px;\n}\n\n#home-container .dot {\n\tcursor:pointer;\n\theight: 15px;\n\twidth: 15px;\n\tmargin: 0 2px;\n\tborder: 1px solid #333;\n\tbackground-color: transparent;\n\tborder-radius: 50%;\n\tdisplay: inline-block;\n\ttransition: background-color 0.6s ease;\n}\n\n#home-container .dot.active, #home-container .dot:hover {\n\tbackground-color: #333;\n}\n\n@media only screen and (min-width: 750px) {\n\n\t#home-container #dots {\n\t\tdisplay: block;\n\t}\n\n}\n\n/*\nMODAL (INFOS)\n*/\n\n#home-container .modal {\n\tfont-family: \'Georgia\', sans-serif;\n\tdisplay: none;\n}\n\n#home-container .modal-content {\n\tmax-width: 500px;\n\tmax-height: 90%;\n\toverflow: auto;\n}\n\n#home-container .modal-content div {\n\tpadding: 8px;\n}\n\n#home-container .modal #infos-header {\n\tposition: relative;\n\tpadding: 16px;\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: center;\n}\n\n#home-container .modal .close-infos-btn {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tline-height: 27px;\n\tfont-size: 2em;\n\tfont-family: \'Georgia\', sans-serif;\n\tcolor: #bbb;\n\tpadding: 8px 16px;\n}\n\n#home-container .modal .description {\n\tborder-bottom: 1px solid #ddd;\n\ttext-align: justify;\n\tpadding-top: 8px;\n\tpadding-bottom: 16px;\n}\n\n#home-container .modal p {\n\tmargin: 0px;\n\tpadding: 8px;\n}\n\n#home-container .modal ul {\n\tmargin: 0px;\n\tpadding-left: 10px;\n\tlist-style-type: none;\n}\n\n#home-container .modal ul li {\n\tpadding: 4px;\n}\n\n#home-container .modal .contrib-role {\n\ttext-transform: capitalize;\n}\n\n#home-container #toTop {\n\tdisplay: none;\n\tposition: fixed;\n\tbottom: 8px;\n\tright: 8px;\n\tpadding: 8px 8px;\n\tbackground-color: #fafafa;\n\t-webkit-backface-visibility: hidden;\n}\n',""])},function(t,n,e){var o=e(120);"string"==typeof o&&(o=[[t.i,o,""]]);e(8)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(t.exports=o.locals)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(2)),a=i(e(0));function i(t){return t&&t.__esModule?t:{default:t}}i(e(121));var s=e(118);n.default=function(t){var n=t,e=o.default.getData("books").filter(function(t){return t.visible}).reverse().slice(0,6);a.default.setHTML("title","&Eacute;quivoques"),a.default.setAttributeContent("[name=title]","content","Équivoques&ensp;&ndash;&ensp;Textes en ligne"),a.default.setAttributeContent("[name=description]","content","Le site de lecture en ligne"),a.default.setAttributeContent("[name=author]","content","Équivoques"),n.innerHTML=s({books:e,replaceLines:a.default.replaceLines});for(var i=document.querySelector("#home-container"),r=i.querySelectorAll(".slide"),l=i.querySelectorAll(".dot"),u=void 0,c=void 0,p=function(t){clearTimeout(c),c=void 0,u===r.length-1?u=0:u+=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(l[n],"active");r[u].style.display="block",a.default.addClass(l[u],"active"),d()},d=function(){c=setTimeout(p,1e4)},b=function(t){l[t].addEventListener("click",function(n){clearTimeout(c),c=void 0,u=t;for(var e=0;e<r.length;e++)r[e].style.display="none",a.default.removeClass(l[e],"active");r[u].style.display="block",a.default.addClass(l[u],"active"),d()},!1)},f=0;f<l.length;f++)b(f);if(i.querySelector("#previous").addEventListener("click",function(t){clearTimeout(c),c=void 0,0===u?u=r.length-1:u-=1;for(var n=0;n<r.length;n++)r[n].style.display="none",a.default.removeClass(l[n],"active");r[u].style.display="block",a.default.addClass(l[u],"active"),d()},!1),i.querySelector("#next").addEventListener("click",p,!1),window.innerWidth>=750){if(void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var h=o.default.getData("book");for(f=0;f<r.length;f++){if(r[f].id.replace(/slide_/,"")===h){u=f;break}u=0}}else u=0;r[u].style.display="block",a.default.addClass(l[u],"active"),d()}else clearTimeout(c),c=void 0;if(window.addEventListener("resize",function(){if(clearTimeout(c),c=void 0,window.innerWidth<750)for(var t=0;t<r.length;t++)r[t].style.display="block";else{for(var n=0;n<r.length;n++)r[n].style.display="none";void 0===u&&(u=0),r[u].style.display="block",a.default.addClass(l[u],"active"),d()}}),void 0!==o.default.getData("location").prevLocation&&o.default.getData("location").prevLocation.match(/\/read$/)){var m=o.default.getData("book"),g=document.getElementById(m);g&&(g.scrollIntoView(!0),document.body.scrollTop=document.body.scrollTop-40,document.documentElement.scrollTop=document.documentElement.scrollTop-40)}for(var v=function(t){clearTimeout(c),c=void 0;var n=o.default.getData("books",t.currentTarget.id).path.replace(/^\/books\/[^\/]+/,"");location.hash="#"+n+"/read"},y=i.querySelectorAll(".book"),k=0;k<y.length;k++)y[k].addEventListener("click",v,!1);for(var _=function(t){clearTimeout(c),c=void 0;var n=t.target.id.replace("open-","");window.innerWidth<750&&(document.body.style.overflowY="hidden"),document.getElementById(n).style.display="block"},x=i.querySelectorAll(".open-infos-btn"),w=0;w<x.length;w++)x[w].addEventListener("click",_,!1);for(var S=function(t){clearTimeout(c),c=void 0,window.innerWidth>=750&&d();var n=t.target.id.replace("close-","");window.innerWidth<750&&(document.body.style.overflowY="auto"),document.getElementById(n).style.display="none"},E=i.querySelectorAll(".close-infos-btn"),T=0;T<E.length;T++)E[T].addEventListener("click",S,!1);window.addEventListener("scroll",function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?window.innerWidth<750&&(i.querySelector("#toTop").style.display="block"):i.querySelector("#toTop").style.display="none"},!1),i.querySelector("#toTop").addEventListener("click",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},!1)}},function(t,n,e){"use strict";var o=e(5);t.exports=o,o.enableSynchronous=function(){o.prototype.isPending=function(){return 0==this.getState()},o.prototype.isFulfilled=function(){return 1==this.getState()},o.prototype.isRejected=function(){return 2==this.getState()},o.prototype.getValue=function(){if(3===this._83)return this._18.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._18},o.prototype.getReason=function(){if(3===this._83)return this._18.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._18},o.prototype.getState=function(){return 3===this._83?this._18.getState():-1===this._83||-2===this._83?0:this._83}},o.disableSynchronous=function(){o.prototype.isPending=void 0,o.prototype.isFulfilled=void 0,o.prototype.isRejected=void 0,o.prototype.getValue=void 0,o.prototype.getReason=void 0,o.prototype.getState=void 0}},function(t,n,e){"use strict";var o=e(31),a=[],i=[],s=o.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function r(t){var n;(n=a.length?a.pop():new l).task=t,o(n)}function l(){this.task=null}t.exports=r,l.prototype.call=function(){try{this.task.call()}catch(t){r.onerror?r.onerror(t):(i.push(t),s())}finally{this.task=null,a[a.length]=this}}},function(t,n,e){"use strict";var o=e(5),a=e(124);t.exports=o,o.denodeify=function(t,n){return"number"==typeof n&&n!==1/0?function(t,n){for(var e=[],a=0;a<n;a++)e.push("a"+a);var s=["return function ("+e.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(e).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(o,t)}(t,n):function(t){for(var n=Math.max(t.length-1,3),e=[],a=0;a<n;a++)e.push("a"+a);var s=["return function ("+e.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+n+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",e.concat(["extra"]).map(function(t,n){return"case "+n+":res = fn.call("+["self"].concat(e.slice(0,n)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(o,t)}(t)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";o.nodeify=function(t){return function(){var n=Array.prototype.slice.call(arguments),e="function"==typeof n[n.length-1]?n.pop():null,i=this;try{return t.apply(this,arguments).nodeify(e,i)}catch(t){if(null===e||void 0===e)return new o(function(n,e){e(t)});a(function(){e.call(i,t)})}}},o.prototype.nodeify=function(t,n){if("function"!=typeof t)return this;this.then(function(e){a(function(){t.call(n,null,e)})},function(e){a(function(){t.call(n,e)})})}},function(t,n,e){"use strict";var o=e(5);t.exports=o;var a=c(!0),i=c(!1),s=c(null),r=c(void 0),l=c(0),u=c("");function c(t){var n=new o(o._44);return n._83=1,n._18=t,n}o.resolve=function(t){if(t instanceof o)return t;if(null===t)return s;if(void 0===t)return r;if(!0===t)return a;if(!1===t)return i;if(0===t)return l;if(""===t)return u;if("object"==typeof t||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new o(n.bind(t))}catch(t){return new o(function(n,e){e(t)})}return c(t)},o.all=function(t){var n=Array.prototype.slice.call(t);return new o(function(t,e){if(0===n.length)return t([]);var a=n.length;function i(s,r){if(r&&("object"==typeof r||"function"==typeof r)){if(r instanceof o&&r.then===o.prototype.then){for(;3===r._83;)r=r._18;return 1===r._83?i(s,r._18):(2===r._83&&e(r._18),void r.then(function(t){i(s,t)},e))}var l=r.then;if("function"==typeof l)return void new o(l.bind(r)).then(function(t){i(s,t)},e)}n[s]=r,0==--a&&t(n)}for(var s=0;s<n.length;s++)i(s,n[s])})},o.reject=function(t){return new o(function(n,e){e(t)})},o.race=function(t){return new o(function(n,e){t.forEach(function(t){o.resolve(t).then(n,e)})})},o.prototype.catch=function(t){return this.then(null,t)}},function(t,n,e){"use strict";var o=e(5);t.exports=o,o.prototype.finally=function(t){return this.then(function(n){return o.resolve(t()).then(function(){return n})},function(n){return o.resolve(t()).then(function(){throw n})})}},function(t,n,e){"use strict";var o=e(5);t.exports=o,o.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";t.exports=e(5),e(128),e(127),e(126),e(125),e(123)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=d(e(0)),a=d(e(2)),i=d(e(122)),s=d(e(117)),r=d(e(113)),l=d(e(109)),u=d(e(81)),c=d(e(77)),p=d(e(75));function d(t){return t&&t.__esModule?t:{default:t}}var b=e(34);n.default=function(){var t=function(t,n){var e=document.querySelector("#container");""===n||"#/"===n?(0,i.default)(e):n.match(/#\/search\?q=/)?(0,s.default)(e):"#/tobepublished"===n?(0,r.default)(e):n.match(/#\/[^\/]+\/read$/)?(0,l.default)(e):n.match(/#\/authors\?(search=(A-Z))?/)?(0,u.default)(e):n.match(/#\/admin/)&&"#/admin/login/"!==n?o.default.checkRole().then(function(t){var n=t;e.innerHTML="";var a=document.createElement("div");return a.innerHTML=b(),e.appendChild(a),o.default.activeLink(),n}).then(function(e){(0,p.default)(t,n,e)}).catch(function(t){location.hash="#/admin/login/"}):"#/admin/login/"===n?o.default.checkRole().then(function(t){location.hash="#/admin/"}).catch(function(t){(0,c.default)(e)}):location.hash="#/"},n=void 0,e=void 0;e=location.hash,a.default.setData("location",{prevLocation:n,newLocation:e}),t(n,e),o.default.activeLink(),window.addEventListener("hashchange",function(){n=e,e=location.hash,a.default.setData("location",{prevLocation:n,newLocation:e}),t(n,e),gtag("config","UA-113626382-1",{page_path:"/"+e}),o.default.activeLink()},!1)}},function(t,n,e){"use strict";var o,a,i=c(e(131)),s=c(e(2)),r=c(e(30)),l=c(e(0)),u=c(e(33));function c(t){return t&&t.__esModule?t:{default:t}}o=void 0,a=function(){(o=document.querySelector("body")).querySelector("#menu-open").addEventListener("click",function(){o.querySelector("#menu").style.display="block"},!1),o.querySelector("#menu-close").addEventListener("click",function(){o.querySelector("#menu").style.display="none"},!1);for(var t=o.querySelectorAll("#menu a"),n=0;n<t.length;n++)t[n].addEventListener("click",function(){setTimeout(function(){o.querySelector("#menu").style.display="none"},100)},!1);window.addEventListener("hashchange",function(){location.hash.match(/#\/[^\/]+\/read$/)?(l.default.addClass("#header","hidden"),l.default.addClass("#nav-bar-top","hidden"),l.default.addClass("#fullscreen","book"),l.default.addClass("#fullscreenexit","book")):(l.default.removeClass("#header","hidden"),l.default.removeClass("#nav-bar-top","hidden"),l.default.removeClass("#fullscreen","book"),l.default.removeClass("#fullscreenexit","book"),window.innerWidth<750?(l.default.addClass("#nav-bar-top","hidden"),l.default.removeClass("#menu-open","hidden")):(l.default.removeClass("#nav-bar-top","hidden"),l.default.addClass("#menu-open","hidden")))},!1),window.addEventListener("resize",function(){location.hash.match(/#\/[^\/]+\/read$/)||(window.innerWidth<750?(l.default.addClass("#nav-bar-top","hidden"),l.default.removeClass("#menu-open","hidden")):(l.default.removeClass("#nav-bar-top","hidden"),l.default.addClass("#menu-open","hidden"))),u.default.enabled&&(u.default.isFullscreen?(l.default.removeClass(i,"show"),l.default.addClass(s,"show")):(l.default.addClass(i,"show"),l.default.removeClass(s,"show")))},!1);var e=window.navigator.userAgent,a=r.default.getUserAgent();a&&a===e||(r.default.removeTableInfos(),r.default.setUserAgent(e));var i=document.querySelector("#fullscreen"),s=document.querySelector("#fullscreenexit");u.default.enabled||l.default.removeClass(i,"show"),i.addEventListener("click",function(t){u.default.enabled&&u.default.request()},!1),s.addEventListener("click",function(t){u.default.enabled&&u.default.exit()},!1)},window.addEventListener("DOMContentLoaded",function(){location.hash.match(/#\/[^\/]+\/read$/)?(l.default.addClass("#fullscreen","book"),l.default.addClass("#fullscreenexit","book")):window.innerWidth<750?(l.default.addClass("#nav-bar-top","hidden"),l.default.removeClass("#menu-open","hidden")):(l.default.removeClass("#nav-bar-top","hidden"),l.default.addClass("#menu-open","hidden")),l.default.ajax({method:"GET",url:"/init"}).then(function(t){var n=JSON.parse(t).books,e=JSON.parse(t).authors;return s.default.setData("books",n),s.default.setData("authors",e),l.default.ajax({method:"GET",url:"/users/currentuser"})}).then(function(t){var n=JSON.parse(t).user;return s.default.setData("currentUser",n),n.admin&&!0===n.admin?(l.default.removeClass("#admin-item","hidden"),l.default.removeClass("#menu-admin-item","hidden")):(l.default.addClass("#admin-item","hidden"),l.default.addClass("#menu-admin-item","hidden")),"done"}).then(function(t){return(0,i.default)(),"done"}).then(function(t){return a(),"done"}).catch(function(t){s.default.setData("currentUser",{}),l.default.addClass("#admin-item","hidden"),l.default.addClass("#menu-admin-item","hidden"),(0,i.default)(),a(),console.log(t)})},!1)}]);